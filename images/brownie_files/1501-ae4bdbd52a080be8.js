"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1501],{88925:function(n,e,t){var o=t(2784),r=t(52903);e.Z=n=>{let{isOpen:e,onClose:t,children:i}=n;const c=(0,o.useRef)(null),a=n=>{c.current.contains(n.target)||t()};return(0,o.useEffect)((()=>(e?document.addEventListener("mousedown",a):document.removeEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)})),[e]),(0,r.tZ)("div",{ref:c,children:i})}},31501:function(n,e,t){t.d(e,{c:function(){return k}});var o=t(95235),r=t(2784),i=t(56580),c=t(88925),a=t(28165),l=t(1429),s=t(35258),d=t(10074),u=t(87651),p=t(79245),f=t(28812),v=t(25448),b=t(16921),h=t(71852),y=t(69351),g=t(51717),m=t(70998),w=t(52903);function x(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}var Z={name:"1gpesis",styles:"display: flex; align-items: center"};const k=(0,r.memo)((n=>{let{recipeId:e,ownStyles:t,additionalText:k,previewMode:O,cookMenuIds:S=[]}=n;const E=(0,i.I0)(),C=(0,i.v9)((n=>{let{authorization:e}=n;return e.authorized})),{0:I,1:j}=(0,r.useState)(!1),{0:_,1:F}=(0,r.useState)(!1),{0:P,1:M}=(0,r.useState)(!0),{0:R,1:T}=(0,r.useState)(""),D=(0,i.v9)((n=>(0,g.SI)(n))),A=(0,i.v9)((n=>(0,g.MA)(n))),{allFavoriteRecipes:N=[]}=A,K=null!==N&&void 0!==N&&N.includes(e)?"removeFavoriteRecipe":"addFavoriteRecipe",z=async(n,e)=>{await(0,y.Gx)(e,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?x(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},n),"CHANGE_RECIPE_FAVORITES")(E),E({type:"MANAGE_RECIPE_FAVORITE_STATUS_SUCCESS",payload:{recipeId:n.recipeId,cookMenuId:n.cookMenuId}})},H=(0,r.useCallback)((()=>{(0,s.LV)(!0,E)}),[E]),X=async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(O)return;t&&t.preventDefault();const o={recipeId:e,favorite:!0};let r=null!==N&&void 0!==N&&N.includes(e)?"removeFavoriteRecipe":"addFavoriteRecipe";if(n){r=null!==S&&void 0!==S&&S.includes(Number(n))?"removeFavoriteRecipe":"addFavoriteRecipe",o.cookMenuId=n;const t=!(null!==S&&void 0!==S&&S.includes(Number(n)));E((0,l.fY)({recipeId:e,isAdd:t,cookMenuId:n}))}await z(o,r)},B=async()=>{try{const n=await(0,y.PH)("cookMenu",{name:R},"CREATE_COOKBOOK")(E);n.successful&&(await X(n.data.id),await(0,y.Xw)("cookMenus",0,10,{},"FETCH_COOK_MENU_LIST")(E)),T(""),F(!1),j(!1)}catch(n){console.error("Failed to create menu with name: ",R,". Error: ",n)}},L=Object.values(D).map((n=>{const{id:e,name:t}=n,o=null===S||void 0===S?void 0:S.includes(Number(e));return(0,w.tZ)("button",{type:"button",onClick:n=>X(e,n),css:(0,a.iv)("".concat(m.FD," ").concat(o&&"color: #af212b;"),"",""),children:(0,w.tZ)("div",{css:(0,a.iv)("white-space: nowrap; text-overflow: ellipsis; overflow: hidden; ".concat(o&&"color: red;"),"",""),children:t})},e)})),J=_?(0,w.BX)("div",{css:(0,a.iv)(m.D7,"",""),children:[(0,w.tZ)(b.Z,{value:R,onChange:n=>T(n),onKeyPress:n=>{"Enter"===n.key&&R&&R.length&&B()},placeholder:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u043d\u044e"}),(0,w.tZ)(d.Z,{disabled:!R,ownStyles:"color: ".concat(R?h.ZE:"#000"),onClick:B,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):(0,w.tZ)("button",{type:"button",css:(0,a.iv)(m.IS,"",""),onClick:()=>F(!0),children:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u043d\u044e"}),G=(0,r.useCallback)((()=>C?z({recipeId:e},K):H),[C,K,e]),U=(0,r.useCallback)((()=>{j(!1)}),[]);return(0,w.tZ)(c.Z,{onClose:U,isOpen:I,children:(0,w.BX)("div",{css:(0,a.iv)("".concat(m.nC,"; ").concat(t,";"),"",""),children:[(0,w.tZ)("button",{type:"button",onClick:G,css:(0,a.iv)(m.KJ,"",""),title:O?"\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",children:(0,w.BX)("div",{css:Z,children:[(0,w.tZ)(u.Z,{icon:null!==N&&void 0!==N&&N.includes(e)?"icon-bookmark-added":"icon-bookmark",color:"#af212b",ownStyles:m.Jy}),"".concat(null!==N&&void 0!==N&&N.includes(e)?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"," \u0432 \u043a\u043d\u0438\u0433\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432"),k]})}),(0,w.tZ)("button",{type:"button",onClick:C?async n=>{O||(n.preventDefault(),j(!I),F(!1),M(!0),0===Object.keys(D).length&&await(0,y.Xw)("cookMenus",0,20,{},"FETCH_COOK_MENU_LIST")(E),M(!1))}:H,css:(0,a.iv)("".concat(m.KJ,";  transition: 0.3s all; margin-left: 5px; ").concat(I&&"transform: rotate(180deg);"),"",""),title:O?"\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430":"\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u043d\u0438\u0433\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432",children:(0,w.tZ)(u.Z,{icon:"icon-caret-down",ownStyles:m.aZ})}),I&&(0,w.tZ)("div",{css:(0,a.iv)("".concat(m.er),"",""),children:(0,w.BX)(f.Z,{span:{xs:12},justification:"center",ownStyles:"margin: 0;",children:[(0,w.tZ)(v.Z,{children:(0,w.tZ)(f.Z,{span:{xs:12},justification:"center",ownStyles:"margin: 0;",children:(0,w.tZ)(p.Z,{type:"subHeader",size:[10,10],ownStyles:m.wc,children:"\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c \u0412 \u041c\u0415\u041d\u042e"})})}),(0,w.tZ)(v.Z,{children:(0,w.tZ)(f.Z,{span:{xs:12},ownStyles:"margin: 0;",children:P?(0,w.tZ)(u.Z,{icon:"icon-loader",ownStyles:"display: block; margin: 10px auto",spinner:!0}):(0,w.BX)(w.HY,{children:[L,J]})})})]})})]})})}))},70998:function(n,e,t){t.d(e,{D7:function(){return p},FD:function(){return d},IS:function(){return u},Jy:function(){return l},KJ:function(){return a},aZ:function(){return s},er:function(){return i},nC:function(){return r},wc:function(){return c}});var o=t(71852);const r="\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-width: 232.45px;\n  height: 30px;\n  padding: 0 5px 0 11px;\n\n  \n\n  border: 1px solid #e5e5e5;\n  border-radius: 2px;\n\n  button {\n    font: 10px/2 PT Serif,Georgia,serif;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n\n    cursor: pointer;\n\n    &:focus {\n      outline: none;\n    }\n\n    &:hover {\n      color: #000;\n    }\n  }\n",i="\n  position: absolute;\n  z-index: 16;\n  top: calc(100% + 4px);\n  left: 0;\n\n  width: 100%;\n\n  border: 1px solid #e5e5e5;\n  background-color: white;\n",c="\n  display: block; \n  padding: 9px 30px; \n  margin: 0;\n\n  font-family: PTSans, Helvetica, sans-serif; \n  font-weight: bold;  \n  text-align: left;\n",a="\n  apperance: none;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  background-color: transparent;\n",l="\n    padding-right: 10px;\n    width: 20px;\n    \n    &::before {\n        font-size: 12px;\n    }\n",s="\n    &::before {\n        font-size: 6px;\n    }\n",d="\n    ".concat(a,";\n    display: flex;\n    justify-content: flex-start;\n    width: 100%;\n    padding: 9px 30px;\n    \n    font-size: 10px;\n    \n    cursor: pointer;\n    \n    :hover {\n        background-color: #f9f9f9;\n    }\n"),u="\n    display: flex;\n    justify-content: flex-start;\n    width: 100%;\n    padding: 0 30px;\n    margin: 9px 0;\n\n    text-align: left;\n    color: ".concat(o.qF,";\n\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    outline: none;\n"),p="\n    margin: 8px 30px;\n    margin-left: 20px;\n\n    input {\n      padding: 0 10px;\n      margin-bottom: 10px;\n      outline: none;\n    }\n\n    button {\n      border: none;\n      background-color: transparent;\n      color: ".concat(o.qF,";\n\n      &:hover {\n        color: ").concat(o.ZE,";\n      }\n    }\n")}}]);