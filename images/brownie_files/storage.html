<!DOCTYPE html>
<!-- saved from url=(0055)https://rid.eda.ru/rambler-id-helper/2.2.5/storage.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title></title><meta name="viewport" content="width=device-width,initial-scale=1"></head><body><script>(()=>{"use strict";const e=(e,t={})=>{const{raw:r}=t;let o;try{const t=(()=>{const e={};if(document.cookie?.length){const t=document.cookie.split(";");for(let r,o=0,n=t.length;o<n;o++)r=t[o].replace(/^(\s|\u00A0)+/g,"").split("="),e[r[0]]=decodeURIComponent(r[1])}return e})()[e];o=r?t:JSON.parse(t??"")}catch{}return o??null},t="undefined"!=typeof window&&window.document&&"requestStorageAccess"in document&&"function"==typeof document.requestStorageAccess,r="id.lenta.ru",o=["secretmag","eda","lenta","afisha","champ","motor","quto","passion","ferra","lentaru","wmj","letidor","indicator","moslenta"],n={default:"id.rambler.ru",secretmag:"id.secretmag.ru",eda:"rid.eda.ru",lenta:r,afisha:"idrambler.afisha.ru",champ:"id.championat.com",motor:"id.motor.ru",quto:"id.quto.ru",passion:"id.passion.ru",ferra:"id.ferra.ru",lentaru:r,wmj:"id.wmj.ru",letidor:"id.letidor.ru",indicator:"id.indicator.ru",moslenta:"id.moslenta.ru",smailbox:"id.smailbox.ru"},i=e=>e.split(".").slice(-2).join(".");var a;!function(e){e.INSTALL="install",e.INSTALLED="installed",e.ERROR="error",e.REGISTER="register",e.LOGIN="login",e.SELECTPROFILE="selectprofile",e.OAUTHLOGIN="oauthlogin",e.OAUTHERROR="oautherror",e.LOGOUT="logout",e.CLOSE="close",e.REDIRECT="redirect",e.RESIZE="resize",e.LOADED="loaded",e.DESTROY="destroy",e.NAVIGATE="navigate",e.REQUEST_QR_CODE="request_qr_code",e.RESPONSE_QR_CODE="response_qr_code"}(a||(a={}));const s=[a.INSTALLED,a.REGISTER,a.CLOSE,a.REDIRECT,a.RESIZE,a.LOADED,a.NAVIGATE,a.REQUEST_QR_CODE,a.OAUTHERROR,a.SELECTPROFILE],d=(()=>{if("undefined"==typeof window)return"";const{hostname:e}=window.location,[r]=t?((e=o)=>[...new Set([n.default,...e.map((e=>n[e])).filter(Boolean)])])(Object.keys(n)).filter((t=>i(t)===i(e))):[];return r?`https://${r}`:"https://id.rambler.ru"})(),c="ramblerIdHelper",{hostname:l,pathname:u}=window.location,m=window.parent,E=navigator.userAgent.toLowerCase(),p=!(/(msie|trident|edge)/.test(E)||/safari/.test(E)&&!/chrome/.test(E));let f,g;const R=({key:e,newValue:t})=>{if(e===c&&t)try{const e=JSON.parse(t);e.emitter=c,m.postMessage(e,g)}catch(e){}};window.addEventListener("message",(({data:e,origin:t})=>{if(!e||"object"!=typeof e)return;const{emitter:r,...o}=e,n=e.eventType;r!==c||((e,t)=>{const r="https://id.rambler.ru"!==t||t!==d;return s.includes(e)&&r})(n,t)||(n!==a.INSTALL?p?((e,t,r={})=>{const{raw:o}=r;try{const r=o?String(t):JSON.stringify(t);window.localStorage.setItem(e,r)}catch{}})(c,o):((e,t,r={})=>{const{raw:o,expires:n,path:i,domain:a,samesite:s,secure:d}=r;try{let r;"number"==typeof n?(r=new Date,r.setTime(r.getTime()+24*n*60*60*1e3)):r=n;let c=`${e}=${encodeURIComponent(o?String(t):JSON.stringify(t))}`;c+=r?`; expires=${r.toUTCString()}`:"",c+=i?`; path=${i}`:"",c+=a?`; domain=${a}`:"",c+=s?`; samesite=${s}`:"",c+=d?"; secure":"",document.cookie=c}catch{}})(c,o,{domain:l,path:u,samesite:"none",secure:!0}):o.data instanceof Error||(g=o.data.providerOrigin??""))}),!1),p?window.addEventListener("storage",R,!1):(f=JSON.stringify(e(c)),setInterval((()=>{const t=JSON.stringify(e(c));f!==t&&(f=t,R({key:c,newValue:t}))}),1e3))})();
//# sourceMappingURL=/rambler-id-helper/2.2.5/storage.js.map</script></body></html>