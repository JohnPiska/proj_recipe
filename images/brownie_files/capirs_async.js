var SSPjs;!function(){var e,t,n={3866:function(e,t){"use strict";var n=function(){function e(e){this.regValidKey=new RegExp("([a-zA-Z0-9_-]{0,})","i"),this.hash=e||location.hostname}return e.prototype.isSupported=function(){return"object"==typeof document&&"string"==typeof document.cookie},e.prototype.setItem=function(e,t,n,r,i,o,a,s){void 0===e&&(e=!0),void 0===r&&(r=30),void 0===i&&(i="/"),void 0===o&&(o=location.hostname.split(".").slice(-2).join(".")),void 0===a&&(a="https:"===location.protocol),void 0===s&&(s=!0);try{if("boolean"==typeof e&&"string"==typeof t&&this.regValidKey.test(t)&&"string"==typeof n&&(""===n||this.regValidKey.test(n))&&"number"==typeof r&&"string"==typeof i&&"string"==typeof o&&-1!==location.hostname.indexOf(o)&&"boolean"==typeof a&&a===("https:"===location.protocol)){var c=document.createElement("a");if(c.href="http://"+o+i,c.hostname===o||c.pathname===i){if(!e||this.isSupported()){var u="";u+=s?this.hash+"_"+t:t;var l=new Date;l.setTime(l.getTime()+24*r*60*60*1e3);var p=l.toUTCString();return n=encodeURIComponent(n),document.cookie=u+"="+n+(p?"; expires="+p:"")+(i?"; path="+i:"")+(o?"; domain="+o:"")+(a?"; secure":""),this.getItem(e,t,s)===decodeURIComponent(n)}return!1}return!1}return!1}catch(e){return!1}},e.prototype.getItem=function(e,t,n){void 0===e&&(e=!0),void 0===n&&(n=!0);try{if("boolean"!=typeof e||"string"!=typeof t||!this.regValidKey.test(t))return!1;if(e&&!this.isSupported())return!1;n&&(t=this.hash+"_"+t);for(var r=document.cookie.split(";"),i=[],o=0;o<r.length;o++){var a=r[o],s=this._getCookieParts(a),c=s.left,u=s.right;c===t&&i.push(decodeURIComponent(u))}if(0===i.length)return!1;if(1===i.length)return i[0];try{var l=1/0,p=void 0;for(o=0;o<i.length;o++){var d=i[o].split(":")[1].split(".").length;d<l&&(l=d,p=i[o])}return p||!1}catch(e){return!1}}catch(e){return!1}},e.prototype.removeItem=function(e,t){void 0===e&&(e=!0);try{return!("boolean"!=typeof e||"string"!=typeof t||!this.regValidKey.test(t))&&(!(e&&!this.isSupported())&&(this.setItem(e,t,"",-86400),!1===this.getItem(e,t)))}catch(e){return!1}},e.prototype.getKeys=function(e){void 0===e&&(e=!0);try{if("boolean"==typeof e){if(!e||this.isSupported()){for(var t=[],n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r],o=this._getCookieParts(i).left;0===o.indexOf(this.hash)&&t.push(o.substr(this.hash.length+1))}return t}return[]}return[]}catch(e){return[]}},e.prototype.clear=function(e){void 0===e&&(e=!0);try{if("boolean"==typeof e){if(!e||this.isSupported()){var t=this.getKeys(e);if(t)for(var n=0;n<t.length;n++){var r=t[n];this.removeItem(e,r)}return 0===this.getKeys(e).length}return!0}return!1}catch(e){return!1}},e.prototype._getCookieParts=function(e){var t=e.indexOf("=");return t<0?{left:"",right:""}:{left:e.slice(0,t).trim(),right:e.slice(t+1,e.length).trim()}},e}();t.Z=n},1936:function(e){"use strict";var t=function(){var e=new Error("Delay aborted");return e.name="AbortError",e},n=function(e){var n=e.clearTimeout,r=e.setTimeout,i=e.willResolve;return function(e,o){var a,s,c,u=void 0===o?{}:o,l=u.value,p=u.signal;if(p&&p.aborted)return Promise.reject(t());var d=n||clearTimeout,f=function(){d(a),c(t())},h=new Promise((function(t,n){s=function(){p&&p.removeEventListener("abort",f),i?t(l):n(l)},c=n,a=(r||setTimeout)(s,e)}));return p&&p.addEventListener("abort",f,{once:!0}),h.clear=function(){d(a),a=null,s()},h}},r=n({willResolve:!0});r.reject=n({willResolve:!1}),r.range=function(e,t,n){return r(function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(e,t),n)},r.createWithTimers=function(e){var t=e.clearTimeout,r=e.setTimeout,i=n({clearTimeout:t,setTimeout:r,willResolve:!0});return i.reject=n({clearTimeout:t,setTimeout:r,willResolve:!1}),i},e.exports=r,e.exports.default=r},5073:function(e,t,n){"use strict";!function(e){for(var t=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e["".concat(n[r],"RequestAnimationFrame")],e.cancelAnimationFrame=e["".concat(n[r],"CancelAnimationFrame")]||e["".concat(n[r],"CancelRequestAnimationFrame")];e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=e.setTimeout((function(){n(r+i)}),i);return t=r+i,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}(window||n.g)},1924:function(e,t,n){"use strict";var r=n(210),i=n(5559),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},5559:function(e,t,n){"use strict";var r=n(8612),i=n(210),o=n(7771),a=n(4453),s=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||r.call(c,s),l=n(4429),p=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=u(r,c,arguments);return o(t,1+p(0,e.length-(arguments.length-1)),!0)};var d=function(){return u(r,s,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},3241:function(){
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],i=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},c=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},u=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=u[n]=[],p=function(){return new u(this)};if(s[n]=Error[n],l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==c(this,e+="")},l.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{-1===c(this,e=t[n]+"")&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(t=c(this,e=n[r]+"");-1!==t;)this.splice(t,1),o=!0,t=c(this,e)}while(++r<i);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},i.defineProperty){var d={get:p,enumerable:!0,configurable:!0};try{i.defineProperty(r,t,d)}catch(e){void 0!==e.number&&-2146823252!==e.number||(d.enumerable=!1,i.defineProperty(r,t,d))}}else i[n].__defineGetter__&&r.__defineGetter__(t,p)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())},8249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),l=a.enc={},p=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var p=0;p<c;p+=a)this._doProcessBlock(i,p);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(s.Hasher=h.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),r)},8214:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],f=e[t+2],h=e[t+3],v=e[t+4],m=e[t+5],g=e[t+6],b=e[t+7],y=e[t+8],w=e[t+9],_=e[t+10],S=e[t+11],E=e[t+12],k=e[t+13],O=e[t+14],T=e[t+15],x=o[0],P=o[1],I=o[2],A=o[3];x=u(x,P,I,A,a,7,s[0]),A=u(A,x,P,I,c,12,s[1]),I=u(I,A,x,P,f,17,s[2]),P=u(P,I,A,x,h,22,s[3]),x=u(x,P,I,A,v,7,s[4]),A=u(A,x,P,I,m,12,s[5]),I=u(I,A,x,P,g,17,s[6]),P=u(P,I,A,x,b,22,s[7]),x=u(x,P,I,A,y,7,s[8]),A=u(A,x,P,I,w,12,s[9]),I=u(I,A,x,P,_,17,s[10]),P=u(P,I,A,x,S,22,s[11]),x=u(x,P,I,A,E,7,s[12]),A=u(A,x,P,I,k,12,s[13]),I=u(I,A,x,P,O,17,s[14]),x=l(x,P=u(P,I,A,x,T,22,s[15]),I,A,c,5,s[16]),A=l(A,x,P,I,g,9,s[17]),I=l(I,A,x,P,S,14,s[18]),P=l(P,I,A,x,a,20,s[19]),x=l(x,P,I,A,m,5,s[20]),A=l(A,x,P,I,_,9,s[21]),I=l(I,A,x,P,T,14,s[22]),P=l(P,I,A,x,v,20,s[23]),x=l(x,P,I,A,w,5,s[24]),A=l(A,x,P,I,O,9,s[25]),I=l(I,A,x,P,h,14,s[26]),P=l(P,I,A,x,y,20,s[27]),x=l(x,P,I,A,k,5,s[28]),A=l(A,x,P,I,f,9,s[29]),I=l(I,A,x,P,b,14,s[30]),x=p(x,P=l(P,I,A,x,E,20,s[31]),I,A,m,4,s[32]),A=p(A,x,P,I,y,11,s[33]),I=p(I,A,x,P,S,16,s[34]),P=p(P,I,A,x,O,23,s[35]),x=p(x,P,I,A,c,4,s[36]),A=p(A,x,P,I,v,11,s[37]),I=p(I,A,x,P,b,16,s[38]),P=p(P,I,A,x,_,23,s[39]),x=p(x,P,I,A,k,4,s[40]),A=p(A,x,P,I,a,11,s[41]),I=p(I,A,x,P,h,16,s[42]),P=p(P,I,A,x,g,23,s[43]),x=p(x,P,I,A,w,4,s[44]),A=p(A,x,P,I,E,11,s[45]),I=p(I,A,x,P,T,16,s[46]),x=d(x,P=p(P,I,A,x,f,23,s[47]),I,A,a,6,s[48]),A=d(A,x,P,I,b,10,s[49]),I=d(I,A,x,P,O,15,s[50]),P=d(P,I,A,x,m,21,s[51]),x=d(x,P,I,A,E,6,s[52]),A=d(A,x,P,I,h,10,s[53]),I=d(I,A,x,P,_,15,s[54]),P=d(P,I,A,x,c,21,s[55]),x=d(x,P,I,A,y,6,s[56]),A=d(A,x,P,I,T,10,s[57]),I=d(I,A,x,P,g,15,s[58]),P=d(P,I,A,x,k,21,s[59]),x=d(x,P,I,A,v,6,s[60]),A=d(A,x,P,I,S,10,s[61]),I=d(I,A,x,P,f,15,s[62]),P=d(P,I,A,x,w,21,s[63]),o[0]=o[0]+x|0,o[1]=o[1]+P|0,o[2]=o[2]+I|0,o[3]=o[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function p(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},5119:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".inview-timers-wrapper{font-family:Helvetica, Arial, sans-serif;position:fixed;overflow:hidden;top:50px;right:10px;z-index:9999999999;width:280px;height:auto;max-height:100vh;background:#fff;-webkit-box-shadow:0 0 10px rgba(0,0,0,0.5);-moz-box-shadow:0 0 10px rgba(0,0,0,0.5);box-shadow:0 0 10px rgba(0,0,0,0.5);padding:4px;font-size:12px}.inview-timers-wrapper .inview-timers__row{position:relative;overflow:hidden;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.inview-timers-wrapper .inview-timers__row svg{width:1em;height:1em}.inview-timers-wrapper .inview-timers__row.is-widget-header svg{width:1.5em;height:1.5em}.inview-timers-wrapper .column{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline;overflow:hidden;text-align:center;padding:0.25em;float:none;width:12.5%}.inview-timers-wrapper .column hr{padding:0;margin:0}.inview-timers-wrapper .column.is-title{max-height:32px}.inview-timers-wrapper .column.is-viewed-indicator svg,.inview-timers-wrapper .column.is-nohover-indicator svg,.inview-timers-wrapper .column.is-reloaded-indicator svg{display:none}.inview-timers-wrapper .column.is-viewed-indicator svg.is-visible,.inview-timers-wrapper .column.is-nohover-indicator svg.is-visible,.inview-timers-wrapper .column.is-reloaded-indicator svg.is-visible{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline}.inview-timers-wrapper .column.is-direction-indicator{-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%}.inview-timers-wrapper .column.is-direction-indicator::after{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline;content:'';width:0;height:100%}.inview-timers-wrapper .column.is-direction-indicator svg{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline}.inview-timers-wrapper .is-widget-title{text-align:center}.inviewtime-sticker{display:flex;align-items:center;white-space:nowrap;font:12px/1 Helvetica, Arial, sans-serif;position:absolute;top:0;left:0;background:#f00;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:#fff;text-align:center;z-index:9;padding:10px}.inviewtime-sticker::before{content:'';display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline;height:100%}.inviewtime-sticker hr{padding:0;margin:0.25em 0}.inviewtime-sticker span{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline}.inviewtime-sticker span.inviewtime-sticker__symbol{font-size:18px}\n",""]),t.default=a},8262:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"div[id^='AdFox_banner'],div[id^='begun_block'],div[id^='begun_block']>iframe,iframe[id^='AdFox_iframe']{display:block;margin-right:auto;margin-left:auto}div[id^='begun_block'],div[id^='__ban_']{flex:1 1 auto;max-width:100%;width:100%}#pushwoosh-popup{pointer-events:auto !important}.pushwoosh__container{pointer-events:none !important}.mol-vast-skip-control{display:none}\n",""]),t.default=a},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},2296:function(e,t,n){"use strict";var r=n(4429),i=n(3464),o=n(4453),a=n(7296);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],p=!!a&&a(e,t);if(r)r(e,t,{configurable:null===u&&p?p.configurable:!u,enumerable:null===s&&p?p.enumerable:!s,value:n,writable:null===c&&p?p.writable:!c});else{if(!l&&(s||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},3654:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})},4429:function(e,t,n){"use strict";var r=n(210)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},3981:function(e){"use strict";e.exports=EvalError},1648:function(e){"use strict";e.exports=Error},4726:function(e){"use strict";e.exports=RangeError},6712:function(e){"use strict";e.exports=ReferenceError},3464:function(e){"use strict";e.exports=SyntaxError},4453:function(e){"use strict";e.exports=TypeError},3915:function(e){"use strict";e.exports=URIError},7648:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),s=n(0,i.length-a.length),c=[],u=0;u<s;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(c,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(a,arguments));return Object(t)===t?t:this}return i.apply(e,r(a,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},8612:function(e,t,n){"use strict";var r=n(7648);e.exports=Function.prototype.bind||r},210:function(e,t,n){"use strict";var r,i=n(1648),o=n(3981),a=n(4726),s=n(6712),c=n(3464),u=n(4453),l=n(3915),p=Function,d=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(e){f=null}var h=function(){throw new u},v=f?function(){try{return h}catch(e){try{return f(arguments,"callee").get}catch(e){return h}}}():h,m=n(1405)(),g=n(8185)(),b=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),y={},w="undefined"!=typeof Uint8Array&&b?b(Uint8Array):r,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":m&&b?b([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&b?b(b([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&b?b((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&b?b((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&b?b(""[Symbol.iterator]()):r,"%Symbol%":m?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":v,"%TypedArray%":w,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(b)try{null.error}catch(e){var S=b(b(e));_["%Error.prototype%"]=S}var E=function e(t){var n;if("%AsyncFunction%"===t)n=d("async function () {}");else if("%GeneratorFunction%"===t)n=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=d("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&b&&(n=b(i.prototype))}return _[t]=n,n},k={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=n(8612),T=n(8824),x=O.call(Function.call,Array.prototype.concat),P=O.call(Function.apply,Array.prototype.splice),I=O.call(Function.call,String.prototype.replace),A=O.call(Function.call,String.prototype.slice),C=O.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,j=function(e,t){var n,r=e;if(T(k,r)&&(r="%"+(n=k[r])[0]+"%"),T(_,r)){var i=_[r];if(i===y&&(i=E(r)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,R,(function(e,t,n,i){r[r.length]=n?I(i,D,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=j("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],P(n,x([0,1],l)));for(var p=1,d=!0;p<n.length;p+=1){var h=n[p],v=A(h,0,1),m=A(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&d||(s=!0),T(_,o="%"+(r+="."+h)+"%"))a=_[o];else if(null!=a){if(!(h in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(f&&p+1>=n.length){var g=f(a,h);a=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[h]}else d=T(a,h),a=a[h];d&&!s&&(_[o]=a)}}return a}},7296:function(e,t,n){"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},1044:function(e,t,n){"use strict";var r=n(4429),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},8185:function(e){"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},1405:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5419);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},5419:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},8824:function(e,t,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(8612);e.exports=o.call(r,i)},4861:function(e){!function(){function t(e,t,n){var r;document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent(t,!0,!0):document.createEventObject&&((r=document.createEventObject()).eventType=t),r.state=n,r.eventName=t,e.dispatchEvent?e.dispatchEvent(r):e.fireEvent&&htmlEvents["on"+t]?e.fireEvent("on"+r.eventType,r):e[t]?e[t]():e["on"+t]&&e["on"+t]()}function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&htmlEvents["on"+t]?e.attachEvent("on"+t,n):e["on"+t]=n}function r(){return"undefined"!=typeof window&&window.history&&"pushState"in window.history}if(r()){var i=window.history,o=i.pushState;i.pushState=function(e){var n=o.apply(i,arguments);return t(window,"pushstate",e),t(window,"changestate",e),n};var a=i.replaceState;i.replaceState=function(e){var n=a.apply(i,arguments);return t(window,"replacestate",e),t(window,"changestate",e),n},n(window,"popstate",(function(e){t(window,"changestate",e.state)}))}var s={isHistorySupported:r,addEventListener:n,removeEventListener:function(e,t,n){e.removeventListener?e.removeEventListener(t,n,!1):e.detachEvent&&htmlEvents["on"+t]?e.detachEvent("on"+t,n):e["on"+t]=null},triggerEvent:t};r()&&(window.HistoryEvents=s),e.exports=s}()},6337:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=i(t);n;)n=i(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),c(e,"resize",r,!0)),c(t,"scroll",r,!0),a&&a.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=u){var l=i(t);l&&this._monitorIntersections(l.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=l(i),s=this._rootContainsTarget(i),c=r.entry,u=e&&s&&this._computeTargetAndRootIntersection(i,a,t),p=null;this._rootContainsTarget(i)?n&&!this.root||(p=t):p={top:0,bottom:0,left:0,right:0,width:0,height:0};var d=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:p,intersectionRect:u});c?e&&s?this._hasCrossedThreshold(c,d)&&this._queuedEntries.push(d):c&&c.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var a=i,s=h(t),c=!1;!c&&s;){var p=null,f=1==s.nodeType?window.getComputedStyle(s):{};if("none"==f.display)return null;if(s==this.root||9==s.nodeType)if(c=!0,s==this.root||s==e)n&&!this.root?!r||0==r.width&&0==r.height?(s=null,p=null,a=null):p=r:p=o;else{var v=h(s),m=v&&l(v),g=v&&this._computeTargetAndRootIntersection(v,m,o);m&&g?(s=v,p=d(m,g)):(s=null,a=null)}else{var b=s.ownerDocument;s!=b.body&&s!=b.documentElement&&"visible"!=f.overflow&&(p=l(s))}if(p&&(a=u(p,a)),!a)break;s=s&&h(s)}return a}},a.prototype._getRootRect=function(){var t;if(this.root&&!v(this.root))t=l(this.root);else{var n=v(this.root)?this.root:e,r=n.documentElement,i=n.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return f(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=p(e.rootBounds),this.boundingClientRect=p(e.boundingClientRect),this.intersectionRect=p(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function u(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}||null}function l(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function p(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=h(n)}return!1}function h(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function v(e){return e&&9===e.nodeType}}()},1309:function(e,t,n){var r=n(479),i=n(3925);e.exports=r,e.exports.murmur3=r,e.exports.murmur2=i},3925:function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}},479:function(e){e.exports=function(e,t){var n,r,i,o,a,s,c,u;for(n=3&e.length,r=e.length-n,i=t,a=3432918353,s=461845907,u=0;u<r;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}},631:function(e,t,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,v=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,b=String.prototype.slice,y=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,k=Array.prototype.join,O=Array.prototype.slice,T=Math.floor,x="function"==typeof BigInt?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,C="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function j(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-T(-e):T(e);if(r!==e){var i=String(r),o=b.call(t,i.length+1);return y.call(i,n,"$&_")+"."+y.call(y.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(t,n,"$&_")}var B=n(4654),N=B.custom,F=U(N)?N:null;function M(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function L(e){return y.call(String(e),/"/g,"&quot;")}function V(e){return!("[object Array]"!==z(e)||C&&"object"==typeof e&&C in e)}function H(e){return!("[object RegExp]"!==z(e)||C&&"object"==typeof e&&C in e)}function U(e){if(A)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,s){var c=r||{};if(q(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(q(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=!q(c,"customInspect")||c.customInspect;if("boolean"!=typeof v&&"symbol"!==v)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(q(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(q(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return X(t,c);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return w?j(t,S):S}if("bigint"==typeof t){var T=String(t)+"n";return w?j(t,T):T}var P=void 0===c.depth?5:c.depth;if(void 0===i&&(i=0),i>=P&&P>0&&"object"==typeof t)return V(t)?"[Array]":"[Object]";var N=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=k.call(Array(e.indent+1)," ")}return{base:n,prev:k.call(Array(t+1),n)}}(c,i);if(void 0===s)s=[];else if(G(s,t)>=0)return"[Circular]";function W(t,n,r){if(n&&(s=O.call(s)).push(n),r){var o={depth:c.depth};return q(c,"quoteStyle")&&(o.quoteStyle=c.quoteStyle),e(t,o,i+1,s)}return e(t,c,i+1,s)}if("function"==typeof t&&!H(t)){var J=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),ee=Z(t,W);return"[Function"+(J?": "+J:" (anonymous)")+"]"+(ee.length>0?" { "+k.call(ee,", ")+" }":"")}if(U(t)){var te=A?y.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!=typeof t||A?te:$(te)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var ne="<"+_.call(String(t.nodeName)),re=t.attributes||[],ie=0;ie<re.length;ie++)ne+=" "+re[ie].name+"="+M(L(re[ie].value),"double",c);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+="</"+_.call(String(t.nodeName))+">"}if(V(t)){if(0===t.length)return"[]";var oe=Z(t,W);return N&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(oe)?"["+Q(oe,N)+"]":"[ "+k.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==z(e)||C&&"object"==typeof e&&C in e)}(t)){var ae=Z(t,W);return"cause"in Error.prototype||!("cause"in t)||R.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+k.call(ae,", ")+" }":"{ ["+String(t)+"] "+k.call(E.call("[cause]: "+W(t.cause),ae),", ")+" }"}if("object"==typeof t&&v){if(F&&"function"==typeof t[F]&&B)return B(t,{depth:P-i});if("symbol"!==v&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var se=[];return a&&a.call(t,(function(e,n){se.push(W(n,t,!0)+" => "+W(e,t))})),Y("Map",o.call(t),se,N)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ce=[];return l&&l.call(t,(function(e){ce.push(W(e,t))})),Y("Set",u.call(t),ce,N)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==z(e)||C&&"object"==typeof e&&C in e)}(t))return $(W(Number(t)));if(function(e){if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(e){}return!1}(t))return $(W(x.call(t)));if(function(e){return!("[object Boolean]"!==z(e)||C&&"object"==typeof e&&C in e)}(t))return $(h.call(t));if(function(e){return!("[object String]"!==z(e)||C&&"object"==typeof e&&C in e)}(t))return $(W(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==z(e)||C&&"object"==typeof e&&C in e)}(t)&&!H(t)){var ue=Z(t,W),le=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",de=!le&&C&&Object(t)===t&&C in t?b.call(z(t),8,-1):pe?"Object":"",fe=(le||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||pe?"["+k.call(E.call([],de||[],pe||[]),": ")+"] ":"");return 0===ue.length?fe+"{}":N?fe+"{"+Q(ue,N)+"}":fe+"{ "+k.call(ue,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function q(e,t){return W.call(e,t)}function z(e){return v.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function X(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return X(b.call(e,0,t.maxStringLength),t)+r}return M(y.call(y.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,J),"single",t)}function J(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function $(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function Y(e,t,n,r){return e+" ("+t+") {"+(r?Q(n,r):k.call(n,", "))+"}"}function Q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+k.call(e,","+n)+"\n"+t.prev}function Z(e,t){var n=V(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=q(e,i)?t(e[i],e):""}var o,a="function"==typeof P?P(e):[];if(A){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in e)q(e,c)&&(n&&String(Number(c))===c&&c<e.length||A&&o["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof P)for(var u=0;u<a.length;u++)R.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}},5798:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},129:function(e,t,n){"use strict";var r=n(8261),i=n(5235),o=n(5798);e.exports={formats:o,parse:i,stringify:r}},5235:function(e,t,n){"use strict";var r=n(2769),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,l=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var p=0;n.depth>0&&null!==(s=a.exec(o))&&p<n.depth;){if(p+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:c(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=n.allowEmptyArrays&&""===i?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,p=parseInt(l,10);n.parseArrays||""!==l?!isNaN(p)&&s!==l&&String(p)===l&&p>=0&&n.parseArrays&&p<=n.arrayLimit?(a=[])[p]=i:"__proto__"!==l&&(a[l]=i):a={0:i}}i=a}return i}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset,n=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,u={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,d=l.split(t.delimiter,p),f=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),f=n,n=d.length);for(n=0;n<d.length;++n)if(n!==f){var v,m,g=d[n],b=g.indexOf("]="),y=-1===b?g.indexOf("="):b+1;-1===y?(v=t.decoder(g,a.decoder,h,"key"),m=t.strictNullHandling?null:""):(v=t.decoder(g.slice(0,y),a.decoder,h,"key"),m=r.maybeMap(c(g.slice(y+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===h&&(m=s(m)),g.indexOf("[]=")>-1&&(m=o(m)?[m]:m);var w=i.call(u,v);w&&"combine"===t.duplicates?u[v]=r.combine(u[v],m):w&&"last"!==t.duplicates||(u[v]=m)}return u}(e,n):e,p=n.plainObjects?Object.create(null):{},d=Object.keys(l),f=0;f<d.length;++f){var h=d[f],v=u(h,l[h],n,"string"==typeof e);p=r.merge(p,v,n)}return!0===n.allowSparse?p:r.compact(p)}},8261:function(e,t,n){"use strict";var r=n(7478),i=n(2769),o=n(5798),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,c(t)?t:[t])},p=Date.prototype.toISOString,d=o.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},h={},v=function e(t,n,o,a,s,u,p,d,v,m,g,b,y,w,_,S,E,k){for(var O,T=t,x=k,P=0,I=!1;void 0!==(x=x.get(h))&&!I;){var A=x.get(t);if(P+=1,void 0!==A){if(A===P)throw new RangeError("Cyclic object value");I=!0}void 0===x.get(h)&&(P=0)}if("function"==typeof m?T=m(n,T):T instanceof Date?T=y(T):"comma"===o&&c(T)&&(T=i.maybeMap(T,(function(e){return e instanceof Date?y(e):e}))),null===T){if(u)return v&&!S?v(n,f.encoder,E,"key",w):n;T=""}if("string"==typeof(O=T)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||i.isBuffer(T))return v?[_(S?n:v(n,f.encoder,E,"key",w))+"="+_(v(T,f.encoder,E,"value",w))]:[_(n)+"="+_(String(T))];var C,R=[];if(void 0===T)return R;if("comma"===o&&c(T))S&&v&&(T=i.maybeMap(T,v)),C=[{value:T.length>0?T.join(",")||null:void 0}];else if(c(m))C=m;else{var D=Object.keys(T);C=g?D.sort(g):D}var j=d?n.replace(/\./g,"%2E"):n,B=a&&c(T)&&1===T.length?j+"[]":j;if(s&&c(T)&&0===T.length)return B+"[]";for(var N=0;N<C.length;++N){var F=C[N],M="object"==typeof F&&void 0!==F.value?F.value:T[F];if(!p||null!==M){var L=b&&d?F.replace(/\./g,"%2E"):F,V=c(T)?"function"==typeof o?o(B,L):B:B+(b?"."+L:"["+L+"]");k.set(t,P);var H=r();H.set(h,k),l(R,e(M,V,o,a,s,u,p,d,"comma"===o&&S&&c(T)?null:v,m,g,b,y,w,_,S,E,H))}}return R};e.exports=function(e,t){var n,i=e,u=function(e){if(!e)return f;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=o.formatters[n],u=f.filter;if(("function"==typeof e.filter||c(e.filter))&&(u=e.filter),r=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:u,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(n=u.filter);var p=[];if("object"!=typeof i||null===i)return"";var d=s[u.arrayFormat],h="comma"===d&&u.commaRoundTrip;n||(n=Object.keys(i)),u.sort&&n.sort(u.sort);for(var m=r(),g=0;g<n.length;++g){var b=n[g];u.skipNulls&&null===i[b]||l(p,v(i[b],b,d,h,u.allowEmptyArrays,u.strictNullHandling,u.skipNulls,u.encodeDotInKeys,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,m))}var y=p.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),y.length>0?w+y:""}},2769:function(e,t,n){"use strict";var r=n(5798),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:u}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},4171:function(e){function t(e){this.name="RavenConfigError",this.message=e}t.prototype=new Error,t.prototype.constructor=t,e.exports=t},5606:function(e,t,n){var r=n(6862);e.exports={wrapMethod:function(e,t,n){var i=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),n&&n(s,c)):n&&n(s,c),i&&Function.prototype.apply.call(i,o,e)}}}}},5378:function(e,t,n){var r=n(9026),i=n(2264),o=n(705),a=n(4171),s=n(6862),c=s.isErrorEvent,u=s.isDOMError,l=s.isDOMException,p=s.isError,d=s.isObject,f=s.isPlainObject,h=s.isUndefined,v=s.isFunction,m=s.isString,g=s.isArray,b=s.isEmptyObject,y=s.each,w=s.objectMerge,_=s.truncate,S=s.objectFrozen,E=s.hasKey,k=s.joinRegExp,O=s.urlencode,T=s.uuid4,x=s.htmlTreeAsString,P=s.isSameException,I=s.isSameStacktrace,A=s.parseUrl,C=s.fill,R=s.supportsFetch,D=s.supportsReferrerPolicy,j=s.serializeKeysForMessage,B=s.serializeException,N=s.sanitize,F=n(5606).wrapMethod,M="source protocol user pass host port path".split(" "),L=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function V(){return+new Date}var H="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},U=H.document,W=H.navigator;function q(e,t){return v(t)?function(n){return t(n,e)}:t}function z(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!h(U),this._hasNavigator=!h(W),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:H.SENTRY_RELEASE&&H.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:D()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=H.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=V(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=H.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}z.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&y(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:i[e]=t})),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=k(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&k(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&k(i.whitelistUrls),i.includePaths=k(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=w(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},c=i.instrument;return"[object Object]"==={}.toString.call(c)?c=w(s,c):!1!==c&&(c=s),i.instrument=c,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+i+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return v(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(h(t)&&!v(e))return e;if(v(e)&&(t=e,e=void 0),!v(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function i(){var i=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(n&&v(n)&&n.apply(this,arguments);o--;)i[o]=a?r.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,i)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var o in t)E(t,o)&&(i[o]=t[o]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=t,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),H.addEventListener&&H.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return H.removeEventListener&&H.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=w({trimHeadFrames:0},t||{}),c(e)&&e.error)e=e.error;else{if(u(e)||l(e)){var n=e.name||(u(e)?"DOMError":"DOMException"),i=e.message?n+": "+e.message:n;return this.captureMessage(i,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(p(e));else{if(!f(e))return this.captureMessage(e,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var o=r.computeStackTrace(e);this._handleStackInfo(o,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=w(e,{message:"Non-Error exception captured with keys: "+j(n),fingerprint:[o(n)],extra:e.extra||{}});return r.extra.__serialized__=B(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,i=w({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var o=r.computeStackTrace(n),a=g(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===i.message){i.fingerprint=null==i.fingerprint?e:i.fingerprint,(t=w({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this._prepareFrames(o,t);i.stacktrace={frames:c.reverse()}}return i.fingerprint&&(i.fingerprint=g(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(e){var t=w({timestamp:V()/1e3},e);if(v(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(d(n)&&!b(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=q(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=q(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=q(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=H.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(U){if(!(e=w({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var i=e.user;i.name&&n.push("name="+t(i.name)),i.email&&n.push("email="+t(i.email))}else n.push(t(r)+"="+t(e[r]));var o=this._getGlobalServer(this._parseDSN(e.dsn)),s=U.createElement("script");s.async=!0,s.src=o+"/api/embed/error-page/?"+n.join("&"),(U.head||U.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),U.createEvent?(n=U.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=U.createEventObject()).eventType=e,t)E(t,r)&&(n[r]=t[r]);if(U.createEvent)U.dispatchEvent(n);else try{U.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=x(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(t),clearTimeout(i),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=A(this._location.href),r=A(t),i=A(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return v(a)&&(i[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(n){var i=H[n]&&H[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(C(i,"addEventListener",(function(t){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(e){}var c,u,l;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(u=e._breadcrumbEventHandler("click"),l=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?u(e):"keypress"===t?l(e):void 0}}),t.call(this,i,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,c),a,s)}}),t),C(i,"removeEventListener",(function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,i)}}),t))}C(H,"setTimeout",n,t),C(H,"setInterval",n,t),H.requestAnimationFrame&&C(H,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)i(o[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&v(n[t])&&C(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in H){var i=H.XMLHttpRequest&&H.XMLHttpRequest.prototype;C(i,"open",(function(t){return function(n,r){return m(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),C(i,"send",(function(t){return function(){var n=this;function i(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)r(o[a],n);return"onreadystatechange"in n&&v(n.onreadystatechange)?C(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,i)})):n.onreadystatechange=i,t.apply(this,arguments)}}),n)}t.xhr&&R()&&C(H,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in H&&o instanceof H.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(U.addEventListener?(U.addEventListener("click",e._breadcrumbEventHandler("click"),!1),U.addEventListener("keypress",e._keypressEventHandler(),!1)):U.attachEvent&&(U.attachEvent("onclick",e._breadcrumbEventHandler("click")),U.attachEvent("onkeypress",e._keypressEventHandler())));var o=H.chrome,a=!(o&&o.app&&o.app.runtime)&&H.history&&H.history.pushState&&H.history.replaceState;if(t.location&&a){var s=H.onpopstate;H.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};C(H.history,"pushState",c,n),C(H.history,"replaceState",c,n)}if(t.console&&"console"in H&&console.log){var u=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};y(["debug","info","warn","error","log"],(function(e,t){F(console,t,u)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;y(this._plugins,(function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))}))},_parseDSN:function(e){var t=L.exec(e),n={},r=7;try{for(;r--;)n[M[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(y(e.stack,(function(t,i){var o=n._normalizeFrame(i,e.url);o&&r.push(o)})),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=w({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},o),u=c.exception.values[0];null==u.type&&""===u.value&&(u.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=w({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=_(e.message,t)),e.exception){var n=e.exception.values[0];n.value=_(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=_(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=_(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&d(n.data)&&!S(n.data)){r=w({},n.data);for(var a=0;a<i.length;++a)t=i[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=_(r[t],this._globalOptions.maxUrlLength));e.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&W.userAgent&&(e.headers={"User-Agent":W.userAgent}),H.location&&H.location.href&&(e.url=H.location.href),this._hasDocument&&U.referrer&&(e.headers||(e.headers={}),e.headers.Referer=U.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&V()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?I(e.stacktrace,t.stacktrace):e.exception||t.exception?P(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=R()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=V()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=w(n,e)).tags=w(w({},this._globalContext.tags),e.tags),e.extra=w(w({},this._globalContext.extra),e.extra),e.extra["session:duration"]=V()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||b(e[t]))&&delete e[t]})),v(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!b(e)&&(v(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return N(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return T()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+O(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),R()){r.body=i(e.data);var o=w({},this._fetchDefaults),a=w(o,r);return n&&(a.headers=n),H.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=H.XMLHttpRequest&&new H.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&y(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(i(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){h(t)?delete this._globalContext[e]:this._globalContext[e]=w(this._globalContext[e]||{},t)}},z.prototype.setUser=z.prototype.setUserContext,z.prototype.setReleaseContext=z.prototype.setRelease,e.exports=z},8341:function(e,t,n){var r=n(5378),i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),e.exports=a,e.exports.Client=r},6862:function(e,t,n){var r=n(2264),i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function o(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function l(e,t){var n,r;if(o(e.length))for(n in e)d(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function p(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"…"}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){for(var t,n=[],r=0,i=e.length;r<i;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function h(e){var t,n,r,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)r=c[o],(i=e.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function v(e,t){return!!(!!e^!!t)}function m(e,t){if(v(e,t))return!1;var n,r,i=e.frames,o=t.frames;if(void 0===i||void 0===o)return!1;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(n=i[a],r=o[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}function g(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function b(e){if("string"==typeof e){return p(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function y(e,t){return 0===t?b(e):a(e)?Object.keys(e).reduce((function(n,r){return n[r]=y(e[r],t-1),n}),{}):Array.isArray(e)?e.map((function(e){return y(e,t-1)})):b(e)}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:u,supportsReferrerPolicy:function(){if(!u())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:l,objectMerge:function(e,t){return t?(l(t,(function(t,n){e[t]=n})),e):e},truncate:p,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:d,joinRegExp:f,urlencode:function(e){var t=[];return l(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=i.crypto||i.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0;e&&r++<5&&!("html"===(t=h(e))||r>1&&i+3*n.length+t.length>=80);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:h,isSameException:function(e,t){return!v(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!o(n)||!o(r))&&m(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:m,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!c(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,i){if(!a(t))return t;i="number"!=typeof(n="number"!=typeof n?3:n)?51200:i;var o=y(t,n);return g(r(o))>i?e(t,n-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"…"}return""},sanitize:function(e,t){if(!c(t)||c(t)&&0===t.length)return e;var n,i=f(t);try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return c(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return i.test(r)?n[r]="********":n[r]=e(t[r]),n}),{}):t}(n)}}},9026:function(e,t,n){var r=n(6862),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function u(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var e,t,n=[],l=null,p=null,d=null;function f(e,t){var r=null;if(!t||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function h(t,n,o,a,l){var p=r.isErrorEvent(l)?l.error:l,h=r.isErrorEvent(t)?t.message:t;if(d)i.computeStackTrace.augmentStackTraceWithInitialElement(d,n,o,h),v();else if(p&&r.isError(p))f(i.computeStackTrace(p),!0);else{var m,g={url:n,line:o,column:a},b=void 0;if("[object String]"==={}.toString.call(h))(m=h.match(c))&&(b=m[1],h=m[2]);g.func=s,f({name:b,message:h,url:u(),stack:[g]},!0)}return!!e&&e.apply(this,arguments)}function v(){var e=d,t=l;l=null,d=null,p=null,f.apply(null,[e,!1].concat(t))}function m(e,t){var n=a.call(arguments,1);if(d){if(p===e)return;v()}var r=i.computeStackTrace(e);if(d=r,p=e,l=n,setTimeout((function(){p===e&&v()}),r.incomplete?2e3:0),!1!==t)throw e}return m.subscribe=function(r){!function(){if(t)return;e=o.onerror,o.onerror=h,t=!0}(),n.push(r)},m.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},m.uninstall=function(){!function(){if(!t)return;o.onerror=e,t=!1,e=void 0}(),n=[]},m}(),i.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=e.stack.split("\n"),d=[],f=(/^(.*) is undefined$/.exec(e.message),0),h=p.length;f<h;++f){if(n=i.exec(p[f])){var v=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=l.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:v?null:n[2],func:n[1]||s,args:v?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(p[f]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(p[f])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==f||n[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var m=new XMLHttpRequest;if(m.open("GET",r.url,!1),m.send(null),200===m.status){var g=m.responseText||"",b=(g=g.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(b){var y=b[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+y.slice(1)),r.url=y.slice(0,-4)}}}d.push(r)}return d.length?{name:e.name,message:e.message,url:u(),stack:d}:null}}function t(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=s),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,o){for(var a,c,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,p=[],d={},f=!1,h=n.caller;h&&!f;h=h.caller)if(h!==r&&h!==i.report){if(c={url:null,func:s,line:null,column:null},h.name?c.func=h.name:(a=l.exec(h.toString()))&&(c.func=a[1]),void 0===c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}d[""+h]?f=!0:d[""+h]=!0,p.push(c)}o&&p.splice(0,o);var v={name:e.name,message:e.message,url:u(),stack:p};return t(v,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),v}function r(t,r){var o=null;r=null==r?0:+r;try{if(o=e(t))return o}catch(e){if(i.debug)throw e}try{if(o=n(t,r+1))return o}catch(e){if(i.debug)throw e}return{name:t.name,message:t.message,url:u()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=i},2264:function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],i=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,t)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=t.call(this,o,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,o,a)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},705:function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,i,o,a){return t((s=t(t(n,e),t(i,a)))<<(c=o)|s>>>32-c,r);var s,c}function r(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)}function i(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)}function o(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)}function a(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)}function s(e,n){var s,c,u,l,p;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var d=1732584193,f=-271733879,h=-1732584194,v=271733878;for(s=0;s<e.length;s+=16)c=d,u=f,l=h,p=v,d=r(d,f,h,v,e[s],7,-680876936),v=r(v,d,f,h,e[s+1],12,-389564586),h=r(h,v,d,f,e[s+2],17,606105819),f=r(f,h,v,d,e[s+3],22,-1044525330),d=r(d,f,h,v,e[s+4],7,-176418897),v=r(v,d,f,h,e[s+5],12,1200080426),h=r(h,v,d,f,e[s+6],17,-1473231341),f=r(f,h,v,d,e[s+7],22,-45705983),d=r(d,f,h,v,e[s+8],7,1770035416),v=r(v,d,f,h,e[s+9],12,-1958414417),h=r(h,v,d,f,e[s+10],17,-42063),f=r(f,h,v,d,e[s+11],22,-1990404162),d=r(d,f,h,v,e[s+12],7,1804603682),v=r(v,d,f,h,e[s+13],12,-40341101),h=r(h,v,d,f,e[s+14],17,-1502002290),d=i(d,f=r(f,h,v,d,e[s+15],22,1236535329),h,v,e[s+1],5,-165796510),v=i(v,d,f,h,e[s+6],9,-1069501632),h=i(h,v,d,f,e[s+11],14,643717713),f=i(f,h,v,d,e[s],20,-373897302),d=i(d,f,h,v,e[s+5],5,-701558691),v=i(v,d,f,h,e[s+10],9,38016083),h=i(h,v,d,f,e[s+15],14,-660478335),f=i(f,h,v,d,e[s+4],20,-405537848),d=i(d,f,h,v,e[s+9],5,568446438),v=i(v,d,f,h,e[s+14],9,-1019803690),h=i(h,v,d,f,e[s+3],14,-187363961),f=i(f,h,v,d,e[s+8],20,1163531501),d=i(d,f,h,v,e[s+13],5,-1444681467),v=i(v,d,f,h,e[s+2],9,-51403784),h=i(h,v,d,f,e[s+7],14,1735328473),d=o(d,f=i(f,h,v,d,e[s+12],20,-1926607734),h,v,e[s+5],4,-378558),v=o(v,d,f,h,e[s+8],11,-2022574463),h=o(h,v,d,f,e[s+11],16,1839030562),f=o(f,h,v,d,e[s+14],23,-35309556),d=o(d,f,h,v,e[s+1],4,-1530992060),v=o(v,d,f,h,e[s+4],11,1272893353),h=o(h,v,d,f,e[s+7],16,-155497632),f=o(f,h,v,d,e[s+10],23,-1094730640),d=o(d,f,h,v,e[s+13],4,681279174),v=o(v,d,f,h,e[s],11,-358537222),h=o(h,v,d,f,e[s+3],16,-722521979),f=o(f,h,v,d,e[s+6],23,76029189),d=o(d,f,h,v,e[s+9],4,-640364487),v=o(v,d,f,h,e[s+12],11,-421815835),h=o(h,v,d,f,e[s+15],16,530742520),d=a(d,f=o(f,h,v,d,e[s+2],23,-995338651),h,v,e[s],6,-198630844),v=a(v,d,f,h,e[s+7],10,1126891415),h=a(h,v,d,f,e[s+14],15,-1416354905),f=a(f,h,v,d,e[s+5],21,-57434055),d=a(d,f,h,v,e[s+12],6,1700485571),v=a(v,d,f,h,e[s+3],10,-1894986606),h=a(h,v,d,f,e[s+10],15,-1051523),f=a(f,h,v,d,e[s+1],21,-2054922799),d=a(d,f,h,v,e[s+8],6,1873313359),v=a(v,d,f,h,e[s+15],10,-30611744),h=a(h,v,d,f,e[s+6],15,-1560198380),f=a(f,h,v,d,e[s+13],21,1309151649),d=a(d,f,h,v,e[s+4],6,-145523070),v=a(v,d,f,h,e[s+11],10,-1120210379),h=a(h,v,d,f,e[s+2],15,718787259),f=a(f,h,v,d,e[s+9],21,-343485551),d=t(d,c),f=t(f,u),h=t(h,l),v=t(v,p);return[d,f,h,v]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function l(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function p(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return c(s(u(e),8*e.length))}(p(e))}function f(e,t){return function(e,t){var n,r,i=u(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=s(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=s(o.concat(u(t)),512+8*t.length),c(s(a.concat(r),640))}(p(e),p(t))}e.exports=function(e,t,n){return t?n?f(t,e):l(f(t,e)):n?d(e):l(d(e))}},6702:function(){window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},2018:function(e,t,n){e.exports=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=2,a=function(e,t){var n=!1,r=!1,a=0;function s(){n&&(n=!1,e()),r&&u()}function c(){i(s)}function u(){var e=Date.now();if(n){if(e-a<o)return;r=!0}else n=!0,r=!1,setTimeout(c,t);a=e}return u},s=20,c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),s)};l.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},l.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},l.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),c.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e};function d(e){return!!(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.Object)}var f=function(e){return(d(e)?e.ownerDocument.defaultView:null)||r},h=k(0,0,0,0);function v(e){return parseFloat(e)||0}function m(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce((function(t,n){return t+v(e["border-"+n+"-width"])}),0)}function g(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=v(o)}return t}function b(e){var t=e.getBBox();return k(0,0,t.width,t.height)}function y(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=g(r),o=i.left+i.right,a=i.top+i.bottom,s=v(r.width),c=v(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=m(r,"left","right")+o),Math.round(c+a)!==n&&(c-=m(r,"top","bottom")+a)),!_(e)){var u=Math.round(s+o)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return k(i.left,i.top,s,c)}var w="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function _(e){return e===f(e).document.documentElement}function S(e){return t?w(e)?b(e):y(e):h}function E(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return p(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function k(e,t,n,r){return{x:e,y:t,width:n,height:r}}var O=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=k(0,0,0,0),this.target=e};O.prototype.isActive=function(){var e=S(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},O.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var T=function(e,t){var n=E(t);p(this,{target:e,contentRect:n})},x=function(e){var t=/element/gi.test(Object.prototype.toString.call(e));return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&t&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},P=function(t,n,r){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r};P.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element||x(e)))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new O(e)),this.controller_.addObserver(this),this.controller_.refresh())}},P.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},P.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},P.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},P.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new T(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},P.prototype.clearActive=function(){this.activeObservations_.splice(0)},P.prototype.hasActive=function(){return this.activeObservations_.length>0};var I="undefined"!=typeof WeakMap?new WeakMap:new e,A=function(e){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=l.getInstance(),n=new P(e,t,this);I.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(e){A.prototype[e]=function(){return(t=I.get(this))[e].apply(t,arguments);var t}})),void 0!==r.ResizeObserver?r.ResizeObserver:A}()},7771:function(e,t,n){"use strict";var r=n(210),i=n(2296),o=n(1044)(),a=n(7296),s=n(4453),c=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(r=!1),l&&!l.writable&&(u=!1)}return(r||u||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},7478:function(e,t,n){"use strict";var r=n(210),i=n(1924),o=n(631),a=n(4453),s=r("%WeakMap%",!0),c=r("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return u(e,r)}else if(c){if(t)return d(t,r)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return p(e,r)}else if(c){if(t)return h(t,r)}else if(n)return function(e,t){return!!v(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),l(e,r,i)):c?(t||(t=new c),f(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},3249:function(e,t,n){var r=n(5119);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},1485:function(e,t,n){var r=n(8262);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},2238:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",c="object",u="string",l="major",p="model",d="name",f="type",h="vendor",v="version",m="architecture",g="console",b="mobile",y="tablet",w="smarttv",_="wearable",S="embedded",E="Amazon",k="Apple",O="ASUS",T="BlackBerry",x="Browser",P="Chrome",I="Firefox",A="Google",C="Huawei",R="LG",D="Microsoft",j="Motorola",B="Opera",N="Samsung",F="Sharp",M="Sony",L="Xiaomi",V="Zebra",H="Facebook",U="Chromium OS",W="Mac OS",q=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},z=function(e,t){return typeof e===u&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},X=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},J=function(e,t){for(var n,r,i,s,u,l,p=0;p<t.length&&!u;){var d=t[p],f=t[p+1];for(n=r=0;n<d.length&&!u&&d[n];)if(u=d[n++].exec(e))for(i=0;i<f.length;i++)l=u[++r],typeof(s=f[i])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;p+=2}},$=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(z(t[n][r],e))return"?"===n?o:n}else if(z(t[n],e))return"?"===n?o:n;return e},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,v],[/opios[\/ ]+([\w\.]+)/i],[v,[d,B+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[d,B]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[d,"UC"+x]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+x],v],[/\bfocus\/([\w\.]+)/i],[v,[d,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[d,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[d,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[d,"MIUI "+x]],[/fxios\/([-\w\.]+)/i],[v,[d,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+x]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+x],v],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,H],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[d,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,P+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[d,"Android "+x]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[v,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[d,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,v],[/(cobalt)\/([\w\.]+)/i],[d,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,G]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[h,N],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[h,N],[f,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[h,k],[f,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[h,k],[f,y]],[/(macintosh);/i],[p,[h,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[h,F],[f,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[h,C],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[h,C],[f,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[h,L],[f,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[h,L],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[h,"OPPO"],[f,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[h,"Vivo"],[f,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[h,"Realme"],[f,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[h,j],[f,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[h,j],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[h,R],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[h,R],[f,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[h,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[h,"Nokia"],[f,b]],[/(pixel c)\b/i],[p,[h,A],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[h,A],[f,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[h,M],[f,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[h,M],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[h,"OnePlus"],[f,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[h,E],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[h,E],[f,b]],[/(playbook);[-\w\),; ]+(rim)/i],[p,h,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[h,T],[f,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[h,O],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[h,O],[f,b]],[/(nexus 9)/i],[p,[h,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[p,/_/g," "],[f,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[h,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[h,"Meizu"],[f,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,p,[f,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,p,[f,y]],[/(surface duo)/i],[p,[h,D],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[h,"Fairphone"],[f,b]],[/(u304aa)/i],[p,[h,"AT&T"],[f,b]],[/\bsie-(\w*)/i],[p,[h,"Siemens"],[f,b]],[/\b(rct\w+) b/i],[p,[h,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[p,[h,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[p,[h,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[h,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[p,[h,"NuVision"],[f,y]],[/\b(k88) b/i],[p,[h,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[p,[h,"ZTE"],[f,b]],[/\b(gen\d{3}) b.+49h/i],[p,[h,"Swiss"],[f,b]],[/\b(zur\d{3}) b/i],[p,[h,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[p,[h,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],p,[f,y]],[/\b(ns-?\w{0,9}) b/i],[p,[h,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[h,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],p,[f,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],p,[f,b]],[/\b(ph-1) /i],[p,[h,"Essential"],[f,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[h,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[p,[h,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[p,[h,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[p,[h,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[h,p,[f,b]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[h,D],[f,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[h,V],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[h,V],[f,b]],[/smart-tv.+(samsung)/i],[h,[f,w]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[h,N],[f,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,R],[f,w]],[/(apple) ?tv/i],[h,[p,k+" TV"],[f,w]],[/crkey/i],[[p,P+"cast"],[h,A],[f,w]],[/droid.+aft(\w+)( bui|\))/i],[p,[h,E],[f,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[h,F],[f,w]],[/(bravia[\w ]+)( bui|\))/i],[p,[h,M],[f,w]],[/(mitv-\w{5}) bui/i],[p,[h,L],[f,w]],[/Hbbtv.*(technisat) (.*);/i],[h,p,[f,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,X],[p,X],[f,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,p,[f,g]],[/droid.+; (shield) bui/i],[p,[h,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[p,[h,M],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[h,D],[f,g]],[/((pebble))app/i],[h,p,[f,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[h,k],[f,_]],[/droid.+; (glass) \d/i],[p,[h,A],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[p,[h,V],[f,_]],[/(quest( 2| pro)?)/i],[p,[h,H],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,S]],[/(aeobc)\b/i],[p,[h,E],[f,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[f,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,b]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[v,$,K]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[v,$,K]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,W],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,v],[/\(bb(10);/i],[v,[d,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[d,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[d,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,U],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,v],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,v]]},Q=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof Q))return new Q(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),g=n&&n.userAgentData?n.userAgentData:o,w=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Y,t):Y,_=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[d]=o,t[v]=o,J.call(t,r,w.browser),t[l]=typeof(e=t[v])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,_&&n&&n.brave&&typeof n.brave.isBrave==a&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[m]=o,J.call(e,r,w.cpu),e},this.getDevice=function(){var e={};return e[h]=o,e[p]=o,e[f]=o,J.call(e,r,w.device),_&&!e[f]&&g&&g.mobile&&(e[f]=b),_&&"Macintosh"==e[p]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[p]="iPad",e[f]=y),e},this.getEngine=function(){var e={};return e[d]=o,e[v]=o,J.call(e,r,w.engine),e},this.getOS=function(){var e={};return e[d]=o,e[v]=o,J.call(e,r,w.os),_&&!e[d]&&g&&"Unknown"!=g.platform&&(e[d]=g.platform.replace(/chrome os/i,U).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>350?X(e,350):e,this},this.setUA(r),this};Q.VERSION="1.0.36",Q.BROWSER=q([d,v,l]),Q.CPU=q([m]),Q.DEVICE=q([p,h,f,g,b,w,y,_,S]),Q.ENGINE=Q.OS=q([d,v]),typeof t!==s?(e.exports&&(t=e.exports=Q),t.UAParser=Q):n.amdO?(r=function(){return Q}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=Q);var Z=typeof i!==s&&(i.jQuery||i.Zepto);if(Z&&!Z.ua){var ee=new Q;Z.ua=ee.getResult(),Z.ua.get=function(){return ee.getUA()},Z.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Z.ua[n]=t[n]}}}("object"==typeof window?window:this)},2511:function(e,t,n){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,c=36,u=1,l=26,p=38,d=700,f=72,h=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-u,_=Math.floor,S=String.fromCharCode;function E(e){throw new RangeError(y[e])}function k(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function O(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+k((e=e.replace(b,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function x(e){return k(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var r=0;for(e=n?_(e/d):e>>1,e+=_(e/t);e>w*l>>1;r+=c)e=_(e/w);return _(r+(w+1)*e/(e+p))}function A(e){var t,n,r,i,o,a,p,d,m,g,b,y=[],w=e.length,S=0,k=h,O=f;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<w;){for(o=S,a=1,p=c;i>=w&&E("invalid-input"),((d=(b=e.charCodeAt(i++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:c)>=c||d>_((s-S)/a))&&E("overflow"),S+=d*a,!(d<(m=p<=O?u:p>=O+l?l:p-O));p+=c)a>_(s/(g=c-m))&&E("overflow"),a*=g;O=I(S-o,t=y.length+1,0==o),_(S/t)>s-k&&E("overflow"),k+=_(S/t),S%=t,y.splice(S++,0,k)}return x(y)}function C(e){var t,n,r,i,o,a,p,d,m,g,b,y,w,k,O,x=[];for(y=(e=T(e)).length,t=h,n=0,o=f,a=0;a<y;++a)(b=e[a])<128&&x.push(S(b));for(r=i=x.length,i&&x.push(v);r<y;){for(p=s,a=0;a<y;++a)(b=e[a])>=t&&b<p&&(p=b);for(p-t>_((s-n)/(w=r+1))&&E("overflow"),n+=(p-t)*w,t=p,a=0;a<y;++a)if((b=e[a])<t&&++n>s&&E("overflow"),b==t){for(d=n,m=c;!(d<(g=m<=o?u:m>=o+l?l:m-o));m+=c)O=d-g,k=c-g,x.push(S(P(g+O%k,0))),d=_(O/k);x.push(S(P(d,0))),o=I(n,w,r==i),n=0,++r}++n,++t}return x.join("")}a={version:"1.4.1",ucs2:{decode:T,encode:x},decode:A,encode:C,toASCII:function(e){return O(e,(function(e){return g.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return O(e,(function(e){return m.test(e)?A(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8575:function(e,t,n){"use strict";var r=n(2511);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),l=["%","/","?",";","#"].concat(u),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(129);function b(e,t,n){if(e&&"object"==typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var y=s.exec(b);if(y)return this.path=b,this.href=b,this.pathname=y[1],y[2]?(this.search=y[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var _=(w=w[0]).toLowerCase();this.protocol=_,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@/]+@[^@/]+/)){var S="//"===b.substr(0,2);!S||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(S||w&&!m[w])){for(var E,k,O=-1,T=0;T<p.length;T++){-1!==(x=b.indexOf(p[T]))&&(-1===O||x<O)&&(O=x)}-1!==(k=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(E=b.slice(0,k),b=b.slice(k+1),this.auth=decodeURIComponent(E)),O=-1;for(T=0;T<l.length;T++){var x;-1!==(x=b.indexOf(l[T]))&&(-1===O||x<O)&&(O=x)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var I=this.hostname.split(/\./),A=(T=0,I.length);T<A;T++){var C=I[T];if(C&&!C.match(d)){for(var R="",D=0,j=C.length;D<j;D++)C.charCodeAt(D)>127?R+="x":R+=C[D];if(!R.match(d)){var B=I.slice(0,T),N=I.slice(T+1),F=C.match(f);F&&(B.push(F[1]),N.unshift(F[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var M=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+M,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!h[_])for(T=0,A=u.length;T<A;T++){var V=u[T];if(-1!==b.indexOf(V)){var H=encodeURIComponent(V);H===V&&(H=escape(V)),b=b.split(V).join(H)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=g.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var q=this.search||"";this.path=M+q}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=g.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var u=s[c];"protocol"!==u&&(n[u]=e[u])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var l=Object.keys(e),p=0;p<l.length;p++){var d=l[p];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",g=n.search||"";n.path=h+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=y||b||n.host&&e.pathname,_=w,S=n.pathname&&n.pathname.split("/")||[],E=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===S[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),n.search=e.search,n.query=e.query;else if(null!=e.search){if(E)n.host=S.shift(),n.hostname=n.host,(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.hostname=P.shift(),n.host=n.hostname);return n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=S.slice(-1)[0],O=(n.host||e.host||S.length>1)&&("."===k||".."===k)||""===k,T=0,x=S.length;x>=0;x--)"."===(k=S[x])?S.splice(x,1):".."===k?(S.splice(x,1),T++):T&&(S.splice(x,1),T--);if(!w&&!_)for(;T--;T)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),O&&"/"!==S.join("/").substr(-1)&&S.push("");var P,I=""===S[0]||S[0]&&"/"===S[0].charAt(0);E&&(n.hostname=I?"":S.length?S.shift():"",n.host=n.hostname,(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.hostname=P.shift(),n.host=n.hostname));return(w=w||n.host&&S.length)&&!I&&S.unshift(""),S.length>0?n.pathname=S.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.Qc=b},3876:function(e,t,n){e.exports=n(6253)},9661:function(e){!function(t){var n=-1,r={onVisible:function(e){var t=r.isSupported();if(!t||!r.hidden())return e(),t;var n=r.change((function(t,i){r.hidden()||(r.unbind(n),e())}));return n},change:function(e){if(!r.isSupported())return!1;var t=n+=1;return r._callbacks[t]=e,r._listen(),t},unbind:function(e){delete r._callbacks[e]},afterPrerendering:function(e){var t=r.isSupported(),n="prerender";if(!t||n!=r.state())return e(),t;var i=r.change((function(t,o){n!=o&&(r.unbind(i),e())}));return i},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==r._doc.hidden||void 0!==r._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(e){var t=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,e,t)},_listen:function(){if(!r._init){var e="visibilitychange";r._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(e,t):r._doc.attachEvent(e,t),r._init=!0}}};e.exports?e.exports=r:t.Visibility=r}(this)},6253:function(e,t,n){!function(t){var r=-1,i=function(e){return e.every=function(t,n,i){e._time(),i||(i=n,n=null);var o=r+=1;return e._timers[o]={visible:t,hidden:n,callback:i},e._run(o,!1),e.isSupported()&&e._listen(),o},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(n,r){var i,o=e._timers[n];if(e.hidden()){if(null===o.hidden)return;i=o.hidden}else i=o.visible;var a=function(){o.last=new Date,o.callback.call(t)};if(r){var s=new Date-o.last;i>s?o.delay=setTimeout((function(){o.id=setInterval(a,i),a()}),i-s):(o.id=setInterval(a,i),a())}else o.id=setInterval(a,i)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),r=e._wasHidden;if(n&&!r||!n&&r)for(var i in e._timers)e._stop(i),e._run(i,!n)},e};e.exports?e.exports=i(n(9661)):i(t.Visibility||n(9661))}(window)},2294:function(e){e.exports=decodeURIComponent("%3Cdiv%20class%3D%22column%20is-banner-id%22%3E%23%7Bsymbol%7D%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-recording-flag%22%3E0%25%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-inview-time%22%3E0.00%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-viewed-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22not-viewed-icon%20is-visible%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22.245%204.015a.808.808%200%200%201%200%201.139l-6.276%206.27a.81.81%200%200%200%200%201.14l6.273%206.272a.81.81%200%200%201%200%201.14l-2.285%202.277a.814.814%200%200%201-1.142%200l-6.271-6.271a.81.81%200%200%200-1.141%200l-6.276%206.267a.81.81%200%200%201-1.141%200l-2.282-2.28a.81.81%200%200%201%200-1.14l6.278-6.269a.81.81%200%200%200%200-1.14L1.709%205.147a.808.808%200%200%201%200-1.14l2.284-2.278a.813.813%200%200%201%201.142.001L11.405%208a.81.81%200%200%200%201.141.001l6.276-6.267a.812.812%200%200%201%201.141%200l2.282%202.281z%22%2F%3E%3C%2Fsvg%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-nohover-time%22%3E0.00%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-nohover-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22not-viewed-icon%20is-visible%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22.245%204.015a.808.808%200%200%201%200%201.139l-6.276%206.27a.81.81%200%200%200%200%201.14l6.273%206.272a.81.81%200%200%201%200%201.14l-2.285%202.277a.814.814%200%200%201-1.142%200l-6.271-6.271a.81.81%200%200%200-1.141%200l-6.276%206.267a.81.81%200%200%201-1.141%200l-2.282-2.28a.81.81%200%200%201%200-1.14l6.278-6.269a.81.81%200%200%200%200-1.14L1.709%205.147a.808.808%200%200%201%200-1.14l2.284-2.278a.813.813%200%200%201%201.142.001L11.405%208a.81.81%200%200%200%201.141.001l6.276-6.267a.812.812%200%200%201%201.141%200l2.282%202.281z%22%2F%3E%3C%2Fsvg%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-reloaded-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22not-viewed-icon%20is-visible%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22.245%204.015a.808.808%200%200%201%200%201.139l-6.276%206.27a.81.81%200%200%200%200%201.14l6.273%206.272a.81.81%200%200%201%200%201.14l-2.285%202.277a.814.814%200%200%201-1.142%200l-6.271-6.271a.81.81%200%200%200-1.141%200l-6.276%206.267a.81.81%200%200%201-1.141%200l-2.282-2.28a.81.81%200%200%201%200-1.14l6.278-6.269a.81.81%200%200%200%200-1.14L1.709%205.147a.808.808%200%200%201%200-1.14l2.284-2.278a.813.813%200%200%201%201.142.001L11.405%208a.81.81%200%200%200%201.141.001l6.276-6.267a.812.812%200%200%201%201.141%200l2.282%202.281z%22%2F%3E%3C%2Fsvg%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%3E%3Cpath%20d%3D%22M14%208c-.609%200-.898.43-1%20.883C12.635%2010.516%2011.084%2013%208%2013a4.947%204.947%200%200%201-2.114-.474L6.414%2012c.359-.344.586-.555.586-1%200-.523-.438-1-1-1H3c-.609%200-1%20.492-1%201v3c0%20.541.428%201%201%201%20.484%200%20.688-.273%201-.594l.408-.407A6.933%206.933%200%200%200%208%2015c4.99%200%207-4.75%207-5.938C15%208.336%2014.469%208%2014%208zM3%207.117C3.365%205.485%204.916%203%208%203c.757%200%201.473.171%202.114.473L9.586%204C9.227%204.344%209%204.555%209%205c0%20.523.438%201%201%201h3c.609%200%201-.492%201-1V2c0-.541-.428-1-1-1-.484%200-.688.273-1%20.594l-.408.407A6.933%206.933%200%200%200%208%201C3.01%201%201%205.75%201%206.938%201%207.664%201.531%208%202%208c.609%200%20.898-.43%201-.883z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-direction-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%3Cpath%20d%3D%22M15%206H8V3c0-.484-.375-1-1-1-.461%200-.695.287-1%20.54L.625%207C.242%207.313%200%207.555%200%208s.242.688.625%201L6%2013.46c.305.253.539.54%201%20.54.625%200%201-.516%201-1v-3h7c.55%200%201-.45%201-1V7c0-.55-.45-1-1-1z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E")},8855:function(e){e.exports=decodeURIComponent("%3Cdiv%20class%3D%22inview-timers__row%20is-widget-header%22%3E%3Cdiv%20class%3D%22column%20is-title%20is-banner-id%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2048%2048%22%3E%3Cpath%20d%3D%22M8%2021c-1.66%200-3%201.34-3%203s1.34%203%203%203%203-1.34%203-3-1.34-3-3-3zM8%209c-1.66%200-3%201.34-3%203s1.34%203%203%203%203-1.34%203-3-1.34-3-3-3zm0%2024.33a2.67%202.67%200%201%200-.001%205.339A2.67%202.67%200%200%200%208%2033.33zM14%2038h28v-4H14v4zm0-12h28v-4H14v4zm0-16v4h28v-4H14z%22%2F%3E%3Cpath%20fill%3D%22none%22%20d%3D%22M0%200h48v48H0z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2228%22%20height%3D%2228%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cpath%20fill%3D%22%23333%22%20fill-rule%3D%22evenodd%22%20d%3D%22M17%209C8%209%204%2016%204%2016s4%207%2013%207%2013-7%2013-7-4-7-13-7Zm0%2011a4%204%200%201%200%200-8%204%204%200%200%200%200%208Zm0-1a3%203%200%201%200%200-6%203%203%200%200%200%200%206Zm0-2a1%201%200%201%200%200-2%201%201%200%200%200%200%202Z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23000%3Bstroke-linejoin%3Around%3Bstroke-width%3A2px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20data-name%3D%22171-Time%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2215%22%20class%3D%22cls-1%22%2F%3E%3Cpath%20d%3D%22M16%205v11l-7%207%22%20class%3D%22cls-1%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xml%3Aspace%3D%22preserve%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23000%3Bstroke-linejoin%3Around%3Bstroke-width%3A2px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20data-name%3D%22171-Time%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2215%22%20class%3D%22cls-1%22%2F%3E%3Cpath%20d%3D%22M16%205v11l-7%207%22%20class%3D%22cls-1%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xml%3Aspace%3D%22preserve%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%3E%3Cpath%20d%3D%22M14%208c-.609%200-.898.43-1%20.883C12.635%2010.516%2011.084%2013%208%2013a4.947%204.947%200%200%201-2.114-.474L6.414%2012c.359-.344.586-.555.586-1%200-.523-.438-1-1-1H3c-.609%200-1%20.492-1%201v3c0%20.541.428%201%201%201%20.484%200%20.688-.273%201-.594l.408-.407A6.933%206.933%200%200%200%208%2015c4.99%200%207-4.75%207-5.938C15%208.336%2014.469%208%2014%208zM3%207.117C3.365%205.485%204.916%203%208%203c.757%200%201.473.171%202.114.473L9.586%204C9.227%204.344%209%204.555%209%205c0%20.523.438%201%201%201h3c.609%200%201-.492%201-1V2c0-.541-.428-1-1-1-.484%200-.688.273-1%20.594l-.408.407A6.933%206.933%200%200%200%208%201C3.01%201%201%205.75%201%206.938%201%207.664%201.531%208%202%208c.609%200%20.898-.43%201-.883z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%3Cpath%20d%3D%22M15%206H8V3c0-.484-.375-1-1-1-.461%200-.695.287-1%20.54L.625%207C.242%207.313%200%207.555%200%208s.242.688.625%201L6%2013.46c.305.253.539.54%201%20.54.625%200%201-.516%201-1v-3h7c.55%200%201-.45%201-1V7c0-.55-.45-1-1-1z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3C%2Fdiv%3E")},3558:function(e){e.exports=decodeURIComponent("%3Cspan%20class%3D%22inviewtime-sticker__symbol%22%3E%23%7Bsymbol%7D%20%7C%3C%2Fspan%3E%3Cspan%20class%3D%22inviewtime-sticker__inview%22%3E0%25%20%7C%3C%2Fspan%3E%3Cspan%20class%3D%22inviewtime-sticker__inview-timer%22%3E0.00%20%7C%3C%2Fspan%3E%3Cspan%20class%3D%22inviewtime-sticker__nohovertimer%22%3E0.00%3C%2Fspan%3E")},2480:function(){},4654:function(){},8916:function(e){"use strict";e.exports=JSON.parse('{"sentryUrl":"//ssp.rambler.ru/slog_errors_capirs","minLoggerLevel":400,"projectName":"sspjs","projectVersion":"38.56.38"}')},5377:function(e){"use strict";e.exports=JSON.parse('{"RQ_COUNT":null,"COLLECT_ANALITYCS_ON_HISTORY_CHANGE":true,"RESET_SYNC_BANNERS_STATE_ON_HISTORY_CHANGE":true,"STYLE_NONCE_VALUE":"","SCRIPT_NONCE_VALUE":""}')}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.amdO={},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return"js/chunks/"+{332:"4538f19d3043d50efb66",689:"62b1cb170a93905fa89a",723:"a40895e2e4496d27a7c0"}[e]+".js"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="SSPjs:",i.l=function(n,r,o,a){if(e[n])e[n].push(r);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+o){s=p;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var d=function(t,r){s.onerror=s.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.p="//ssp.rambler.ru/",function(){i.b=document.baseURI||self.location.href;var e={119:0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,a=n[0],s=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(c)c(i)}for(t&&t(n);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkSSPjs=self.webpackChunkSSPjs||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o={};!function(){"use strict";i.r(o);var e={};i.r(e),i.d(e,{graph_banner_html:function(){return Kp},graph_banner_img:function(){return Zp},graph_banner_js:function(){return ed},graph_banner_xhtml:function(){return Yp},graph_banner_xiframe:function(){return Qp}});i(6337),i(6702),i(3241),i(3654),i(5073);"undefined"!=typeof window?window:void 0!==i.g&&i.g;var t={AdfUtil:Symbol.for("AdfUtil"),MethodsInitializer:Symbol.for("MethodsInitializer"),AdfInner:Symbol.for("AdfInner"),BegunAutocontext:Symbol.for("BegunAutocontext"),BegunScripts:Symbol.for("BegunScripts"),MonitorClass:Symbol.for("MonitorClass"),SSPRequestsSessionsObserver:Symbol.for("SSPRequestsSessionsObserver"),SyncShow:Symbol.for("SyncShow"),Refresher:Symbol.for("Refresher"),InViewTimerStarter:Symbol.for("InViewTimerStarter"),ToolbarHelper:Symbol.for("ToolbarHelper"),DataLoader:Symbol.for("DataLoader"),MetricsTransport:Symbol.for("MetricsTransport"),MetricsTimer:Symbol.for("MetricsTimer"),UserID:Symbol.for("UserID"),blockShowLoggerFactory:Symbol.for("Factory<BlockShowLogger>"),cachedBlockShowLoggerFactory:Symbol.for("Factory<CachedBlockShowLogger>"),EventEmitter:Symbol.for("EventEmitter"),Store:Symbol.for("Store"),Config:Symbol.for("Config"),ConfigOptions:Symbol.for("ConfigOptions"),UaParserService:Symbol.for("UaParserService"),RenderingWatcherFactory:Symbol.for("Factory<RenderingWatcher>"),CoveringWatcher:Symbol.for("CoveringWatcher"),BannerTemplatesStore:Symbol.for("BannerTemplatesStore"),SSPRequestParamsBuilderFactory:Symbol.for("SSPRequestParamsBuilderFactory"),SSPRequestParamsDirector:Symbol.for("SSPRequestParamsDirector"),VastPlaybackWrapper:Symbol.for("VastPlaybackWrapper"),PerformanceTemplatesWrapper:Symbol.for("PerformanceTemplatesWrapper")},n=function(e){this.t=e};n.prototype.inSingletonScope=function(){this.t.singleton=!0};var r=function(e){this.t=e};r.prototype.to=function(e){return this.t.object=e,new n(this.t)},r.prototype.toFactory=function(e){return this.t.factory=e,new n(this.t)},r.prototype.toValue=function(e){if(void 0===e)throw"cannot bind a value of type undefined";this.t.value=e};var a=function(){this.i=new Map,this.o=[]};a.prototype.bind=function(e){return new r(this.u(e))},a.prototype.rebind=function(e){return this.remove(e).bind(e)},a.prototype.remove=function(e){if(void 0===this.i.get(e))throw e.toString()+" was never bound";return this.i.delete(e),this},a.prototype.get=function(e){var t=this.i.get(e);if(void 0===t)throw"nothing bound to "+e.toString();var n=t.object,r=t.factory,i=t.value,o=t.cache,a=t.singleton,s=function(e){return a&&void 0!==o?o:a?(t.cache=e(),t.cache):e()};if(void 0!==i)return i;if(void 0!==n)return s((function(){return new n}));if(void 0!==r)return s((function(){return r()}));throw"nothing is bound to "+e.toString()},a.prototype.snapshot=function(){return this.o.push(new Map(this.i)),this},a.prototype.restore=function(){return this.i=this.o.pop()||this.i,this},a.prototype.u=function(e){if(void 0!==this.i.get(e))throw"object can only bound once: "+e.toString();var t={singleton:!1};return this.i.set(e,t),t};var s=Symbol("NOCACHE");function c(e,t,n,r,i){Object.defineProperty(e,t,{get:function(){var e=n.get(r);return-1===i.indexOf(s)&&Object.defineProperty(this,t,{value:e,enumerable:!0}),e},configurable:!0,enumerable:!0})}var u,l=new a,p=function(e){return function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return function(e,t,n){return function(r,i){c(r,i,t,e,n)}}(t,e,n)}}(l),d=function(e){return function(t){for(var n,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return function(){return-1===r.indexOf(s)&&void 0!==n||(n=e.get(t)),n}}}(l),f=function(){return window.begun_urls&&window.begun_urls.base_scripts_url?window.begun_urls.base_scripts_url:m},h="38.56.38",v=h.replace(/\./g,"_"),m=(parseInt(void 0,10),"//ssp.rambler.ru/"),g=["432345474","448516617","461192368","460428556","437708104","432185890","437707940","433058372","458201932","429663120"],b=/\[\d{2,},(\s|\S)\d{2,}\]/g,y={css:{block_prefix:"begun_block_"},urls:{base_scripts_url:f(),daemon:"//ssp01.rambler.ru/context.jsp?wl=rambler&",styles:"".concat(f(),"css?")}},w={json:1},_="\x3c!-- google_rambler_adtech_callbacks --\x3e";!function(e){e.base64="base64",e.url="url"}(u||(u={}));var S;!function(e){e.SSP="ssp_debug=2",e.ADFOX="adfox_debug=2",e.NO_TOOLBAR="ssp_no_debug=1",e.METRICS="metrics_debug=1"}(S||(S={}));var E=function(){var e=window.QW50aS1BZEJsb2Nr;if(null==e?void 0:e.getDebugInfo)return e.getDebugInfo()},k=function(){var e=new Error;return e&&e.stack&&e.stack.split("\n").slice(5).map((function(e){if(!e)return{};var t=/^(.*)@(.*)\.js:([0-9]+):([0-9]+)$/gi.exec(e);return t?(t[1]&&(t[1]=/([^\/<]+)/gi.exec(t[1]),t[1]&&(t[1]=t[1][0])),{column:t[4]||"",file:t[2]||"",line:t[3]||"",method:t[1]||""}):(t=/^(.*)@(http|https):([^:]+):([0-9]+):([0-9]+)$/gi.exec(e))?{column:t[5]||"",file:t[3]||"",line:t[4]||"",method:t[1]+":"+t[2]||""}:(t=/^(.*)@(.*):([0-9]+):([0-9]+)$/gi.exec(e))||(t=/^\s+at\s([^(]+)\s\((.*):([0-9]+):([0-9]+)\)$/gi.exec(e))?{column:t[4]||"",file:t[2]||"",line:t[3]||"",method:t[1]||""}:(t=/^\s+at\s(.*):([0-9]+):([0-9]+)$/gi.exec(e))?{column:t[3]||"",file:t[1]||"",line:t[2]||"",method:""}:e}))||[]},O=function(){return-1!==navigator.userAgent.indexOf("Opera")},T=function(){return-1!==navigator.userAgent.indexOf("OPR")},x=function(){return-1!==navigator.userAgent.indexOf("Edg")},P=function(){return-1!==navigator.userAgent.indexOf("Edge")},I=function(){return-1!==navigator.userAgent.indexOf("Chrome")},A=function(){return-1!==navigator.userAgent.indexOf("Firefox")},C=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},R=function(){return navigator.userAgent.lastIndexOf(" ")+1<navigator.userAgent.lastIndexOf("/")},D=function(){var e;return O()||T()?e="Opera":x()||P()?e="Edge":I()?e="Chrome":A()?e="Firefox":C()?e="Safari":R()&&(e=function(){var e=navigator.userAgent.lastIndexOf(" ")+1,t=navigator.userAgent.lastIndexOf("/"),n=navigator.userAgent.substring(e,t);return n.toLowerCase()===n.toUpperCase()&&(n=navigator.appName),n}()),e||""},j=function(e){if("string"==typeof e){for(var t=[";"," ",")"],n=0;n<t.length;n++){var r=t[n],i=e.indexOf(r);-1!==i&&(e=e.substring(0,i))}return e}return""},B=function(){var e;return O()?e=function(){var e=navigator.userAgent.indexOf("Opera"),t=navigator.userAgent.substring(e+6);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),j(t)}():T()?e=function(){var e=navigator.userAgent.indexOf("OPR"),t=navigator.userAgent.substring(e+4);return j(t)}():P()?e=function(){var e=navigator.userAgent.indexOf("Edge"),t=navigator.userAgent.substring(e+5);return j(t)}():x()?e=function(){var e=navigator.userAgent.indexOf("Edg"),t=navigator.userAgent.substring(e+4);return j(t)}():I()?e=function(){var e=navigator.userAgent.indexOf("Chrome"),t=navigator.userAgent.substring(e+7);return j(t)}():A()?e=function(){var e=navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substring(e+8);return j(t)}():C()?e=function(){var e=navigator.userAgent.indexOf("Safari"),t=navigator.userAgent.substring(e+7);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),j(t)}():R()&&(e=function(){var e=navigator.userAgent.lastIndexOf("/"),t=navigator.userAgent.substring(e+1);return j(t)}()),e||""},N=function(){for(var e="",t=[{r:/(Windows 10.0|Windows NT 10.0)/,s:"Windows 10"},{r:/(Windows 8.1|Windows NT 6.3)/,s:"Windows 8.1"},{r:/(Windows 8|Windows NT 6.2)/,s:"Windows 8"},{r:/(Windows 7|Windows NT 6.1)/,s:"Windows 7"},{r:/Windows NT 6.0/,s:"Windows Vista"},{r:/Windows NT 5.2/,s:"Windows Server 2003"},{r:/(Windows NT 5.1|Windows XP)/,s:"Windows XP"},{r:/(Windows NT 5.0|Windows 2000)/,s:"Windows 2000"},{r:/(Win 9x 4.90|Windows ME)/,s:"Windows ME"},{r:/(Windows 98|Win98)/,s:"Windows 98"},{r:/(Windows 95|Win95|Windows_95)/,s:"Windows 95"},{r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,s:"Windows NT 4.0"},{r:/Windows CE/,s:"Windows CE"},{r:/Win16/,s:"Windows 3.11"},{r:/Android/,s:"Android"},{r:/OpenBSD/,s:"Open BSD"},{r:/SunOS/,s:"Sun OS"},{r:/(Linux|X11)/,s:"Linux"},{r:/(iPhone|iPad|iPod)/,s:"iOS"},{r:/Mac OS X/,s:"Mac OS X"},{r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/,s:"Mac OS"},{r:/QNX/,s:"QNX"},{r:/UNIX/,s:"UNIX"},{r:/BeOS/,s:"BeOS"},{r:/OS\/2/,s:"OS/2"},{r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/,s:"Search Bot"}],n=0;n<t.length;n++){var r=t[n];if(r.r.test(navigator.userAgent)){e=r.s;break}}return e},F=function(){var e=N(),t="";switch(/Windows/.test(e)&&(t=/Windows (.*)/.exec(e))&&(t=t[1],e="Windows"),e){case"Mac OS X":(t=/Mac OS X (10[._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"Android":(t=/Android ([._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"iOS":var n=/OS (\d+)_(\d+)_?(\d+)?/.exec(navigator.appVersion);n&&(t=n[1]+"."+n[2]+"."+(n[3]||0))}return t||""},M=function(){return{browser:{browser:D(),mobile:/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion),version:B()},screen:{availableSize:{height:window.screen.availHeight,width:window.screen.availWidth},colorDepth:window.screen.colorDepth,pixelRatio:(e=0,void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?e=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio),e),size:{height:window.screen.height,width:window.screen.width}},system:{name:N(),version:F()}};var e},L=window||i.g,V=function(){function e(e){void 0===e&&(e=200);var t=this;this.watch=function(){try{try{t.parallelWatch()}catch(e){t._errorHandler(e)}try{t.serialWatch()}catch(e){t._errorHandler(e)}setTimeout(t.watch,t._delay)}catch(e){t._errorHandler(e)}},this._delay=e,this._serialStackPointer=0,this._parallelStack={},this._serialStack={},this.errorHandler=null,this.watch()}return e.prototype.subscribe=function(e){var t=void 0===e?{}:e,n=t.callback,r=void 0===n?function(){return null}:n,i=t.context,o=void 0===i?L:i,a=t.ID,s=void 0===a?this._generateID():a,c=t.params,u=void 0===c?[]:c;return this.parallelSubscribe({ID:s,callback:r,context:o,params:u})},e.prototype.parallelSubscribe=function(e){var t=e.callback,n=void 0===t?function(){return null}:t,r=e.context,i=void 0===r?L:r,o=e.ID,a=void 0===o?this._generateID():o,s=e.params,c=void 0===s?[]:s;return this._parallelStack[a]={callback:n,context:i,params:c},a},e.prototype.serialSubscribe=function(e){var t=e.callback,n=void 0===t?function(){return null}:t,r=e.context,i=void 0===r?L:r,o=e.ID,a=void 0===o?this._generateID():o,s=e.params,c=void 0===s?[]:s;return this._serialStack[a]={callback:n,context:i,params:c},a},e.prototype.unsubscribe=function(e){return this.parallelUnsubscribe(e)},e.prototype.parallelUnsubscribe=function(e){return!("string"!=typeof e||!this._parallelStack[e])&&(this._parallelStack[e]=null,delete this._parallelStack[e],!0)},e.prototype.serialUnsubscribe=function(e){return!("string"!=typeof e||!this._serialStack[e])&&(this._serialStack[e]=null,delete this._serialStack[e],!0)},e.prototype.parallelWatch=function(){try{if(this._parallelStack&&"object"==typeof this._parallelStack&&Object.keys(this._parallelStack).length>0)for(var e in this._parallelStack)if(this._parallelStack.hasOwnProperty(e))try{if(e&&"string"==typeof e){var t=this._parallelStack[e];t&&"object"==typeof t&&t.context&&t.callback&&t.params&&"object"==typeof t.context&&"function"==typeof t.callback&&Array.isArray(t.params)&&t.callback.apply(t.context,t.params)}}catch(e){this._errorHandler(e)}}catch(e){this._errorHandler(e)}},e.prototype.serialWatch=function(){try{if(this._serialStack&&"object"==typeof this._serialStack){var e=Object.keys(this._serialStack);if(e&&e.length>0){this._serialStackPointer>=e.length&&(this._serialStackPointer=0);var t=e[this._serialStackPointer];if(this._serialStackPointer++,this._serialStack.hasOwnProperty(t)&&t&&"string"==typeof t){var n=this._serialStack[t];n&&"object"==typeof n&&n.context&&n.callback&&n.params&&"object"==typeof n.context&&"function"==typeof n.callback&&Array.isArray(n.params)&&n.callback.apply(n.context,n.params)}}}}catch(e){this._errorHandler(e)}},e.prototype._errorHandler=function(e){this.errorHandler&&this.errorHandler(e)},e.prototype._generateID=function(){return"x-"+(new Date).getTime()+"-"+Math.round(1e6*Math.random())},e}(),H=V,U=function(){function e(){this._watchers={}}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.init=function(e){void 0===e&&(e=200);var t=this._watchers[e];return t||(t=new H(e),this._watchers[e]=t),t},e.prototype.remove=function(e){var t=this;Object.keys(this._watchers).forEach((function(n){t._watchers[n]===e&&delete t._watchers[n]}))},e}(),W=U,q=i(8341),z=i.n(q),G=i(8214),X=i.n(G),J=W.getInstance().init(200),$={600:"Some uncaught error",503:"Attempt reattach the scripts to the non-object",502:"Block doesn't exist",501:"Banner place doesn't exist",500:"Some caught error",401:"Deprecated call",400:"Some warning",300:"Some info",200:"Some log",101:"Entry point",100:"Some debug",0:"Something"},K=function(){function e(){}return e.init=function(t){if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e.settings[n]=t[n]);return e.settings.sentryUrl&&z().config(e.settings.sentryUrl,{environment:"production",logger:"CSLogger",release:e.settings.projectVersion,sampleRate:.25}).install(),e},e.log=function(t,n,r){if("number"==typeof t&&t>0&&"string"==typeof n&&n.length>0){if(t=t||101,n=n||$[t]||"",r=r||{},t>=e.settings.minLoggerLevel){var i={date:new Date,location:location.href,projectName:e.settings.projectName,projectVersion:e.settings.projectVersion,stack:k(),user:M(),message:n,properties:r,status:t,aab_info:E()};e.arrLog.push(i)}return!0}return!1},e.statusLavelSentry=function(e){return"number"==typeof e&&e>0?e>=200&&e<300?"log":e>=300&&e<400?"info":e>=400&&e<500?"warning":e>=500?"error":"debug":""},e.statusLavelConsole=function(e){return"number"==typeof e&&e>0?e>=200&&e<300?"log":e>=300&&e<400?"info":e>=400&&e<500?"warn":e>=500?"error":"debug":""},e.showMessange=function(t,n){if("number"==typeof t&&t>0&&"string"==typeof n&&n.length>0){var r=e.statusLavelConsole(t);return"object"==typeof console&&"function"==typeof console[r]&&console[r](n),!0}return!1},e.watch=function(){if(e.arrLog.length>0&&e.arrLog.length<100){for(var t=0;t<e.arrLog.length;t++){var n=e.arrLog[t],r=encodeURIComponent(JSON.stringify(n)),i=X()(JSON.stringify({message:n.message,projectName:n.projectName,projectVersion:n.projectVersion,status:n.status})).toString();if(-1===e.arrSended.indexOf(i))if(e.arrSended.push(i),e.settings.sentryUrl)z().captureMessage(n.message,{extra:n,level:e.statusLavelSentry(n.status),logger:"CSLogger",tags:{status:n.status}});else if(e.settings.loggerUrl){(new Image).src="".concat(e.settings.loggerUrl,"?uid=").concat(i,"&data=").concat(r)}else e.showMessange(n.status,n.message)}e.arrLog=[]}},e.eventListenerAdded=!1,e.arrLog=[],e.arrSended=[],e.projectName="sspjs",e.projectVersion=h,e.settings={loggerUrl:"",minLoggerLevel:500,projectName:"",projectVersion:"",sentryUrl:""},e}();J.subscribe({callback:K.watch});var Y,Q,Z=K.init,ee=function(e){return(e.context&&e.context.location||e.document&&e.document.location).href};!function(e){e.LIB="lib",e.FEED="feed",e.BLOCK="block",e.PAGE="page"}(Y||(Y={})),function(e){e.INIT="init",e.LOAD="load",e.PREDRAW="predraw",e.DRAW="draw",e.DRAW_COMPLETE="drawComplete",e.UNEXIST="unexist",e.SPA_UPDATE="spaUpdate",e.REAL_SHOW="realShow"}(Q||(Q={}));var te,ne,re=i(2238),ie=i.n(re),oe=i(3876),ae=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},se=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ce=function(){function e(e,t){var n=(void 0===t?{}:t).subscribeOnInit,r=void 0===n||n,i=this;this._externalCallback=e,this._subscribed=!1,this._unregisterSpaPageUpdate=function(){i._eventEmitter.unregister(Y.PAGE,Q.SPA_UPDATE,i._onUnload)},this._registerSpaPageUpdate=function(){var e,t;i._eventEmitter.register(((e={})[Y.PAGE]=((t={})[Q.SPA_UPDATE]=i._onUnload,t),e))},this._onUnload=function(){i.unsubscribe(),i._externalCallback(!0)},r&&this.subscribe()}return e.prototype.subscribe=function(){this._subscribed||(this._subscribed=!0,this._setCommonListeners(),this._setMobileListeners(),this._registerSpaPageUpdate())},e.prototype.unsubscribe=function(){var t=this;this._subscribed&&(this._subscribed=!1,this._unregisterSpaPageUpdate(),e.events.forEach((function(e){return window.removeEventListener(e,t._onUnload)})),(0,oe.unbind)(this._pageVisibilityListenerId))},e.prototype._setMobileListeners=function(){var e=this;"mobile"!==this._uaparser.getDevice().type&&"tablet"!==this._uaparser.getDevice().type||(this._pageVisibilityListenerId=(0,oe.change)((function(){(0,oe.hidden)()&&e._onUnload()})))},e.prototype._setCommonListeners=function(){var t=this;e.events.forEach((function(e){return window.addEventListener(e,t._onUnload,!1)}))},e.events=["unload","beforeunload","pagehide"],ae([p(t.EventEmitter),se("design:type",Object)],e.prototype,"_eventEmitter",void 0),ae([p(t.UaParserService),se("design:type",ie())],e.prototype,"_uaparser",void 0),e}(),ue=ce,le=function(e,t,n){return e.includes("?")?"".concat(e,"&").concat(t,"=").concat(n):"".concat(e,"?").concat(t,"=").concat(n)},pe=function(e){var t,n=!0,r="https:";if(t=window.context&&window.context.location&&(window.context.location.protocol||window.context.location.href)?window.context.location.protocol?window.context.location.protocol.toLowerCase():window.context.location.href.split(":").shift().toLowerCase():document.location.protocol.toLowerCase(),r===(t="".concat(t.split(":").shift(),":"))){var i=e.match(/^[^:\/?#]+:/);null!==i&&(n=i[0]===r)}return n},de=function(e){if(-1!==e.indexOf("&ut={{TIME}}")){var t=Date.now();e=e.replace("{{TIME}}","".concat(t))}if(pe(e)){var n=document.createElement("img");return n.setAttribute("src",e),n}return!1},fe=function(e,t){var n=e.contentWindow,r=n?n.document:null;r&&"complete"===r.readyState?t(r):e.onload=function(){e.onload=null,t(n.document)}},he=function(e){var t="object"==typeof e?e:document.getElementById(e);return t&&!t.id&&(t.id=Math.random().toString(36).replace(/[^a-z]+/g,"")),t},ve=function(){return ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ve.apply(this,arguments)},me=function(e,t){if("string"!=typeof e)throw new TypeError("Expected `url` to be of type `string`, got `".concat(typeof e,"`"));return e=e.trim(),t=ve({https:!1},t),/^.+\/\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(\/\/|(?!.+?\/\/))/,t.https?"https://":"http://")},ge=function(){return ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ge.apply(this,arguments)},be=["alt","crossorigin","src","onerror","onload"],ye=function(e){return function(e){for(var t=new Image,n=0,r=be;n<r.length;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}return t}(e=ge(ge({onerror:function(){},onload:function(){}},e),{src:me(e.src,{https:!0})}))},we=function(){return Math.random().toString(36).substring(2).replace(/^[0-9]/,String.fromCharCode(97+Math.floor(26*Math.random())))},_e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_e.apply(this,arguments)},Se=["async","defer","crossorigin","type","src","onerror","onload","nonce"],Ee=function(e){for(var t=e.document.createElement("script"),n=0,r=Se;n<r.length;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}var o=window.CAPIRS_CONFIG||{};o.SCRIPT_NONCE_VALUE&&t.setAttribute("nonce",o.SCRIPT_NONCE_VALUE);var a=function(){e.removeAfterLoading&&t.parentNode.removeChild(t)};return t.addEventListener("load",a),t.addEventListener("error",a),t},ke=function(e,t){switch(e.action){case"append":return n=t,r=e.document,i=e.target,(o=e.entry)?o.parentNode.insertBefore(n,o):i?i.appendChild(n):(r.head||r.body).appendChild(n),n;case"write":return function(e,t){e.id=we(),t.write(e.outerHTML);var n=t.getElementById(e.id);return n&&(n.addEventListener("load",e.onload),n.addEventListener("error",e.onerror)),n}(t,e.document)}var n,r,i,o},Oe=function(e){var t=function(e){var t=e.document.createElement("link"),n=window.CAPIRS_CONFIG||{};return n.SCRIPT_NONCE_VALUE&&t.setAttribute("nonce",n.SCRIPT_NONCE_VALUE),e.preload&&t.relList&&t.relList.supports&&t.relList.supports("preload")?(t.rel="preload",t.as="script",t.href=e.src,t.addEventListener("load",(function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)})),t.addEventListener("error",(function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)}))):t=null,t}(e=_e(_e({onerror:function(){},onload:function(){},document:document,preload:!(P()&&!e.async),sequentially:!(!P()||!e.async)},e),{src:me(e.src,{https:!0})}));return function(e,t){return t?((e.document.head||e.document.body).appendChild(t),new Promise((function(n){var r=function(){n(ke(e,Ee(e)))};e.sequentially?(t.addEventListener("load",r),t.addEventListener("error",r)):r()}))):Promise.resolve(ke(e,Ee(e)))}(e,t)},Te=new Map([[void 0,1],["mobile",2],["tablet",3],["smarttv",5],["wearable",6],["embedded",7],["console",8]]),xe=function(e){return"object"==typeof e?e.id:e},Pe=i(8575),Ie=function(e){var t=Pe.Qc(e);if(t&&"localhost"===t.hostname){var n=t.hostname;t.port&&(n+=".:".concat(t.port)),e=e.replace(n,"www.rambler.ru")}return e},Ae=function(){return Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ae.apply(this,arguments)},Ce=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Re=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},De=Z(i(8916)),je=function(){function e(){this.eventsArray=[],this.bannerInfoMap=new Map,this.commonInfo=this.getCommonInfo()}return e.prototype.serialize=function(e){var t=JSON.stringify(e),n=new TextEncoder;return Array.from(n.encode(t))},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.logMetrics=function(e){var t=e.divId,n=e.eventType,r=e.bannerInfo,i=e.impressionId,o=e.misc,a=e.mime,s=e.method,c=e.bannerTime,u=e.monetizerId;r||(r=this.bannerInfoMap.get(t));var l=void 0!==c?c:this._metricsTimer.getTime(t,n);if("number"==typeof l){if(l<0)return;return this.bannerInfoMap.set(t,r),this.sendMetrics({divId:t,bannerInfo:r,eventType:n,bannerTimers:l,impressionId:i,misc:o,mime:a,method:s,monetizerId:u})}De.log(400,l.message,r)},e.prototype.freezeTimer=function(e){this._metricsTimer.freezeTimer(e)},e.prototype.unFreezeTimer=function(e){this._metricsTimer.unFreezeTimer(e)},e.prototype.clearBannerTimersMap=function(e){e?this._metricsTimer.clearBannerTimersMap(e):this._metricsTimer.clearBannerTimersMap()},e.prototype.sendMetrics=function(t){var n=t.divId,r=t.bannerInfo,i=t.eventType,o=t.bannerTimers,a=t.impressionId,s=t.misc,c=t.mime,u=t.method,l=t.monetizerId,p=Date.now(),d={event_bytes:this.serialize(Ae(Ae(Ae({divId:n},r),this.commonInfo),{impressionId:a,time:o,type:i,timestamp:p,misc:s,mime:c,method:u,monetizerId:l,source:"racoon"})),type:"m-capirs"};return this.eventsArray.push(d),this.eventsArray.length>=e.BATCH_SIZE?this.sendMetricsRequest():(window.clearTimeout(this.sendTimeoutId),this.sendTimeoutId=window.setTimeout(this.sendMetricsRequest.bind(this),800)),ee(window).includes(S.METRICS)&&console.log(Ae(Ae(Ae({divId:n},r),this.commonInfo),{impressionId:a,time:o,type:i,timestamp:p,misc:s,mime:c,method:u,monetizerId:l,source:"racoon"})),Ae(Ae(Ae({divId:n},r),this.commonInfo),{time:o,type:i})},e.prototype.sendMetricsRequest=function(){if(this.eventsArray.length){var t=this.eventsArray.splice(0,e.BATCH_SIZE),n=Date.now(),r=JSON.stringify({req_guid:Math.random().toString(),sent_time:{seconds:Math.floor(n/1e3),nanos:n%1e3*1e6},events:t});fetch("https://cls.ad-tech.ru/api/v1/events",{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":"user-4",Accept:"application/json, text/plain, */*"},body:r}).catch((function(e){return console.log("error",e)}))}},e.prototype.getCommonInfo=function(){var e,t=M().browser,n=t.browser,r=t.version,i=M().system,o=i.name,a=i.version;return{capirsVersion:h,browserName:n,browserVersion:r,deviceType:(e=this._uaparser.getDevice().type,Te.get(e)||9),osName:o,osVersion:a}},e.BATCH_SIZE=10,Ce([p(t.UaParserService),Re("design:type",ie())],e.prototype,"_uaparser",void 0),Ce([p(t.MetricsTimer),Re("design:type",Object)],e.prototype,"_metricsTimer",void 0),e}(),Be=function(){function e(){}return e.prototype.logMetrics=function(){},e.prototype.clearBannerTimersMap=function(){},e.prototype.freezeTimer=function(){},e.prototype.unFreezeTimer=function(){},e}();!function(e){e[void 0]="before_all",e.callAd="m_call_ad",e.startReq="m_start_req",e.feed="m_feed",e.noBanner="m_no_banner",e.nurlCallBanner="m_nurl_call_banner",e.nurlBanner="m_nurl_banner",e.nurlNoBanner="m_nurl_no_banner",e.rendered="m_rendered",e.viewable="m_viewable",e.reached="m_reached",e.feed_ttfb="m_feed_ttfb",e.nurl_ttfb="m_nurl_ttfb"}(te||(te={})),function(e){e.wrongEventType="Wrong event type",e.wrongEventOrder="Wrong event order",e.wrongFreezeOrder="Wrong freeze order"}(ne||(ne={}));var Ne,Fe=function(){function e(){this.freezeTimersMap=new Map,this.bannerTimersMap=new Map}return e.prototype.freezeTimer=function(e){this.freezeTimersMap.get(e)||this.freezeTimersMap.set(e,[Date.now(),0])},e.prototype.unFreezeTimer=function(e){var t=this.freezeTimersMap.get(e);t[1]||(t[1]=Date.now(),this.freezeTimersMap.set(e,t))},e.prototype.getTime=function(e,t){var n=this.getBannerTimers(e),r=this.freezeTimersMap.get(e),i=n.lastMetricType;if(t===te.callAd&&t===i)return-1;var o=this.getEventTimers(n,t,r);return!0===o.ok?(n.timers[t]=o.result,n.lastMetricType=t,this.setBannerTimers(e,n),this.freezeTimersMap.delete(e),n.timers[t].timeSinceLast):new Error(o.error)},e.prototype.clearBannerTimersMap=function(e){e?(this.bannerTimersMap.delete(e),this.freezeTimersMap.delete(e)):(this.bannerTimersMap.clear(),this.freezeTimersMap.clear())},e.prototype.getBannerTimers=function(e){var t=this.bannerTimersMap.get(e);return t||{timers:{},lastMetricType:te.undefined}},e.prototype.setBannerTimers=function(e,t){this.bannerTimersMap.set(e,t)},e.prototype.getEventTimers=function(e,t,n){var r=e.timers,i=e.lastMetricType,o=0;if(n){var a=n[0];o=n[1]-a}return this.getTimer(r,t,o,i)},e.prototype.getTimer=function(e,t,n,r){return n<0?{ok:!1,error:ne.wrongFreezeOrder}:t===te.callAd&&r===te.undefined?void 0!==e[t]?{ok:!1,error:ne.wrongEventOrder}:{ok:!0,result:{eventTime:Date.now(),timeSinceLast:0}}:void 0===e[r]||void 0!==e[t]?{ok:!1,error:ne.wrongEventOrder}:{ok:!0,result:{eventTime:Date.now(),timeSinceLast:Date.now()-e[r].eventTime-n}}},e}(),Me=function(e){return"object"==typeof e&&null!==e?(e.id||(e.id=Math.random().toString(36).replace(/[^a-z]+/g,"")),e.id):e};function Le(e,n,r){var i=r.value;r.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.get(t.MetricsTransport).logMetrics({divId:Me(e[0]),eventType:te.callAd,bannerInfo:{blockId:parseInt(e[2]["begun-block-id"],10),padId:parseInt(e[2]["begun-auto-pad"],10)},monetizerId:0,method:e[2]&&e[2].calledMethod}),i.apply(this,e)}}!function(e){e.shown="called",e.declined="declined"}(Ne||(Ne={}));var Ve=function(){return Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ve.apply(this,arguments)},He=function(){function e(){this.FILENAME="toolbar.js"}return e.prototype.load=function(){window.Begun.Autocontext.scriptLoader.baseLoad(this.FILENAME)},e.prototype.handleDebugInfo=function(e){var t=e.feed,n=e.blockData;t.debug&&t.debug.request&&(this.load(),this.setClientSideInfo(t,n),window.Begun.Autocontext.unhandledDebugs.push(t.debug),this.removeDebug(t),window.Begun.Autocontext.begunToolbarLoaded())},e.prototype.setClientSideInfo=function(e,t){e.debug.clientside=Ve({},t)},e.prototype.removeDebug=function(e){delete e.debug},e}(),Ue=function(){function e(){}return e.prototype.load=function(){},e.prototype.handleDebugInfo=function(){},e}(),We=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},qe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ze=function(){function e(){this._configStore={},this._hydrate()}return e.prototype.getConfigValue=function(e){return this._configStore[e]},e.prototype.getConfigStore=function(){return this._configStore},e.prototype._hydrate=function(){for(var e=window.CAPIRS_CONFIG||{},t=Object.keys(this._allowedOptions),n=0;n<t.length;n++){var r=t[n],i=e.hasOwnProperty(r);this._configStore[r]=i?e[r]:this._allowedOptions[r]}},We([p(t.ConfigOptions),qe("design:type",Object)],e.prototype,"_allowedOptions",void 0),e}(),Ge=ze,Xe=Array.isArray,Je="object"==typeof global&&global&&global.Object===Object&&global,$e="object"==typeof self&&self&&self.Object===Object&&self,Ke=Je||$e||Function("return this")(),Ye=Ke.Symbol,Qe=Object.prototype,Ze=Qe.hasOwnProperty,et=Qe.toString,tt=Ye?Ye.toStringTag:void 0;var nt=function(e){var t=Ze.call(e,tt),n=e[tt];try{e[tt]=void 0;var r=!0}catch(e){}var i=et.call(e);return r&&(t?e[tt]=n:delete e[tt]),i},rt=Object.prototype.toString;var it=function(e){return rt.call(e)},ot=Ye?Ye.toStringTag:void 0;var at=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ot&&ot in Object(e)?nt(e):it(e)};var st=function(e){return null!=e&&"object"==typeof e};var ct=function(e){return"symbol"==typeof e||st(e)&&"[object Symbol]"==at(e)},ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lt=/^\w*$/;var pt=function(e,t){if(Xe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ct(e))||(lt.test(e)||!ut.test(e)||null!=t&&e in Object(t))};var dt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ft,ht=function(e){if(!dt(e))return!1;var t=at(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},vt=Ke["__core-js_shared__"],mt=(ft=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+ft:"";var gt=function(e){return!!mt&&mt in e},bt=Function.prototype.toString;var yt=function(e){if(null!=e){try{return bt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},wt=/^\[object .+?Constructor\]$/,_t=Function.prototype,St=Object.prototype,Et=_t.toString,kt=St.hasOwnProperty,Ot=RegExp("^"+Et.call(kt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Tt=function(e){return!(!dt(e)||gt(e))&&(ht(e)?Ot:wt).test(yt(e))};var xt=function(e,t){return null==e?void 0:e[t]};var Pt=function(e,t){var n=xt(e,t);return Tt(n)?n:void 0},It=Pt(Object,"create");var At=function(){this.__data__=It?It(null):{},this.size=0};var Ct=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rt=Object.prototype.hasOwnProperty;var Dt=function(e){var t=this.__data__;if(It){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Rt.call(t,e)?t[e]:void 0},jt=Object.prototype.hasOwnProperty;var Bt=function(e){var t=this.__data__;return It?void 0!==t[e]:jt.call(t,e)};var Nt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=It&&void 0===t?"__lodash_hash_undefined__":t,this};function Ft(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ft.prototype.clear=At,Ft.prototype.delete=Ct,Ft.prototype.get=Dt,Ft.prototype.has=Bt,Ft.prototype.set=Nt;var Mt=Ft;var Lt=function(){this.__data__=[],this.size=0};var Vt=function(e,t){return e===t||e!=e&&t!=t};var Ht=function(e,t){for(var n=e.length;n--;)if(Vt(e[n][0],t))return n;return-1},Ut=Array.prototype.splice;var Wt=function(e){var t=this.__data__,n=Ht(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ut.call(t,n,1),--this.size,!0)};var qt=function(e){var t=this.__data__,n=Ht(t,e);return n<0?void 0:t[n][1]};var zt=function(e){return Ht(this.__data__,e)>-1};var Gt=function(e,t){var n=this.__data__,r=Ht(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Xt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xt.prototype.clear=Lt,Xt.prototype.delete=Wt,Xt.prototype.get=qt,Xt.prototype.has=zt,Xt.prototype.set=Gt;var Jt=Xt,$t=Pt(Ke,"Map");var Kt=function(){this.size=0,this.__data__={hash:new Mt,map:new($t||Jt),string:new Mt}};var Yt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Qt=function(e,t){var n=e.__data__;return Yt(t)?n["string"==typeof t?"string":"hash"]:n.map};var Zt=function(e){var t=Qt(this,e).delete(e);return this.size-=t?1:0,t};var en=function(e){return Qt(this,e).get(e)};var tn=function(e){return Qt(this,e).has(e)};var nn=function(e,t){var n=Qt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rn.prototype.clear=Kt,rn.prototype.delete=Zt,rn.prototype.get=en,rn.prototype.has=tn,rn.prototype.set=nn;var on=rn;function an(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(an.Cache||on),n}an.Cache=on;var sn=an;var cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,un=/\\(\\)?/g,ln=function(e){var t=sn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(cn,(function(e,n,r,i){t.push(r?i.replace(un,"$1"):n||e)})),t}));var pn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},dn=Ye?Ye.prototype:void 0,fn=dn?dn.toString:void 0;var hn=function e(t){if("string"==typeof t)return t;if(Xe(t))return pn(t,e)+"";if(ct(t))return fn?fn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var vn=function(e){return null==e?"":hn(e)};var mn=function(e,t){return Xe(e)?e:pt(e,t)?[e]:ln(vn(e))};var gn=function(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var bn=function(e,t){for(var n=0,r=(t=mn(t,e)).length;null!=e&&n<r;)e=e[gn(t[n++])];return n&&n==r?e:void 0};var yn,wn=function(e,t,n){var r=null==e?void 0:bn(e,t);return void 0===r?n:r},_n=function(e){return e&&e.params&&e.params.impression_id},Sn=function(e){return wn(e,"feed.params.impression_id",e)},En=i(4861),kn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},On=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},xn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pn=function(){function e(){var e=this;this._sessions={},this._shownBanners={},this._cleanBannersAndSessions=function(){e._shownBanners={},e._sessions={},e._metricsTransport.clearBannerTimersMap()},this._registerSpaPageUpdate=function(){var t,n;e._eventEmitter.register(((t={})[Y.PAGE]=((n={})[Q.SPA_UPDATE]=e._cleanBannersAndSessions,n),t))},!1===this._config.getConfigValue("RESET_SYNC_BANNERS_STATE_ON_HISTORY_CHANGE")?this._registerSpaPageUpdate():(0,En.addEventListener)(window,"changestate",this._cleanBannersAndSessions)}return e.prototype.addSession=function(e,t){this._sessions[e]=t},e.prototype.getSession=function(e){return this._sessions[e]},e.prototype.show=function(e){var t=e.divID,n=e.options,r=e.optionsB,i=e.priority,o=e.impressionID,a=e.blockID,s=e.sessionKeys,c=e.optClass,u=e.callback,l=e.doWipe;return Tn(this,void 0,void 0,(function(){var e,p;return xn(this,(function(d){switch(d.label){case 0:return e=this._renderService.getBannerData(o),this._handleDebugInfo(e),this._isRenderAllowed(a,s)?[4,this._renderService.showAd(t,o,0,l)]:[3,2];case 1:return d.sent(),this._stackUtils.updateBannersStack(t,{impressionID:Sn(o)}),u&&u(i,o,a),this._markSyncPlaces(s),this._setShown(a,0===e.feed.banners.graph.length),[2,Ne.shown];case 2:return this._isRetryAllowed(r.requestRetries,a)&&(p=r.requestRetries||0)<2?(r.requestRetries=p+1,[2,this._adInitializer.ssp(t,n,r,c,null,u,null,l)]):[2,Ne.declined]}}))}))},e.prototype.isSessionBanner=function(e){var t=e.nodeID,n=e.blockID;if(!n){var r=this._stackUtils.stack[t];n=r&&r.options_b&&r.options_b["begun-block-id"]}var i=this.getSession(n)||{};return this._isPlaceMarkedAsSync(i)},e.prototype._handleDebugInfo=function(e){e&&this._debugService.handleDebugInfo(e)},e.prototype._isRenderAllowed=function(t,n){var r=!0;if(n){for(var i in n)if(n.hasOwnProperty(i)){var o=this.getSession(i),a=o&&o.key||void 0,s=n[i],c=this._isSyncPlaceTakenByBasicBanner(i),u=this._syncBannerIsRendered(t);if(this._isPlaceMarkedAsForcedNonSyncOrSync(a,s)||u||c){r=!1,this.getSession(t)&&!c||this.addSession(t,{key:e.FORCE_NON_SYNC});break}}}else(a=this.getSession(t))&&a.key!==e.FORCE_NON_SYNC&&(r=!1);return r},e.prototype._markSyncPlaces=function(e){for(var t in e)e.hasOwnProperty(t)&&this.addSession(t,{key:e[t]})},e.prototype._isRetryAllowed=function(e,t){void 0===e&&(e=0);var n=this.getSession(t);return e<2&&(this._isPlaceMarkedAsSync(n)||this._isPlaceMarkedAsForcedNonSync(n))&&!this._syncBannerIsRendered(t)},e.prototype._isPlaceMarkedAsSync=function(t){return t.key!==e.FORCE_NON_SYNC&&""!==t.key&&void 0!==t.key},e.prototype._isPlaceMarkedAsForcedNonSync=function(t){return t.key===e.FORCE_NON_SYNC},e.prototype._isPlaceMarkedAsForcedNonSyncOrSync=function(t,n){return t===e.FORCE_NON_SYNC||void 0!==t&&t!==n},e.prototype._setShown=function(t,n){var r=this.getSession(t);this._shownBanners[t]=r&&r.key||(n?e.EMPTY:e.BASIC)},e.prototype._getShown=function(e){return this._shownBanners[e]},e.prototype._isSyncPlaceTakenByBasicBanner=function(t){return this._getShown(t)===e.BASIC},e.prototype._syncBannerIsRendered=function(t){var n=this._getShown(t);return n&&n!==e.BASIC&&n!==e.FORCE_NON_SYNC},e.BASIC="basic",e.EMPTY="empty",e.FORCE_NON_SYNC="*",kn([p(t.BegunAutocontext),On("design:type",Object)],e.prototype,"_renderService",void 0),kn([p(t.MethodsInitializer),On("design:type",Object)],e.prototype,"_adInitializer",void 0),kn([p(t.AdfUtil),On("design:type",Object)],e.prototype,"_stackUtils",void 0),kn([p(t.ToolbarHelper),On("design:type",He)],e.prototype,"_debugService",void 0),kn([p(t.EventEmitter),On("design:type",Object)],e.prototype,"_eventEmitter",void 0),kn([p(t.Config),On("design:type",Ge)],e.prototype,"_config",void 0),kn([p(t.MetricsTransport),On("design:type",je)],e.prototype,"_metricsTransport",void 0),e}(),In=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},An=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Cn=function(){function e(){}return e.prototype.attemptRefresh=function(e,t){var n=this._inViewTimersService.inViewTimers[e];return!(!n||this._syncBannersService.isSessionBanner({nodeID:e}))&&n.attemptRefresh(t)},In([p(t.SyncShow),An("design:type",Pn)],e.prototype,"_syncBannersService",void 0),In([p(t.MethodsInitializer),An("design:type",Object)],e.prototype,"_inViewTimersService",void 0),e}(),Rn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Dn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jn=function(){function e(e,t,n,r,i,o,a,s){this.isUrlCalled=!1,this._viewableBanner=t,this._ID=n,this.url=e.url,this.impressionId=i,this.misc=o,this.mime=a,this.monetizerId=s,this.percent=e.percent,this.time=e.time,this._div_ID=r}return e.prototype.startTimer=function(){var e=this;this.stopTimer(),this._timer=setTimeout((function(){e._callUrl(),e._logUrlCall()}),this.time)},e.prototype.isTimerStarted=function(){return!!this._timer},e.prototype.stopTimer=function(){clearTimeout(this._timer),this._timer=null},e.prototype.setViewableBanner=function(e){this._viewableBanner=e},e.prototype.getViewableBanner=function(){return this._viewableBanner},e.prototype._callUrl=function(){ye({src:le(this.url,"capirs_nocache",Date.now()),target:document.body,document:document}),this.isUrlCalled=!0},e.prototype._logUrlCall=function(){this._metricsTransport.logMetrics({divId:this._div_ID,eventType:te.viewable,impressionId:this.impressionId,misc:this.misc,mime:this.mime,monetizerId:this.monetizerId})},Rn([p(t.MetricsTransport),Dn("design:type",je)],e.prototype,"_metricsTransport",void 0),e}();!function(e){e.FULLSCREEN="fullscreen",e.FLOATING_BILLBOARD="floatingBillboard"}(yn||(yn={}));var Bn=function(){function e(){}return e.checkRootLVLBannerByFeed=function(t){if(t&&t.banners.graph[0]){var n=t.banners.graph[0].view_type;for(var r in e.rootBannersTypes)if(e.rootBannersTypes.hasOwnProperty(r)&&n.includes(e.rootBannersTypes[r]))return r}},e.getRootElementType=function(t){for(var n in"string"==typeof t&&(t=window.document.getElementById(t)),e.rootBannersTypes)if(e.rootBannersTypes.hasOwnProperty(n)){var r=e.rootBannersTypes[n];if(t.querySelector("script[src*=".concat(r,"]")))return n}return null},e.getActualBannerPlace=function(t,n){return n||(n=e.getRootElementType(t)),n?e.getNestedBanner(t,n)||e.findByDataPlaceId(t)||e.getGlobalBanner(n):e.findByDataPlaceId(t)},e.getNestedBanner=function(t,n){return t?t.querySelector(e.rootBannersQuerySelectors[n]):null},e.findByDataPlaceId=function(t,n){if(void 0===n&&(n=document),!t)return null;var r=t.querySelector("[".concat(e.PLACE_ID_ATTR,"]"));return r&&Array.from(n.querySelectorAll("[".concat(e.PLACE_ID_ATTR,'="').concat(r.dataset.bannerPlaceId,'"]'))).find((function(e){return e!==r}))||null},e.getGlobalBanner=function(t){return document.querySelector(e.rootBannersQuerySelectors[t])},e.rootBannersTypes={branding:"Branding",fullscreen:"Fullscreen",floatingBillboard:"FloatingBillboard",shade:"Shade"},e.PLACE_ID_ATTR="data-banner-place-id",e.rootBannersQuerySelectors={branding:"[class*='branding-wrapper'][data-banner-place-id]",fullscreen:"[class*='fullscreen-wrapper'][data-banner-place-id]",floatingBillboard:"[class*='floating-billboard'][data-project-name='floatingbillboard']",shade:"[class*='shade-banner'][data-project-name='Shade']"},e}(),Nn=function(e){return e&&"object"==typeof e&&e.document&&"object"==typeof e.document},Fn=function(e){return void 0===e&&(e=window),Nn(e)?e.pageYOffset||e.document.documentElement&&e.document.documentElement.scrollTop||e.document.body&&e.document.body.scrollTop:NaN},Mn=Math.ceil,Ln=Math.max;var Vn=function(e,t,n,r){for(var i=-1,o=Ln(Mn((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a};var Hn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Un=function(e){return null!=e&&Hn(e.length)&&!ht(e)},Wn=/^(?:0|[1-9]\d*)$/;var qn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Wn.test(e))&&e>-1&&e%1==0&&e<t};var zn=function(e,t,n){if(!dt(n))return!1;var r=typeof t;return!!("number"==r?Un(n)&&qn(t,n.length):"string"==r&&t in n)&&Vt(n[t],e)},Gn=/\s/;var Xn=function(e){for(var t=e.length;t--&&Gn.test(e.charAt(t)););return t},Jn=/^\s+/;var $n=function(e){return e?e.slice(0,Xn(e)+1).replace(Jn,""):e},Kn=/^[-+]0x[0-9a-f]+$/i,Yn=/^0b[01]+$/i,Qn=/^0o[0-7]+$/i,Zn=parseInt;var er=function(e){if("number"==typeof e)return e;if(ct(e))return NaN;if(dt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=dt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$n(e);var n=Yn.test(e);return n||Qn.test(e)?Zn(e.slice(2),n?2:8):Kn.test(e)?NaN:+e},tr=1/0;var nr=function(e){return e?(e=er(e))===tr||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var rr=function(e){return function(t,n,r){return r&&"number"!=typeof r&&zn(t,n,r)&&(n=r=void 0),t=nr(t),void 0===n?(n=t,t=0):n=nr(n),r=void 0===r?t<n?1:-1:nr(r),Vn(t,n,r,e)}}();var ir=function(){this.__data__=new Jt,this.size=0};var or=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ar=function(e){return this.__data__.get(e)};var sr=function(e){return this.__data__.has(e)};var cr=function(e,t){var n=this.__data__;if(n instanceof Jt){var r=n.__data__;if(!$t||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(e,t),this.size=n.size,this};function ur(e){var t=this.__data__=new Jt(e);this.size=t.size}ur.prototype.clear=ir,ur.prototype.delete=or,ur.prototype.get=ar,ur.prototype.has=sr,ur.prototype.set=cr;var lr=ur;var pr=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var dr=function(e){return this.__data__.has(e)};function fr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new on;++t<n;)this.add(e[t])}fr.prototype.add=fr.prototype.push=pr,fr.prototype.has=dr;var hr=fr;var vr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var mr=function(e,t){return e.has(t)};var gr=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var p=-1,d=!0,f=2&n?new hr:void 0;for(o.set(e,t),o.set(t,e);++p<s;){var h=e[p],v=t[p];if(r)var m=a?r(v,h,p,t,e,o):r(h,v,p,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!vr(t,(function(e,t){if(!mr(f,t)&&(h===e||i(h,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(h!==v&&!i(h,v,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},br=Ke.Uint8Array;var yr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var wr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},_r=Ye?Ye.prototype:void 0,Sr=_r?_r.valueOf:void 0;var Er=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new br(e),new br(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Vt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=yr;case"[object Set]":var c=1&r;if(s||(s=wr),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=gr(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Sr)return Sr.call(e)==Sr.call(t)}return!1};var kr=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var Or=function(e,t,n){var r=t(e);return Xe(e)?r:kr(r,n(e))};var Tr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var xr=function(){return[]},Pr=Object.prototype.propertyIsEnumerable,Ir=Object.getOwnPropertySymbols,Ar=Ir?function(e){return null==e?[]:(e=Object(e),Tr(Ir(e),(function(t){return Pr.call(e,t)})))}:xr;var Cr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Rr=function(e){return st(e)&&"[object Arguments]"==at(e)},Dr=Object.prototype,jr=Dr.hasOwnProperty,Br=Dr.propertyIsEnumerable,Nr=Rr(function(){return arguments}())?Rr:function(e){return st(e)&&jr.call(e,"callee")&&!Br.call(e,"callee")},Fr=Nr;var Mr=function(){return!1},Lr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vr=Lr&&"object"==typeof module&&module&&!module.nodeType&&module,Hr=Vr&&Vr.exports===Lr?Ke.Buffer:void 0,Ur=(Hr?Hr.isBuffer:void 0)||Mr,Wr={};Wr["[object Float32Array]"]=Wr["[object Float64Array]"]=Wr["[object Int8Array]"]=Wr["[object Int16Array]"]=Wr["[object Int32Array]"]=Wr["[object Uint8Array]"]=Wr["[object Uint8ClampedArray]"]=Wr["[object Uint16Array]"]=Wr["[object Uint32Array]"]=!0,Wr["[object Arguments]"]=Wr["[object Array]"]=Wr["[object ArrayBuffer]"]=Wr["[object Boolean]"]=Wr["[object DataView]"]=Wr["[object Date]"]=Wr["[object Error]"]=Wr["[object Function]"]=Wr["[object Map]"]=Wr["[object Number]"]=Wr["[object Object]"]=Wr["[object RegExp]"]=Wr["[object Set]"]=Wr["[object String]"]=Wr["[object WeakMap]"]=!1;var qr=function(e){return st(e)&&Hn(e.length)&&!!Wr[at(e)]};var zr=function(e){return function(t){return e(t)}},Gr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Xr=Gr&&"object"==typeof module&&module&&!module.nodeType&&module,Jr=Xr&&Xr.exports===Gr&&Je.process,$r=function(){try{var e=Xr&&Xr.require&&Xr.require("util").types;return e||Jr&&Jr.binding&&Jr.binding("util")}catch(e){}}(),Kr=$r&&$r.isTypedArray,Yr=Kr?zr(Kr):qr,Qr=Object.prototype.hasOwnProperty;var Zr=function(e,t){var n=Xe(e),r=!n&&Fr(e),i=!n&&!r&&Ur(e),o=!n&&!r&&!i&&Yr(e),a=n||r||i||o,s=a?Cr(e.length,String):[],c=s.length;for(var u in e)!t&&!Qr.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||qn(u,c))||s.push(u);return s},ei=Object.prototype;var ti=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ei)};var ni=function(e,t){return function(n){return e(t(n))}},ri=ni(Object.keys,Object),ii=Object.prototype.hasOwnProperty;var oi=function(e){if(!ti(e))return ri(e);var t=[];for(var n in Object(e))ii.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ai=function(e){return Un(e)?Zr(e):oi(e)};var si=function(e){return Or(e,ai,Ar)},ci=Object.prototype.hasOwnProperty;var ui=function(e,t,n,r,i,o){var a=1&n,s=si(e),c=s.length;if(c!=si(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:ci.call(t,l)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<c;){var v=e[l=s[u]],m=t[l];if(r)var g=a?r(m,v,l,t,e,o):r(v,m,l,e,t,o);if(!(void 0===g?v===m||i(v,m,n,r,o):g)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f},li=Pt(Ke,"DataView"),pi=Pt(Ke,"Promise"),di=Pt(Ke,"Set"),fi=Pt(Ke,"WeakMap"),hi="[object Map]",vi="[object Promise]",mi="[object Set]",gi="[object WeakMap]",bi="[object DataView]",yi=yt(li),wi=yt($t),_i=yt(pi),Si=yt(di),Ei=yt(fi),ki=at;(li&&ki(new li(new ArrayBuffer(1)))!=bi||$t&&ki(new $t)!=hi||pi&&ki(pi.resolve())!=vi||di&&ki(new di)!=mi||fi&&ki(new fi)!=gi)&&(ki=function(e){var t=at(e),n="[object Object]"==t?e.constructor:void 0,r=n?yt(n):"";if(r)switch(r){case yi:return bi;case wi:return hi;case _i:return vi;case Si:return mi;case Ei:return gi}return t});var Oi=ki,Ti="[object Arguments]",xi="[object Array]",Pi="[object Object]",Ii=Object.prototype.hasOwnProperty;var Ai=function(e,t,n,r,i,o){var a=Xe(e),s=Xe(t),c=a?xi:Oi(e),u=s?xi:Oi(t),l=(c=c==Ti?Pi:c)==Pi,p=(u=u==Ti?Pi:u)==Pi,d=c==u;if(d&&Ur(e)){if(!Ur(t))return!1;a=!0,l=!1}if(d&&!l)return o||(o=new lr),a||Yr(e)?gr(e,t,n,r,i,o):Er(e,t,c,n,r,i,o);if(!(1&n)){var f=l&&Ii.call(e,"__wrapped__"),h=p&&Ii.call(t,"__wrapped__");if(f||h){var v=f?e.value():e,m=h?t.value():t;return o||(o=new lr),i(v,m,n,r,o)}}return!!d&&(o||(o=new lr),ui(e,t,n,r,i,o))};var Ci=function e(t,n,r,i,o){return t===n||(null==t||null==n||!st(t)&&!st(n)?t!=t&&n!=n:Ai(t,n,r,i,e,o))};var Ri=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var p=new lr;if(r)var d=r(u,l,c,e,t,p);if(!(void 0===d?Ci(l,u,3,r,p):d))return!1}}return!0};var Di=function(e){return e==e&&!dt(e)};var ji=function(e){for(var t=ai(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Di(i)]}return t};var Bi=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Ni=function(e){var t=ji(e);return 1==t.length&&t[0][2]?Bi(t[0][0],t[0][1]):function(n){return n===e||Ri(n,e,t)}};var Fi=function(e,t){return null!=e&&t in Object(e)};var Mi=function(e,t,n){for(var r=-1,i=(t=mn(t,e)).length,o=!1;++r<i;){var a=gn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Hn(i)&&qn(a,i)&&(Xe(e)||Fr(e))};var Li=function(e,t){return null!=e&&Mi(e,t,Fi)};var Vi=function(e,t){return pt(e)&&Di(t)?Bi(gn(e),t):function(n){var r=wn(n,e);return void 0===r&&r===t?Li(n,e):Ci(t,r,3)}};var Hi=function(e){return e};var Ui=function(e){return function(t){return null==t?void 0:t[e]}};var Wi=function(e){return function(t){return bn(t,e)}};var qi=function(e){return pt(e)?Ui(gn(e)):Wi(e)};var zi=function(e){return"function"==typeof e?e:null==e?Hi:"object"==typeof e?Xe(e)?Vi(e[0],e[1]):Ni(e):qi(e)};var Gi=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var Xi=function(e){return e!=e};var Ji=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var $i=function(e,t,n){return t==t?Ji(e,t,n):Gi(e,Xi,n)};var Ki=function(e,t){return!!(null==e?0:e.length)&&$i(e,t,0)>-1};var Yi=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Qi=function(){},Zi=di&&1/wr(new di([,-0]))[1]==1/0?function(e){return new di(e)}:Qi;var eo=function(e,t,n){var r=-1,i=Ki,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=Yi;else if(o>=200){var u=t?null:Zi(e);if(u)return wr(u);a=!1,i=mr,c=new hr}else c=t?[]:s;e:for(;++r<o;){var l=e[r],p=t?t(l):l;if(l=n||0!==l?l:0,a&&p==p){for(var d=c.length;d--;)if(c[d]===p)continue e;t&&c.push(p),s.push(l)}else i(c,p,n)||(c!==s&&c.push(p),s.push(l))}return s};var to,no,ro=function(e,t){return e&&e.length?eo(e,zi(t,2)):[]},io=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},oo=function(e,t){return null==e?void 0:e.contains(t)},ao=function(e){var t=e.left,n=e.right,r=e.top,i=e.bottom;return{left:t<0?0:t,right:n<0?0:n,top:r<0?0:r,bottom:i>document.documentElement.clientHeight?document.documentElement.clientHeight:i}},so=function(e,t){var n=ao(e),r=ao(t);return n.top<r.bottom&&n.bottom>r.top&&n.left<r.right&&n.right>r.left},co=function(e,t){return e.top>=t.top&&e.bottom<=t.bottom&&e.left>=t.left&&e.right<=t.right},uo=sn((function(e,t){return[.3*e,.3*t]})),lo=function(e){var t,n=e.elementFromPoint,r=e.covered,i=e.nodeToExclude;return n&&!r.isSameNode(n)&&!document.body.isSameNode(n)&&!oo(n,r)&&!oo(r,n)&&!function(e,t){return!!e&&(oo(e,t)||t.isSameNode(e))}(i,n)&&!oo(null===(t=document.getElementsByClassName("branding-wrapper"))||void 0===t?void 0:t[0],n)&&!n.classList.contains("rectangle-point")},po=function(e,t){var n=document.querySelector(".inview-timers-wrapper"),r=[];return t.forEach((function(e){var t,n,i=(t=e[0],n=e[1],document.elementsFromPoint?document.elementsFromPoint(t,n):Array.from(document.msElementsFromPoint(t,n)));r.push.apply(r,i)})),Array.from(new Set(r)).filter((function(t){return lo({covered:e,elementFromPoint:t,nodeToExclude:n})}))},fo=function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left}},ho=function(e){var t,n,r=po(e,function(e,t){var n=ao(e.getBoundingClientRect()),r=n.left,i=n.right,o=n.top,a=n.bottom,s=rr(r+2,i-2,t[0]),c=rr(o+2,a-2,t[1]);return s.reduce((function(e,t){return io(io([],e,!0),c.map((function(e){return[t,e]})),!0)}),[])}(e,uo(e.clientWidth,e.clientHeight)));if(r.length>0){var i=r.find((function(e){return e.id.includes("pushwoosh-popup")})),o=r.reduce((function(t,n){var r=function(e,t){for(var n=[],r=e;r.parentElement&&!r.parentElement.contains(t)&&r.parentElement.clientHeight*r.parentElement.clientWidth>=r.clientHeight*r.clientWidth;)n.push(r.parentElement),r=r.parentElement;return n}(n,e).reverse().find((function(e){return e.getBoundingClientRect().bottom>=0}));return io(io([],t,!0),[r||n],!1)}),[]);i&&(o=o.filter((function(e){return!e.contains(i)}))).push(i);var a=function(e){if(1===e.length)return e;for(var t=io([],e.slice(0),!0),n=function(e){var n=t[e],r=e,i=t.reduce((function(e,t,i){return n&&t&&so(t,n)&&r!==i?io(io([],e,!0),[{intersectedIndex:i,intersectedElement:t}],!1):e}),[]);if(i.length>0)for(var o=0;o<i.length;o++){var a=i[o],s=a.intersectedElement,c=a.intersectedIndex,u=s.top,l=s.right,p=s.bottom,d=s.left,f=n.top,h=n.right,v=n.bottom,m=n.left;if(co(s,n)&&t.splice(c,1,null),u<f){var g={top:u,right:l,bottom:f,left:d};s.top=f,t.push(g)}l>h&&(g={top:u,right:l,bottom:p,left:h},s.right=h,t.push(g)),p>v&&(g={top:v,right:l,bottom:p,left:d},s.bottom=v,t.push(g)),d<m&&(g={top:u,right:m,bottom:p,left:d},s.left=m,t.push(g))}},r=0;r<t.length;r++)n(r);return t.filter((function(e){return!!e}))}(Array.from(new Set(o)).map(fo));a=ro(a,(function(e){return"".concat(e.top,".").concat(e.right,".").concat(e.bottom,".").concat(e.left)})),a=function(e,t){return e.filter((function(e){return so(e,t)}))}(a,fo(e)),location.search.includes("draw_rects=true")&&(t=a,n=document.querySelectorAll(".rectangle-point"),Array.from(n).forEach((function(e){return e.remove()})),t.forEach((function(e,t){var n=e.top,r=e.right,i=e.bottom,o=e.left,a=document.createElement("div");a.classList.add("rectangle-point"),a.style.position="fixed",a.style.zIndex="9999",a.style.border="3px dashed red",a.style.left="".concat(o,"px"),a.style.top="".concat(n,"px"),a.style.right="".concat(r,"px"),a.style.bottom="".concat(i,"px"),a.style.height="".concat(i-n,"px"),a.style.width="".concat(r-o,"px"),a.style.background="rgba(122, 122, 122, .4)",a.innerHTML="<span>".concat(t,"</span>"),document.body.append(a)})));var s=(a||[]).reduce((function(t,n){return t+function(e,t){var n=ao(e),r=ao(t),i=r.top,o=r.right,a=r.bottom,s=r.left,c=n.top,u=n.right,l=n.bottom,p=n.left,d=l-c,f=u-p,h=o-s,v=a-i;if(co(r,n))return Math.round(v*h/(d*f)*100);if(co(n,r))return 100;var m=0,g=0;return m=i<=c?a>=l?d:a-c:a>=l?l-i:v,g=s<=p?o>=u?f:o-p:o>=u?u-s:h,Math.round(m*g/(d*f)*100)}(fo(e),n)}),0);return Math.min(s,100)}return 0},vo=function(){function e(){this.subscribers={},this.observables={}}return e.prototype.stopCheckCovering=function(e){cancelIdleCallback(this.observables[e].idleCallbackId),delete this.observables[e]},e.prototype.subscribe=function(e,t){this.subscribers[e]=this.subscribers[e]||[],this.subscribers[e].push(t),this.observables[e]||(this.observables[e]=this.observables[e]||{idleCallbackId:null,isCoveringCheckPermitted:!1,coveringPercent:null},this.setCoveringCheckPermission(e),this.initIdleCallback(e))},e.prototype.unsubscribe=function(e,t){this.subscribers[e]=this.subscribers[e].filter((function(e){return e!==t})),this.subscribers[e].length<1&&this.stopCheckCovering(e)},e.prototype.initIdleCallback=function(e){var t=this;if(this.observables[e].isCoveringCheckPermitted){var n=document.getElementById(e),r=function(){t.emitCurrentState(e,ho(n)),requestIdleCallback(r)};this.observables[e].idleCallbackId=requestIdleCallback(r)}},e.prototype.setCoveringCheckPermission=function(e){this.observables[e].isCoveringCheckPermitted=g.some((function(t){return"begun_block_".concat(t)===e}))},e.prototype.emitCurrentState=function(e,t){this.subscribers[e].forEach((function(e){return e(t)}))},e}(),mo=function(){return mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mo.apply(this,arguments)},go=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},yo=".unbounded-banner-place",wo="[data-project-name='unbounded']",_o=function(){function e(e,t,n,r,i,o,a){var s=this;this._isRealBannerPlaceFound=!1,this._unboundedBannerThreshold={isEnabled:!1,value:rr(0,.9,.01).map((function(e){return Math.round(100*e)/100}))},this._coveringPercent=0,this.updateCoveringPercent=function(e){e!==s._coveringPercent&&(s._coveringPercent=e,s._observer.unobserve(s._viewableElement),s._observer.observe(s._viewableElement))},e&&"object"==typeof e&&1===e.nodeType&&e.parentElement&&"HTML"!==e.parentElement.nodeName?(this._ID=e.id||we(),e.id=this._ID):e&&"string"==typeof e&&e.length>0?(this._ID=e,e=document.getElementById("".concat(this._ID))):e=null,(e||"string"==typeof this._ID)&&(this._viewableElement=e,this._div_ID=this._viewableElement.parentElement.id,this.impressionId=r,this.misc=i,this.mime=o,this.monetizerId=a,this._setUnboundedBannerThreshold(),this._viewabilityBreakpoints=t.map((function(e){return new jn(e,s._viewableElement,s._ID,s._div_ID,s.impressionId,s.misc,s.mime,s.monetizerId)})),"string"==typeof n?this._searcherID=n:"string"==typeof this._ID?this._searcherID=this._ID:this._searcherID="",this._timer=W.getInstance().init(100),this._searcherID=this._timer.subscribe({context:this,callback:this._trackViewableElement,ID:this._searcherID||void 0}),this.coveringWatcher.subscribe(this._viewableElement.id,this.updateCoveringPercent),this._watch())}return e.prototype.stopSearch=function(){this._timer.unsubscribe(this._searcherID)},e.prototype._trackViewableElement=function(){if(this._checkBannerExistingInDOM(),this._checkThatViewableElementFound(),this._isRealBannerPlaceFound)this.stopSearch();else{var e=this._viewableElement;this._attemptFindRealBannerPlace(),this._isRealBannerPlaceFound&&(this._observer.unobserve(e),this._observer.observe(this._viewableElement))}},e.prototype._watch=function(){var e=this;this._viewableElement.onclick=this.callViewPoint.bind(this),this._viewableElement.oncontextmenu=this.callViewPoint.bind(this);var t=null;this._unboundedBannerThreshold.isEnabled?(t=this._unboundedBannerThreshold.value,this._mutationObserver=new MutationObserver((function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n],o=e._viewableElement.querySelector(yo);"childList"===i.type&&o&&o.querySelector(wo)&&(e._mutationObserver.disconnect(),e._observer.unobserve(e._viewableElement),e._observer.observe(e._viewableElement))}})),this._mutationObserver.observe(this._viewableElement,{childList:!0,subtree:!0})):t=this._viewabilityBreakpoints.map((function(e){return e.percent}));var n={root:null,rootMargin:"0px",threshold:t};this._observer=new IntersectionObserver((function(t){var n;e._checkBannerExistingInDOM(),e._checkThatViewableElementFound();var r=t&&t[0];e._viewabilityBreakpoints=e._viewabilityBreakpoints.filter((function(t){if(t.isUrlCalled)return!1;t.setViewableBanner(e._viewableElement);var n=(100*r.intersectionRatio-r.intersectionRatio*e._coveringPercent)/100;return r.isIntersecting&&e._isTresholdSatisfied(n,t.percent)&&e._isSizeSatisfied(e._viewableElement.clientWidth,e._viewableElement.clientHeight)&&e._isBannerRendered(r.target)?t.startTimer():t.isTimerStarted()&&t.stopTimer(),!0})),0===e._viewabilityBreakpoints.length&&(e.stopSearch(),e._observer.unobserve(e._viewableElement),null===(n=e._mutationObserver)||void 0===n||n.disconnect())}),mo({},n)),this._observer.observe(this._viewableElement)},e.prototype._checkBannerExistingInDOM=function(){document.body&&document.body.contains(this._viewableElement)||this._destroyViewAbility()},e.prototype._checkThatViewableElementFound=function(){this._viewableElement||(this._ID?this._viewableElement=document.getElementById(this._ID):this._destroyViewAbility())},e.prototype._destroyViewAbility=function(){var e;this._viewabilityBreakpoints.forEach((function(e){return e.stopTimer()})),this._viewabilityBreakpoints.length=0,this._observer.unobserve(this._viewableElement),null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this.stopSearch()},e.prototype._attemptFindRealBannerPlace=function(){var e=Bn.getActualBannerPlace(this._viewableElement);e&&(this._viewableElement=e,this._isRealBannerPlaceFound=!0)},e.prototype._isTresholdSatisfied=function(e,t){return e>=t},e.prototype._isSizeSatisfied=function(e,t){return e>15&&t>15},e.prototype._isBannerRendered=function(e){if(this._unboundedBannerThreshold.isEnabled){var t=e.querySelector(yo);return!!t&&!!t.querySelector(wo)}return!0},e.prototype._setUnboundedBannerThreshold=function(){this._unboundedBannerThreshold.isEnabled=!!this._viewableElement.querySelector("script[src*=Unbounded]")},e.prototype.callViewPoint=function(){this._viewabilityBreakpoints=this._viewabilityBreakpoints.filter((function(e){return!e.isUrlCalled&&(e.startTimer(),!0)}))},go([p(t.CoveringWatcher),bo("design:type",vo)],e.prototype,"coveringWatcher",void 0),e}(),So=_o,Eo=function(){function e(){this.timer=W.getInstance().init(100)}return e.prototype.create=function(e,t,n,r,i,o){var a,s=this,c=new Promise((function(c){var u;"string"==typeof(u="object"==typeof e?e:"AdFox_banner_".concat(e))&&((u=window.document.getElementById(u))||(u=window.document.getElementById("AdFox_iframe_".concat(e)))),u&&(a=s.timer.subscribe({context:s,callback:function(e,t){(e=Bn.getActualBannerPlace(e)||e).clientWidth*e.clientHeight>0&&e.clientWidth>15&&e.clientHeight>15&&(s.timer.unsubscribe(a),c(new So(e,t,a,n,r,i,o)))},params:[u,t]}))}));return function(){s.timer.unsubscribe(a),c.then((function(e){return e.stopSearch()}))}},e}(),ko=Eo,Oo=function(){return Oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oo.apply(this,arguments)},To=function(){function e(){this.debugBase=-1!==window.location.href.indexOf("adfox_debug=1"),this.debugExtend=-1!==window.location.href.indexOf("adfox_debug=2"),this.nolimits=-1!==window.location.href.indexOf("adFox_nolimits=1"),this.viewAbility=new ko,this.stack={}}return e.prototype.updateBannersStack=function(e,t){e=Me(e),this.stack[e]=Oo(Oo({},this.stack[e]),t)},e}();!function(e){e.SyncBannerReRequest="New request to ssp is performed in order to get appropriate sync/forced-non-sync banner for this place.",e.Fake='Banner has a "Fake" type that means that banner couldn\'t be loaded through the third-party ad script in some cases.',e.NotRendered="Banner treated as non-rendered due to the too small size after the time end.",e.Empty="There is no banner to show. It could happen if SSP did not find the banner for the place.",e.PlaceNotFound="Time to find the banner place is running out.",e.NoChildren="No children inside begun_block.",e.DoesNotExist="Provided banner wrapper does not exist in the DOM.",e.NoBegunBlock="There is no begun_block inside banner place or there is lack of rendered children inside of the existing begun_block after the end of the watching time."}(to||(to={})),function(e){e.PENDING="pending",e.RENDERED="rendered",e.NOT_RENDERED="not_rendered",e.NO_BANNER="no_banner"}(no||(no={}));var xo=function(e){return!(!e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||9!==e.nodeType)},Po=function(e,t){return void 0===t&&(t=document),!!xo(t)&&(!(!e||"boolean"==typeof e||"number"==typeof e||void 0===e)&&("string"==typeof e&&(e=t.getElementById(e)),!(!e||1!==e.nodeType||!e.parentNode||"HTML"===e.parentNode.nodeName||t.contains&&!t.contains(e)||t.body&&t.body.contains&&!t.body.contains(e))&&e))},Io=function(e){if("object"==typeof console){if("function"==typeof console.warn)return e;if("function"==typeof console.log)return e}},Ao=function(e,t,n){void 0===t&&(t=document),void 0===n&&(n=!1);var r,i={bottom:0,height:0,left:0,right:0,top:0,width:0};if(!(e=Po(e,t)))return Io("Utils.DOM.getBoundingClientRect: DOM element doesn't exist in that DOM Document"),i;if((n=!!n)&&(r=getComputedStyle(e))&&"none"===r.display&&(e.style.display="block"),e.getBoundingClientRect)i={bottom:(i=e.getBoundingClientRect()).bottom,height:i.height||e.clientHeight,left:i.left,right:i.right,top:i.top,width:i.width||e.clientWidth};else{for(var o=e,a={height:o.offsetHeight,width:o.offsetWidth,x:0,y:0};o;)a.x+=o.offsetLeft,a.y+=o.offsetTop,o=o.offsetParent;i={bottom:a.y+a.height,height:a.height,left:a.x,right:a.x+a.width,top:a.y,width:a.width}}return n&&e&&(e.style.display=""),i};function Co(e,t){var n=void 0===t?{}:t,r=n.removeType,i=n.shouldFreezeWrapperHeight,o=n.minFreezeValue,a=void 0===o?1:o;if("string"==typeof e&&(e=document.querySelector(e)),e){var s=e.parentElement;if(s)if("except"===r){i&&s.clientHeight>=a&&(s.style.height="auto");for(var c=[],u=0,l=s.children;u<l.length;u++){var p=l[u];p!==e&&c.push(p)}c.forEach((function(e){return s.removeChild(e)}))}else s.removeChild(e)}}var Ro,Do,jo=Z(i(8916)),Bo=function(){function e(e,t,n){void 0===e&&(e="div"),void 0===t&&(t="");var r=(void 0===n?{}:n).isHTML,i=void 0===r||r;this._element=document.createElement(e),this._element[i?"innerHTML":"textContent"]=t,window.CAPIRS_CONFIG&&window.CAPIRS_CONFIG.SCRIPT_NONCE_VALUE&&this._element.setAttribute("nonce",window.CAPIRS_CONFIG.SCRIPT_NONCE_VALUE)}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),e.prototype.remove=function(){this._exists()&&this._element.parentElement.removeChild(this._element)},e.prototype.append=function(e,t){void 0===t&&(t={});try{return t.before&&e.firstChild?e.insertBefore(this._element,e.firstChild):e.appendChild(this._element),this}catch(e){return jo.log(400,"Script append failed",{Error:e}),this}},e.prototype._exists=function(e){return void 0===e&&(e=document),!!Po(this._element,e)},e}(),No=Bo,Fo=function(e){var t=e.rules,n=e.nonce,r=e.className,i=Object.keys(t).map((function(e){return"".concat(e,":").concat(t[e],";")})).join(""),o=".".concat(r,"{").concat(i,"}"),a=document.createElement("style");return a.innerHTML=o,a.setAttribute("nonce",n),a},Mo=i(1936),Lo=i.n(Mo),Vo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ho=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Uo=function(){function e(e,t,n){void 0===n&&(n=!0);var r=this;this._bannerPlaceStartTime=0,this._isTimeToWatchFinite=!0,this._handleError=function(e){return{optionsB:r._optionsB,status:!1,reason:"Something went wrong in banner-rendering watcher: ".concat(e.message)}},this._wrapperID="object"==typeof e?e.id:e,this._optionsB=t,this._isTimeToWatchFinite=n,this._findMainBannerPlace(),this._isMainBannerPlaceFound()&&this._saveBannerSizes()}return Object.defineProperty(e.prototype,"mainBannerPlace",{get:function(){return this._mainBannerPlace},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualBannerPlace",{get:function(){return this._actualBannerPlace},enumerable:!1,configurable:!0}),e.prototype.start=function(){return Vo(this,void 0,void 0,(function(){var e,t;return Ho(this,(function(n){switch(n.label){case 0:this._setTimerStartingPoint(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._watch()];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),e=this._handleError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype._watch=function(){return Vo(this,void 0,void 0,(function(){var t,n,r;return Ho(this,(function(i){switch(i.label){case 0:return[4,Lo()(e.CHECK_INTERVAL)];case 1:return i.sent(),this._attemptToFindActualBannerPlace(),document.getElementById(this._wrapperID)?this._isBannerDumb()?[2,{bannerPlace:this._mainBannerPlace,optionsB:this._optionsB,status:!1,reason:to.Empty}]:this.actualBannerPlace?(this._saveBannerSizes(),this._shouldContinueWatching()?[2,this._watch()]:(t=this._isBannerSizeAppropriate(),n=this._isWatchingTimeOver(),r=this._doesBegunBlockHaveAd(),n||t&&r?!n||t&&r?[2,{bannerPlace:this._mainBannerPlace,optionsB:this._optionsB,status:!0,actualBannerPlace:this._actualBannerPlace}]:[2,{optionsB:this._optionsB,status:!1,reason:r?to.NotRendered:to.NoBegunBlock}]:[2,this._watch()])):this._isTimeToFindBannerPlaceOver()?[2,{optionsB:this._optionsB,reason:to.PlaceNotFound,status:!1,nodeID:this._wrapperID}]:[2,this._watch()]:[2,{bannerPlace:this._mainBannerPlace,optionsB:this._optionsB,status:!1,reason:to.DoesNotExist}]}}))}))},e.prototype._shouldContinueWatching=function(){return this._checkBannerSizeChanged()&&!this._isWatchingTimeOver()},e.prototype._isBannerDumb=function(){return!this._doesBannerExist()},e.prototype._attemptToFindActualBannerPlace=function(){this._isMainBannerPlaceFound()?this._findActualBannerPlace():(this._findMainBannerPlace(),this._isMainBannerPlaceFound()&&this._findActualBannerPlace())},e.prototype._setTimerStartingPoint=function(){this._bannerPlaceStartTime=Date.now()},e.prototype._isMainBannerPlaceFound=function(){return!!this._mainBannerPlace},e.prototype._saveBannerSizes=function(){this._bannerPlaceWidth=this._actualBannerPlace.clientWidth,this._bannerPlaceHeight=this._actualBannerPlace.clientHeight},e.prototype._findMainBannerPlace=function(){this._actualBannerPlace=Po(this._wrapperID)||void 0,this._mainBannerPlace=this._actualBannerPlace},e.prototype._findActualBannerPlace=function(){this._actualBannerPlace=this._findBannerAtRoot()||this._findBannerInsideWrapper()||this._actualBannerPlace},e.prototype._findBannerInsideWrapper=function(){for(var e=0,t=["div[id*='begun_block_']","div[id*='AdFox_banner_'] iframe","div[id*='AdFox_banner_'] img","div[class*='-banner-place'] > .is-link","div[class*='-banner-place'] > div[class*='-banner']"];e<t.length;e++){var n=t[e],r=this._actualBannerPlace.querySelector(n);if(r)return r}},e.prototype._findBannerAtRoot=function(){if(this._actualBannerPlace===this._mainBannerPlace)return Bn.getActualBannerPlace(this._mainBannerPlace)},e.prototype._doesBannerExist=function(){return!window.Begun.emptySSPResponses.hasOwnProperty("".concat(this._wrapperID,"_").concat(this._optionsB["begun-auto-pad"]))},e.prototype._checkBannerSizeChanged=function(){return this._bannerPlaceWidth!==this._actualBannerPlace.clientWidth||this._bannerPlaceHeight!==this._actualBannerPlace.clientHeight},e.prototype._isBannerSizeAppropriate=function(){var t;this._mainBannerPlace.dataset.begunBlockRepeated?t=this._mainBannerPlace.querySelector("#".concat(this._actualBannerPlace.id)):(t=Bn.getActualBannerPlace(this._actualBannerPlace)||this._actualBannerPlace,this._actualBannerPlace=t);var n=15;return e.mediaTemplatesWithMimeXFrameHTML&&(n=e.mediaTemplatesWithMimeXFrameHTML[this._optionsB["begun-block-id"]]?0:15),t.clientWidth>15&&t.clientHeight>n},e.prototype._doesBegunBlockHaveAd=function(){var e=this._mainBannerPlace.querySelector("#begun_block_".concat(this._optionsB["begun-block-id"]));return e&&e.children.length>0},e.prototype._isWatchingTimeOver=function(){var e=this._isTimeToWatchFinite?1e4:1/0;return Date.now()-this._bannerPlaceStartTime>e},e.prototype._isTimeToFindBannerPlaceOver=function(){return Date.now()-this._bannerPlaceStartTime>2e3},e.CHECK_INTERVAL=1e3/30,e.mediaTemplatesWithMimeXFrameHTML={},e}(),Wo=Uo,qo=function(e){return e&&e.feed};!function(e){e.X_HTML="application/x-html",e.X_MIXED_IFRAME_HTML="application/x-mixed-iframe-html",e.X_IFRAME_HTML="application/x-iframe-html",e.X_FIXED_IFRAME_HTML="application/x-fixed-iframe-html",e.X_JAVASCRIPT="application/x-javascript",e.X_SHOCKWAVE_FLASH="application/x-shockwave-flash",e.X_SHARED_SCRIPTS="application/x-shared-scripts",e.VAST_XML="application/vast-xml",e.TEXT_HTML="text/html",e.TEXT_URL="text/url"}(Ro||(Ro={})),function(e){e.ATOMS="Atoms",e.BRANDING="Branding",e.FULLSCREEN="Fullscreen"}(Do||(Do={}));var zo,Go=function(){return Go=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Go.apply(this,arguments)},Xo=[Do.BRANDING,Do.FULLSCREEN],Jo=function(e){var t=e.status,n=e.viewTypes,r=(null==n?void 0:n.split(","))||[];return!t||Xo.some((function(e){return r.includes(e)}))},$o=function(e){return Go(Go({},e),{canHide:Jo(e)})};!function(e){e.total="total",e.session="session"}(zo||(zo={}));var Ko=function(){function e(e){this.arrowCssRuleRegExp=/[#]{1}\{.+->.+[&]?.*\}/g,this.tpl=e||"",this.braces=/\{\{(.*?)}}/g}return e.prototype.evaluate=function(e){var t=this.tpl.match(this.arrowCssRuleRegExp);return null!==t&&t.length>0&&(e=this.unifyVariableObject(e)),this.tpl=this.tpl.replace(/[$#]\{([^$#}]+)}/gi,(function(t,n){return n.split("&")[0].split("->").reduce((function(e,t){return e[t]||""}),e)||n.split("&")[1]||""})),this.tpl},e.prototype.unifyVariableObject=function(e){for(var t in e)if(e.hasOwnProperty(t)&&t.indexOf(":")>0){var n=t.split(":");"object"==typeof e[n[0]]||(e[n[0]]={}),e[n[0]][n[1]]=e[t]}return e},e}(),Yo=function(e){var t=window.getComputedStyle(e).getPropertyValue("position");""!==t&&"static"!==t||(e.style.position="relative")};function Qo(e,t){var n=e.match(b);if(n){var r=n.map((function(e){return e.replace(/ |:|\[|\]/gi,"")}));r=r.join(",").split(",");for(var i=0,o=1;o<r.length;o+=2)i=Number(r[o])>i?Number(r[o]):i;return"".concat(i,"px")}return t}var Zo,ea,ta=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},na=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ra=rr(0,1.01,.01).map((function(e){return Math.round(100*e)/100})),ia=function(){function e(e,t){var n=this;this._emitter=t,this.indexScss=i(3249),this.indexPug=i(8855),this.bannerLinePug=i(2294),this.stickerPug=i(3558),this.defaultSettings={defaultViewedPercent:.5,customViewedPercent:0,thresholdViewedTime:0,thresholdNoHoverTime:0,removeAfterResolve:!1,demo:!1,showPanel:-1!==location.search.indexOf("view_time=true")},this.indicators={panel:null,line:null,id:null,recording:null,inviewTimer:null,viewedIndicator:null,viewedIndicatorNotViewed:null,viewedIndicatorViewed:null,nohoverTimer:null,nohoverIndicator:null,nohoverIndicatorNotViewed:null,nohoverIndicatorViewed:null,reloadedIndicator:null,reloadedIndicatorNotViewed:null,reloadedIndicatorViewed:null,directionIndicator:null,sticker:null,stickerInView:null,stickerInViewTimer:null,stickerNoHoverTimer:null},this.inViewTimerStart=Date.now(),this.inViewPrevTimestamp=Date.now(),this.noHoverTimerStart=Date.now(),this.noHoverPrevTimestamp=Date.now(),this.inViewTimerCount=0,this.inViewSessionTime=0,this.noHoverTimerCount=0,this.noHoverTimerSessionTime=0,this._coveringPercent=0,this._updateCoveringPercent=function(e){n._coveringPercent!==e&&(n._coveringPercent=e,n._observer.unobserve(n.params.target),n._observer.observe(n.params.target))},this._handleDemoMode(e.demo),this.params=Object.assign(this.defaultSettings,e),this.params.target&&(this.preInit(),this.params.showPanel&&this.init(),this.postInit())}return e.prototype.attemptRefresh=function(e){var t=e.areaThreshold,n=e.timeThreshold,r=e.targetTimeThreshold;if(!this.isRefreshStarted){var i=this.getInViewTime(r),o=this.calculateInView(Ao(this.params.target));if(i>=n&&o>=t)return this.isRefreshStarted=!0,this._manualRefreshPromiseResolve("manualRefresh"),this.inViewTimerResolve(),this.noHoverTimerResolve(),!0}return!1},e.prototype.preInit=function(){var t=this;this._observer=new IntersectionObserver((function(e){var n=e&&e[0];t._inViewBannerPercent=100*n.intersectionRatio-n.intersectionRatio*t._coveringPercent}),{root:null,rootMargin:"0px",threshold:ra}),this._observer.observe(this.params.target),this.params.target_id="".concat(this.params.target.id,"-").concat(Math.random().toString(36).replace(/[^a-z]+/g,"")),this.inViewTimerPromise=new Promise((function(e,n){t.inViewTimerReject=n,t.inViewTimerResolve=e})),this.noHoverTimerPromise=new Promise((function(e,n){t.noHoverTimerReject=n,t.noHoverTimerResolve=e})),this._manualRefreshPromise=new Promise((function(e,n){t._manualRefreshPromiseResolve=e,t._manualRefreshPromiseReject=n})),this.promise=new Promise((function(e,n){t.reject=n,t.resolve=e,Promise.race([t.inViewTimerPromise,t.noHoverTimerPromise]).then((function(){if(t.indicators.sticker){var e=we(),n=Fo({rules:{background:"hsl(50, 100%, 33%)"},nonce:t._config.getConfigValue("STYLE_NONCE_VALUE"),className:e});t.indicators.sticker.parentElement.appendChild(n),t.indicators.sticker.classList.add(e)}})),Promise.all([t.inViewTimerPromise,t.noHoverTimerPromise]).then((function(){if(t.indicators.sticker){var n=we(),r=Fo({rules:{background:"hsl(100, 100%, 33%)"},nonce:t._config.getConfigValue("STYLE_NONCE_VALUE"),className:n});t.indicators.sticker.parentElement.appendChild(r),t.indicators.sticker.classList.add(n)}t.params.removeAfterResolve?e():e(t._manualRefreshPromise)})).catch(n)})),e.timer.errorHandler=this.reject},e.prototype.init=function(){if(this.indicators.panel=this.indicators.panel||window.document.querySelector(".inview-timers-wrapper"),!this.indicators.panel){var t=window.document.createElement("div");t.className="inview-timers-wrapper",t.innerHTML=new Ko(this.indexPug).evaluate({}),this.indicators.panel=window.document.body.appendChild(t);var n=window.document.createElement("style"),r=new Ko(this.indexScss).evaluate({});void 0!==n.textContent?n.textContent=r:n.innerText=r,window.document.body.appendChild(n)}if(this.indicators.panel){var i=this.idOf(e.bannerSymbolIndex);e.bannerSymbolIndex+=1;var o=window.document.createElement("div");if(o.className="inview-timers__row",o.innerHTML=new Ko(this.bannerLinePug).evaluate({symbol:i}),this.indicators.panel.appendChild(o),this.indicators.line=o,this.indicators.id=o.querySelector(".is-banner-id"),this.indicators.recording=o.querySelector(".is-recording-flag"),this.indicators.inviewTimer=o.querySelector(".is-inview-time"),this.indicators.viewedIndicator=o.querySelector(".is-viewed-indicator"),this.indicators.viewedIndicatorNotViewed=o.querySelector(".is-viewed-indicator .not-viewed-icon"),this.indicators.viewedIndicatorViewed=o.querySelector(".is-viewed-indicator .viewed-icon"),this.indicators.nohoverTimer=o.querySelector(".is-nohover-time"),this.indicators.nohoverIndicator=o.querySelector(".is-nohover-indicator"),this.indicators.nohoverIndicatorNotViewed=o.querySelector(".is-nohover-indicator .not-viewed-icon"),this.indicators.nohoverIndicatorViewed=o.querySelector(".is-nohover-indicator .viewed-icon"),this.indicators.reloadedIndicator=o.querySelector(".is-reloaded-indicator"),this.indicators.reloadedIndicatorNotViewed=o.querySelector(".is-reloaded-indicator .not-viewed-icon"),this.indicators.reloadedIndicatorViewed=o.querySelector(".is-reloaded-indicator .viewed-icon"),this.indicators.directionIndicator=o.querySelector(".is-direction-indicator svg"),this.params.removeAfterResolve)try{this.indicators.reloadedIndicatorNotViewed.classList.toggle("is-visible"),this.indicators.reloadedIndicatorViewed.classList.toggle("is-visible")}catch(e){}var a=window.document.createElement("div");a.className="inviewtime-sticker",a.innerHTML=new Ko(this.stickerPug).evaluate({symbol:i}),this.indicators.sticker=a,this.indicators.stickerInView=a.querySelector(".inviewtime-sticker__inview"),this.indicators.stickerInViewTimer=a.querySelector(".inviewtime-sticker__inview-timer"),this.indicators.stickerNoHoverTimer=a.querySelector(".inviewtime-sticker__nohovertimer"),this._appendSticker(this.params.target,a)}},e.prototype.postInit=function(){var e=this;this.inViewTimerCount=0,this.noHoverTimerCount=0,this.browserIsActive=!0,this.inViewDone=!1,this.inViewActivity=!1,this.noHoverDone=!1,this.bannerWasUnderHover=!1,this.bannerIsUnderHover=!1,this.params.target.addEventListener("mouseenter",(function(){e.bannerIsUnderHover=!0})),this.params.target.addEventListener("mouseleave",(function(){e.bannerIsUnderHover=!1})),window.document.addEventListener("visibilitychange",this.checkBrowserWindowActivity.bind(this)),window.document.addEventListener("mozvisibilitychange",this.checkBrowserWindowActivity.bind(this)),window.document.addEventListener("webkitvisibilitychange",this.checkBrowserWindowActivity.bind(this)),window.document.addEventListener("msvisibilitychange",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("pageshow",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("pagehide",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("focus",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("blur",this.checkBrowserWindowActivity.bind(this))},e.prototype.checkBrowserWindowActivity=function(e){var t={focus:!0,focusin:!0,pageshow:!0,blur:!1,focusout:!1,pagehide:!1},n=e||window.event;n.type in t?this.browserIsActive=t[n.type]:this.browserIsActive=!document.hidden,this.noHoverPrevTimestamp=Date.now(),this.inViewPrevTimestamp=Date.now(),this.inViewTimerStart=Date.now(),this.noHoverTimerStart=Date.now()},e.prototype.idOf=function(e){return(e>=26?this.idOf((e/26|0)-1):"")+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e%26|0]},e.prototype.calculateInView=function(e){var t,n=this;if(this.indicators.directionIndicator){var r=(e.top-.5*window.innerHeight)/(void 0===t&&(t=window),Nn(t)?Math.max(t.document.body.scrollHeight,t.document.body.clientHeight,t.document.body.offsetHeight,t.document.documentElement.scrollHeight,t.document.documentElement.offsetHeight,t.document.documentElement.clientHeight):NaN);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach((function(e){n.indicators.directionIndicator.style[e]="rotate(".concat(90*-r,"deg)")}))}if(this.indicators.recording&&(this.indicators.recording.innerHTML="".concat(Math.round(this._inViewBannerPercent),"%"),this.indicators.stickerInView.innerHTML="&nbsp;".concat(this.indicators.recording.innerHTML,"&nbsp;|")),this.indicators.line){var i="hsl(".concat(Math.round(this._inViewBannerPercent),", 100%, ").concat(Math.round(this._inViewBannerPercent/3),"%)"),o=we(),a=Fo({className:o,rules:{color:i,fill:i},nonce:this._config.getConfigValue("STYLE_NONCE_VALUE")});this.indicators.line.classList.add(o),this.indicators.line.parentElement.appendChild(a)}return this._inViewBannerPercent},e.prototype.calculateInViewActivity=function(){if(Po(this.params.target,window.document)){var e=void 0;e=this.params.customViewedPercent?.01*this.params.customViewedPercent:this.params.defaultViewedPercent;var t=Ao(this.params.target),n=this.calculateInView(t)||0;return!1===this.inViewActivity?(this.inViewPrevTimestamp=Date.now(),this.inViewTimerStart=Date.now(),this.noHoverTimerStart=Date.now(),this._recalcNoHoverTotalTime(),.01*n>=e):(this._recalcNoHoverTotalTime(),.01*n<e?(this.inViewPrevTimestamp=Date.now(),this.inViewTimerStart=Date.now(),this.noHoverTimerStart=Date.now(),!1):(this.inViewTimerCount+=Date.now()-this.inViewPrevTimestamp,this.inViewPrevTimestamp=Date.now(),!0))}return!1},e.prototype.calculateNoHoverActivity=function(){return this.bannerWasUnderHover?!this.bannerIsUnderHover||(this.noHoverTimerStart=Date.now(),!1):(this.noHoverTimerStart=Date.now(),!this.bannerIsUnderHover)},e.prototype.clean=function(){var t;null===(t=this._observer)||void 0===t||t.disconnect(),this._coveringWatcher.unsubscribe(this.params.target.id,this._updateCoveringPercent),e.timer.unsubscribe(this._ID),this.indicators.line&&this.indicators.line.parentNode.removeChild(this.indicators.line),this.indicators.sticker&&this.indicators.sticker.parentNode&&this.indicators.sticker.parentNode.removeChild(this.indicators.sticker)},e.prototype.formatTimer=function(e,t){return t?"".concat(this.formatTime(e),"<hr/>").concat(this.formatTime(t)):"".concat(this.formatTime(e))},e.prototype.formatTime=function(e){var t=~~(e/3600),n=~~(e%3600/60),r=e%60,i="";return i=t?"".concat(t,":").concat(this.padZero(n),":").concat(this.padZero(r)):n?"".concat(n,":").concat(this.padZero(r)):"".concat(r.toFixed(r>=10?1:2)),"&nbsp;".concat(i,"&nbsp;")},e.prototype.padZero=function(e){return"".concat(e=~~e).length<2?"0".concat(e):e},e.prototype.getInViewTime=function(e){var t;switch(e){case zo.total:t=this.inViewTimerCount;break;case zo.session:default:t=this.browserIsActive?Date.now()-this.inViewTimerStart:0}return parseFloat((.001*t).toFixed(2))},e.prototype._getNoHoverTime=function(e){var t;if("total"===e)t=this.noHoverTimerCount;else t=this.bannerIsUnderHover||!this.browserIsActive?0:Date.now()-this.noHoverTimerStart;return parseFloat((.001*t).toFixed(2))},e.prototype.canCleanTimer=function(){if(this._selfDestructionTime){if((new Date).getTime()-this._selfDestructionTime.getTime()>1e3)return!0}else this._selfDestructionTime=new Date;return!1},e.prototype._toggleViewedIndicator=function(e){this.indicators.viewedIndicatorViewed&&this.indicators.viewedIndicatorViewed.classList[e?"add":"remove"]("is-visible"),this.indicators.viewedIndicatorNotViewed&&this.indicators.viewedIndicatorNotViewed.classList[e?"remove":"add"]("is-visible")},e.prototype._toggleNoHoverIndicator=function(e){this.indicators.nohoverIndicatorViewed&&this.indicators.nohoverIndicatorViewed.classList[e?"add":"remove"]("is-visible"),this.indicators.nohoverIndicatorNotViewed&&this.indicators.nohoverIndicatorNotViewed.classList[e?"remove":"add"]("is-visible")},e.prototype._handleDemoMode=function(e){e&&(this.defaultSettings.thresholdViewedTime=1,this.defaultSettings.thresholdNoHoverTime=1)},e.prototype._fixStickerPosition=function(){var e=this,t=this.indicators.sticker.parentElement.getBoundingClientRect(),n=this.indicators.sticker.getBoundingClientRect(),r="".concat(Math.min(t.height-n.height,-Math.min(t.top,0)),"px"),i="".concat(Math.min(t.width-n.width,-Math.min(t.left,0)),"px");["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach((function(t){e.indicators.sticker.style[t]="translate(".concat(i,", ").concat(r,")")}))},e.prototype._startTimer=function(){this._coveringWatcher.subscribe(this.params.target.id,this._updateCoveringPercent),this._ID=e.timer.subscribe({callback:this._watch,context:this,params:[]})},e.prototype._emitCurrentState=function(){this._emitter.dispatch("inView",this.params.adContainerID,null,[{actualTarget:this.params.target,currentInViewPercent:this._inViewBannerPercent,totalInViewTime:this.getInViewTime(zo.total),sessionInViewTime:this.getInViewTime(zo.session),noHoverTime:this._getNoHoverTime("session")}])},e.prototype._watch=function(){},e.prototype._recalcNoHoverTotalTime=function(){this.calculateNoHoverActivity()?(this.noHoverTimerCount+=Date.now()-this.noHoverPrevTimestamp,this.noHoverPrevTimestamp=Date.now()):(this.noHoverTimerCount=0,this.noHoverPrevTimestamp=Date.now())},e.prototype._appendSticker=function(e,t){"IFRAME"!==e.tagName&&"IMG"!==e.tagName?(Yo(this.params.target),e.appendChild(t)):(Yo(this.params.target.parentElement),e.parentElement.insertBefore(t,e))},e.bannerSymbolIndex=0,e.timer=W.getInstance().init(100),ta([p(t.CoveringWatcher),na("design:type",vo)],e.prototype,"_coveringWatcher",void 0),ta([p(t.Config),na("design:type",Object)],e.prototype,"_config",void 0),e}(),oa=ia,aa=(Zo=function(e,t){return Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Zo(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),sa=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._startTimer(),r}return aa(t,e),t.prototype._watch=function(){if(this.params.target.clientWidth<15||this.params.target.clientHeight<15)this.canCleanTimer()&&this.clean();else{if(this.indicators.sticker&&this._fixStickerPosition(),this.browserIsActive&&(this.inViewActivity=this.calculateInViewActivity(),this.inViewActivity)){var e=this.getInViewTime();if(this.inViewDone||(this.indicators.nohoverTimer&&(this.indicators.inviewTimer.innerHTML=this.formatTimer(e,this.params.thresholdViewedTime),this.params.thresholdViewedTime?this.indicators.stickerInViewTimer.innerHTML="".concat(this.indicators.inviewTimer.innerHTML.replace("<","|<"),"|"):this.indicators.stickerInViewTimer.innerHTML="".concat(this.indicators.inviewTimer.innerHTML,"|")),0!==this.params.thresholdViewedTime&&e>=this.params.thresholdViewedTime&&(this.inViewDone=!0,this.inViewTimerResolve(),this.noHoverDone&&this.noHoverTimerResolve(),this._toggleViewedIndicator(!0))),this.bannerWasUnderHover=this.calculateNoHoverActivity(),this.bannerWasUnderHover){if(!this.noHoverDone){var t=this._getNoHoverTime();this.indicators.nohoverTimer&&(this.indicators.nohoverTimer.innerHTML=this.formatTimer(t,this.params.thresholdNoHoverTime),this.indicators.stickerNoHoverTimer.innerHTML=this.indicators.nohoverTimer.innerHTML),0!==this.params.thresholdNoHoverTime&&t>=this.params.thresholdNoHoverTime&&(this.noHoverDone=!0,this.inViewDone&&this.noHoverTimerResolve(),this._toggleNoHoverIndicator(!0))}}else this.noHoverDone=!1,this._toggleNoHoverIndicator(!1)}this._emitCurrentState()}},t}(oa),ca=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ua=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._startTimer(),r}return ca(t,e),t.prototype._watch=function(){if(this.params.target.clientWidth<15||this.params.target.clientHeight<15)this.canCleanTimer()&&this.clean();else if(this.indicators.sticker&&this._fixStickerPosition(),this.browserIsActive&&(this.inViewActivity=this.calculateInViewActivity(),this.inViewActivity)){var e=this.getInViewTime();if(this.indicators.nohoverTimer&&(this.indicators.inviewTimer.innerHTML=this.formatTimer(e),this.params.thresholdViewedTime?this.indicators.stickerInViewTimer.innerHTML=this.indicators.inviewTimer.innerHTML.replace("<","|<"):this.indicators.stickerInViewTimer.innerHTML="".concat(this.indicators.inviewTimer.innerHTML,"|")),0!==this.params.thresholdViewedTime&&e>=this.params.thresholdViewedTime&&(this._toggleViewedIndicator(!0),this.inViewDone=!0,this.inViewTimerResolve(),this.noHoverDone&&this.noHoverTimerResolve()),this.bannerWasUnderHover=this.calculateNoHoverActivity(),this.bannerWasUnderHover){var t=this._getNoHoverTime();this.indicators.nohoverTimer&&(this.indicators.nohoverTimer.innerHTML=this.formatTimer(t),this.indicators.stickerNoHoverTimer.innerHTML=this.indicators.nohoverTimer.innerHTML),0!==this.params.thresholdNoHoverTime&&t>=this.params.thresholdNoHoverTime&&(this._toggleNoHoverIndicator(!0),this.inViewDone&&this.noHoverTimerResolve(),this._toggleNoHoverIndicator(!0))}else this.noHoverDone=!1,this._toggleNoHoverIndicator(!1)}this._emitCurrentState()},t}(oa),la=function(e,t){return e.demo?new ua(e,t):new sa(e,t)},pa=function(){return pa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pa.apply(this,arguments)},da=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ha=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},va=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ma=Z(i(8916));!function(e){e.BANNER="banner",e.BLOCK="block"}(ea||(ea={}));var ga=function(){function e(){this.VIEW_DEMO="view_demo=true",this.inViewTimerReloadCounter={}}return e.prototype.startInViewTimer=function(e){var t=e.adWrapperID,n=e.sspOptions,r=e.blockOptions,i=e.bannerPlace,o=e.impressionID;return ha(this,void 0,void 0,(function(){var e,a,s,c,u,l;return va(this,(function(p){switch(p.label){case 0:e=r["begun-block-id"],p.label=1;case 1:return p.trys.push([1,6,,7]),a=Me(t),s=this.getReloadingSettings({impressionID:o,blockOptions:r}),c=void 0,s?(u=!1,s.settings.nonReloadable&&(u=this.isNonReloadablePlace(o,s.settings.nonReloadable)),[4,this.initInViewTimerWithSettings(s,{adWrapperID:a,bannerPlace:i,blockID:e,nonReloadable:u})]):[3,3];case 2:return c=p.sent(),[3,5];case 3:return[4,this.initInViewTimerWithoutSettings(a,i)];case 4:c=p.sent(),p.label=5;case 5:return c?[2,this.adInitializer.ssp(a,n,pa(pa({},r),{forceNewSession:!0}))]:[3,7];case 6:return l=p.sent(),ma.log(500,"Error during InViewTimerStarter execution",{blockID:e,Error:l}),[3,7];case 7:return[2]}}))}))},e.prototype.initInViewTimerWithSettings=function(e,t){var n=t.adWrapperID,r=t.bannerPlace,i=t.blockID,o=t.nonReloadable;return ha(this,void 0,void 0,(function(){var t,a,s,c=this;return va(this,(function(u){return e.settingsType===ea.BANNER?(a=pa({target:r,removeAfterResolve:!0,adContainerID:n,demo:ee(window).includes(this.VIEW_DEMO)},e.settings),s=la(a,this.begunAutocontext.Callbacks),this.adInitializer.inViewTimers[n]=s,[2,s.promise.then((function(e){return c.checkRefreshAvailability({doesInViewTimerParamsExist:!0,inViewTimerResolveValue:e,nodeID:n,nonReloadable:o})}))]):e.settingsType===ea.BLOCK?(void 0===this.inViewTimerReloadCounter[i]&&(this.inViewTimerReloadCounter[i]=e.settings&&e.settings.inViewTimerReloadCounter||15),t=this.inViewTimerReloadCounter[i]>0,a=pa({target:r,removeAfterResolve:t,adContainerID:n,demo:ee(window).includes(this.VIEW_DEMO)},e.settings),s=la(a,this.begunAutocontext.Callbacks),this.adInitializer.inViewTimers[n]=s,[2,s.promise.then((function(e){return!!c.checkRefreshAvailability({doesInViewTimerParamsExist:t,inViewTimerResolveValue:e,nodeID:n,nonReloadable:o})&&(c.inViewTimerReloadCounter[i]-=1,!0)}))]):[2]}))}))},e.prototype.initInViewTimerWithoutSettings=function(e,t){return ha(this,void 0,void 0,(function(){var n,r,i=this;return va(this,(function(o){return n={target:t,removeAfterResolve:!1,adContainerID:e,demo:ee(window).includes(this.VIEW_DEMO)},r=la(n,this.begunAutocontext.Callbacks),this.adInitializer.inViewTimers[e]=r,[2,r.promise.then((function(t){return i.checkRefreshAvailability({doesInViewTimerParamsExist:!1,inViewTimerResolveValue:t,nodeID:e})}))]}))}))},e.prototype.getReloadingSettings=function(e){var t=e.impressionID,n=e.blockOptions,r=this.getBannerReloadingSettings(t);if(r)return{settings:r,settingsType:ea.BANNER};var i=this.getPlatformBlockReloadingSettings(n)||this.getBlockReloadingSettings(t);return i?{settings:i,settingsType:ea.BLOCK}:void 0},e.prototype.checkRefreshAvailability=function(e){var t=e.doesInViewTimerParamsExist,n=e.inViewTimerResolveValue,r=e.nodeID,i=e.nonReloadable;return(t||"manualRefresh"===n)&&!(void 0!==i&&i)&&!this.syncShow.isSessionBanner({nodeID:r})},e.prototype.getBannerReloadingSettings=function(e){if(e){var t,n,r=(t=this.begunAutocontext.savedFeeds[e].feed,void 0===(n=this.store.get("".concat(e,".nbanner")))&&(n=0),t&&t.banners&&t.banners.graph&&t.banners.graph[n]&&"object"==typeof t.banners.graph[n]&&t.banners.graph[n].frontend_params&&t.banners.graph[n].frontend_params.reload_thresholds);return r||void 0}},e.prototype.getBlockReloadingSettings=function(e){if(e)return(this.begunAutocontext.savedFeedsOptions[e]||{}).inViewTimer},e.prototype.getPlatformBlockReloadingSettings=function(e){return"object"==typeof e.startInViewTimer&&e.startInViewTimer||void 0},e.prototype.isNonReloadablePlace=function(e,t){var n=this.store.get("".concat(e,".nbanner"))||0,r=this.begunAutocontext.savedFeeds[e].feed.banners.graph[n].user_id;return t.some((function(e){return r===Number(e)}))},da([p(t.BegunAutocontext),fa("design:type",Object)],e.prototype,"begunAutocontext",void 0),da([p(t.SyncShow),fa("design:type",Pn)],e.prototype,"syncShow",void 0),da([p(t.Store),fa("design:type",Object)],e.prototype,"store",void 0),da([p(t.MethodsInitializer),fa("design:type",Object)],e.prototype,"adInitializer",void 0),e}(),ba=ga,ya=function(e){ee(window).includes("capirs_log_statuses")&&console.log(e)},wa=function(){return wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wa.apply(this,arguments)},_a=function(e){var t=parseInt(void 0,10);if(!t||0===t)return wa({},e);var n=e["begun-misc"]||0;return wa(wa({},e),{"begun-misc":t<<4|n})},Sa=function(e,t){return function(n,r,i){var o=i.value;i.value=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n[e];return!a||a.calledMethod&&!t||(a.calledMethod=r),o.apply(this,n)}}},Ea=function(){return Ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ea.apply(this,arguments)},ka=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Oa=function(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[2],i=Ea(Ea({},n),{wipeBeforeRender:"boolean"!=typeof n.wipeBeforeRender||n.wipeBeforeRender,wipeImmediately:"boolean"!=typeof n.wipeImmediately||n.wipeImmediately});return r.call.apply(r,ka(ka(ka([this],e.slice(0,2),!1),[i],!1),e.slice(3),!1))}};var Ta=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},xa=function(){try{var e=Pt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Pa=function(e,t,n){"__proto__"==t&&xa?xa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ia=Object.prototype.hasOwnProperty;var Aa=function(e,t,n){var r=e[t];Ia.call(e,t)&&Vt(r,n)&&(void 0!==n||t in e)||Pa(e,t,n)};var Ca=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?Pa(n,s,c):Aa(n,s,c)}return n};var Ra=function(e,t){return e&&Ca(t,ai(t),e)};var Da=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},ja=Object.prototype.hasOwnProperty;var Ba=function(e){if(!dt(e))return Da(e);var t=ti(e),n=[];for(var r in e)("constructor"!=r||!t&&ja.call(e,r))&&n.push(r);return n};var Na=function(e){return Un(e)?Zr(e,!0):Ba(e)};var Fa=function(e,t){return e&&Ca(t,Na(t),e)},Ma="object"==typeof exports&&exports&&!exports.nodeType&&exports,La=Ma&&"object"==typeof module&&module&&!module.nodeType&&module,Va=La&&La.exports===Ma?Ke.Buffer:void 0,Ha=Va?Va.allocUnsafe:void 0;var Ua=function(e,t){if(t)return e.slice();var n=e.length,r=Ha?Ha(n):new e.constructor(n);return e.copy(r),r};var Wa=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var qa=function(e,t){return Ca(e,Ar(e),t)},za=ni(Object.getPrototypeOf,Object),Ga=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)kr(t,Ar(e)),e=za(e);return t}:xr;var Xa=function(e,t){return Ca(e,Ga(e),t)};var Ja=function(e){return Or(e,Na,Ga)},$a=Object.prototype.hasOwnProperty;var Ka=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$a.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var Ya=function(e){var t=new e.constructor(e.byteLength);return new br(t).set(new br(e)),t};var Qa=function(e,t){var n=t?Ya(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Za=/\w*$/;var es=function(e){var t=new e.constructor(e.source,Za.exec(e));return t.lastIndex=e.lastIndex,t},ts=Ye?Ye.prototype:void 0,ns=ts?ts.valueOf:void 0;var rs=function(e){return ns?Object(ns.call(e)):{}};var is=function(e,t){var n=t?Ya(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var os=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ya(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Qa(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return is(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return es(e);case"[object Symbol]":return rs(e)}},as=Object.create,ss=function(){function e(){}return function(t){if(!dt(t))return{};if(as)return as(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var cs=function(e){return"function"!=typeof e.constructor||ti(e)?{}:ss(za(e))};var us=function(e){return st(e)&&"[object Map]"==Oi(e)},ls=$r&&$r.isMap,ps=ls?zr(ls):us;var ds=function(e){return st(e)&&"[object Set]"==Oi(e)},fs=$r&&$r.isSet,hs=fs?zr(fs):ds,vs="[object Arguments]",ms="[object Function]",gs="[object Object]",bs={};bs[vs]=bs["[object Array]"]=bs["[object ArrayBuffer]"]=bs["[object DataView]"]=bs["[object Boolean]"]=bs["[object Date]"]=bs["[object Float32Array]"]=bs["[object Float64Array]"]=bs["[object Int8Array]"]=bs["[object Int16Array]"]=bs["[object Int32Array]"]=bs["[object Map]"]=bs["[object Number]"]=bs[gs]=bs["[object RegExp]"]=bs["[object Set]"]=bs["[object String]"]=bs["[object Symbol]"]=bs["[object Uint8Array]"]=bs["[object Uint8ClampedArray]"]=bs["[object Uint16Array]"]=bs["[object Uint32Array]"]=!0,bs["[object Error]"]=bs[ms]=bs["[object WeakMap]"]=!1;var ys=function e(t,n,r,i,o,a){var s,c=1&n,u=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!dt(t))return t;var p=Xe(t);if(p){if(s=Ka(t),!c)return Wa(t,s)}else{var d=Oi(t),f=d==ms||"[object GeneratorFunction]"==d;if(Ur(t))return Ua(t,c);if(d==gs||d==vs||f&&!o){if(s=u||f?{}:cs(t),!c)return u?Xa(t,Fa(s,t)):qa(t,Ra(s,t))}else{if(!bs[d])return o?t:{};s=os(t,d,c)}}a||(a=new lr);var h=a.get(t);if(h)return h;a.set(t,s),hs(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):ps(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var v=p?void 0:(l?u?Ja:si:u?Na:ai)(t);return Ta(v||t,(function(i,o){v&&(i=t[o=i]),Aa(s,o,e(i,n,r,o,t,a))})),s};var ws=function(e){return ys(e,5)},_s=function(e,t){var n=ws(e);return(null==t?void 0:t.pageNumber)&&Number(t.pageNumber)>0?n.pageNumber=Number(t.pageNumber):n.pageNumber=0,n},Ss=["gazeta.ru","auto.rambler.ru","doctor.rambler.ru","finance.rambler.ru","games.rambler.ru","kino.rambler.ru","news.rambler.ru","sport.rambler.ru","travel.rambler.ru","weekend.rambler.ru","woman.rambler.ru","horoscopes.rambler.ru","m.horoscopes.rambler.ru","weather.rambler.ru","m.weather.rambler.ru"],Es=function(e,t){var n,r;void 0===t&&(t={}),e.params=e.params||{};var i,o,a,s,c=ws(t);c.puid42=function(e){void 0===e&&(e=1e5);var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t?t.downlink>e?void 0:t.downlink:void 0}(),c.pli=t.pli?t.pli:"a",c.plp=t.plp?t.plp:"a",c.pop=t.pop?t.pop:"a",i=new URL(ee(window)),o=i.hostname,a=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(t.includes(e[r])){n=!0;break}return n}(Ss,o),s=i.searchParams.has("updated")||i.searchParams.has("refresh"),a&&s&&(c.puid62=t.puid62?t.puid62:"30"),(null===(r=null===(n=window.Adf)||void 0===n?void 0:n.util)||void 0===r?void 0:r.nolimits)&&(c.pli="a",c.plp="a",c.pop="a"),e.params=c},ks=function(e,t){return function(n,r,i){var o=i.value;i.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n[t],a=n[e];return Es(i,a),o.apply(this,n)}}},Os=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ts=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xs=function(){function e(){var e,t,n=this;this._handleLocationChange=function(){n._store.set("rq_sess",n.genNewRequestToken())},this._initRequestToken(),this._eventEmitter.register(((e={})[Y.PAGE]=((t={})[Q.SPA_UPDATE]=this._handleLocationChange,t),e)),(0,En.addEventListener)(window,"changestate",this._handleLocationChange)}return e.prototype.getPageRequestToken=function(){return this._store.get("rq_sess")},e.prototype.genNewRequestToken=function(){for(var e="",t=0;t<32;)e+=Math.floor(16*Math.random()).toString(16),t+=1;return e.toUpperCase()},e.prototype._initRequestToken=function(){this._store.get("rq_sess")||this._store.set("rq_sess",this.genNewRequestToken())},Os([p(t.Store),Ts("design:type",Object)],e.prototype,"_store",void 0),Os([p(t.EventEmitter),Ts("design:type",Object)],e.prototype,"_eventEmitter",void 0),e}(),Ps=i(3866),Is="adtech_uid",As=function(){function e(e){this.regValidKey=new RegExp("([a-zA-Z0-9_-]{0,})","i"),this.cookies=e}return e.prototype.getItem=function(e,t){var n,r,i=this.cookies.split(";").reduce((function(e,n){var r=n.trim().split("="),i=r[0],o=r[1];return i===t&&e.push(decodeURIComponent(o)),e}),[]);if(!i.length)return!1;for(var o=0,a=i;o<a.length;o++){var s=a[o],c=null===(n=s.split(":")[1])||void 0===n?void 0:n.split(".").length;"number"==typeof c&&c<1/0&&(r=s)}return r||!1},e.prototype.setItem=function(e,t,n,r,i,o,a){if(void 0===r&&(r=365),void 0===i&&(i="/"),void 0===a&&(a=!0),"string"==typeof t&&this.regValidKey.test(t)&&"string"==typeof n&&(""===n||this.regValidKey.test(n))&&"number"==typeof r&&"string"==typeof i&&"string"==typeof o&&"boolean"==typeof a){var s=new Date;s.setTime(s.getTime()+24*r*60*60*1e3);var c=s.toUTCString();return t+"="+(n=encodeURIComponent(n))+(c?"; Expires=".concat(c):"")+(i?"; Path=".concat(i):"")+(o?"; Domain=".concat(o):"")+(a?"; Secure":"")}return""},e}(),Cs=function(){function e(e,t){this.cookieStore=void 0!==t?new As(t):new Ps.Z,this.secure=e}return e.prototype.getItem=function(e){var t=this.cookieStore.getItem(!0,e,!1);return"boolean"!=typeof t&&t},e.prototype.setItem=function(e,t,n){return this.cookieStore.setItem(!0,e,t,365,"/",n,this.secure,!1)},e}();var Rs={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ds;const js=new Uint8Array(16);function Bs(){if(!Ds&&(Ds="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ds))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ds(js)}const Ns=[];for(let e=0;e<256;++e)Ns.push((e+256).toString(16).slice(1));function Fs(e,t=0){return Ns[e[t+0]]+Ns[e[t+1]]+Ns[e[t+2]]+Ns[e[t+3]]+"-"+Ns[e[t+4]]+Ns[e[t+5]]+"-"+Ns[e[t+6]]+Ns[e[t+7]]+"-"+Ns[e[t+8]]+Ns[e[t+9]]+"-"+Ns[e[t+10]]+Ns[e[t+11]]+Ns[e[t+12]]+Ns[e[t+13]]+Ns[e[t+14]]+Ns[e[t+15]]}var Ms=function(e,t,n){if(Rs.randomUUID&&!t&&!e)return Rs.randomUUID();const r=(e=e||{}).random||(e.rng||Bs)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Fs(r)},Ls=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var Vs=function(e){return"string"==typeof e&&Ls.test(e)};var Hs=function(e){if(!Vs(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};var Us,Ws=function(){function e(){this.uuid="",this.scope=""}return e.prototype.parse=function(e){try{var t=e.split(":");if(2!==t.length)return!1;var n=t[0],r=t[1];return!!function(e){return Vs(e)&&4===Hs(e)}(n)&&(this.uuid=n,this.scope=r,!0)}catch(e){return!1}},e.prototype.getID=function(){return{scope:this.scope,uuid:this.uuid,cookieString:this.cookieString}},e.prototype.generate=function(e){this.uuid=Ms(),this.scope=e},e.prototype.getJoined=function(){return[this.uuid,this.scope].join(":")},e.prototype.setCookieString=function(e){this.cookieString=e},e}(),qs=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},zs=function(){function e(e){if(this.isNode="object"==typeof i.g&&void 0!==i.g.process&&null!=i.g.process.versions&&null!=i.g.process.versions.node,this.isNode){var t=e||{},n=t.hostname,r=t.secure,o=void 0===r||r,a=t.cookies;this.hostname="string"==typeof n?n:"",this.storeFacade=new Cs(!!o,"string"==typeof a?a:"")}else this.hostname=location.hostname,this.storeFacade=new Cs("https:"===location.protocol)}return e.prototype.getID=function(){var e=this.storeFacade.getItem(Is);return e?this.getCurrentUID(e):this.generateAndSave()},e.prototype.generateAndSave=function(){var e=this.getScopeDomains(this.hostname),t=this.tryToSetAllDomains(e);return t?t.getID():{scope:null,uuid:null}},e.prototype.getCurrentUID=function(e){var t=new Ws;if(t.parse(e)){var n=t.getID();if(n.scope&&n.uuid){var r=this.storeFacade.setItem(Is,e,n.scope);"string"==typeof r&&(n.cookieString=r)}return n}return this.generateAndSave()},e.prototype.tryToSetAllDomains=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=new Ws;r.generate(n);var i=r.getJoined(),o=this.storeFacade.setItem(Is,i,n);if(o)return this.isNode&&"string"==typeof o&&r.setCookieString(o),r}},e.prototype.getScopeDomains=function(e){if(""===e)return[];var t=e.split(".");if(t.length<=1)return t;for(var n=[],r=0;r<t.length-1;r++){var i=t[r];n.unshift(qs([i],t.slice(r+1),!0).join("."))}return n},e}(),Gs=function(e,t,n){for(var r in void 0===n&&(n={}),e)e.hasOwnProperty(r)&&("object"==typeof e[r]&&null!==e[r]?(n[r]={},Gs(e[r],t,n[r])):n[r]=t(e[r]));return n},Xs=function(e,t){if(t<1)return"";if(t%2)return Xs(e,t-1)+e;var n=Xs(e,t/2);return n+n},Js=i(1309),$s="1.2.0",Ks=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ys=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Qs=function(e,t){void 0===t&&(t=window);var n=this;this._fingerprintStorage=e,this._eventContainer=t,this._getFingerprintHandler=function(e){return Ks(n,void 0,void 0,(function(){var t;return Ys(this,(function(n){switch(n.label){case 0:return e.data&&"octopusGetFingerprint"===e.data.type?[4,this._fingerprintStorage.getFingerPrint()]:[2];case 1:return t=n.sent(),e.source.postMessage({fingerprint:t,type:"octopusSetFingerprint"},e.origin),[2]}}))}))},this._eventContainer.addEventListener("message",this._getFingerprintHandler,!1)},Zs=function(){function e(e){this.name=e}return e.getUserDataWithoutIP=function(e){var t,n=JSON.parse(e);return(null===(t=n[n.length-1])||void 0===t?void 0:t.IP)?n.slice(0,n.length-1):n},e.prototype.getFingerprint=function(t){var n=t.getGatheredIP(),r=e.getUserDataWithoutIP(t.getCollectedUserData());return{fp:Bc.getFingerPrintHash(JSON.stringify(r)+n.split(".")[0]),name:this.name}},e}(),ec=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){var t=e.getGatheredIP();return{fp:e.getBaseFingerprint()+t.split(".")[0],name:this.name}},e}(),tc=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){var t=e.getGatheredIP().split(".");return{fp:"".concat(e.getBaseFingerprint()).concat(t[0]).concat(t[1]),name:this.name}},e}(),nc=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){return{fp:e.getBaseFingerprint(),name:this.name}},e}(),rc=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ic="UNKNOWN",oc=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){var t=JSON.parse(e.getCollectedUserData()),n=rc(rc([],t,!0),[this.getCanvas(),this.getWebGL()],!1);return{fp:Bc.getFingerPrintHash(JSON.stringify(n)),name:this.name}},e.prototype.getCanvas=function(){var e={},t=document.createElement("canvas");t.width=400,t.height=200,t.style.display="inline";var n=t.getContext("2d");try{null==n||n.rect(0,0,10,10),null==n||n.rect(2,2,6,6),e.canvasWinding=null==n?void 0:n.isPointInPath(5,5,"evenodd")}catch(t){e.canvasWinding=ic}try{n&&(n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.image=t.toDataURL())}catch(t){e.image=ic}return e},e.prototype.getWebGL=function(){try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl"),n=void 0,r=void 0;return t.getSupportedExtensions().indexOf("WEBGL_debug_renderer_info")>=0?(n=t.getParameter(t.getExtension("WEBGL_debug_renderer_info").UNMASKED_VENDOR_WEBGL),r=t.getParameter(t.getExtension("WEBGL_debug_renderer_info").UNMASKED_RENDERER_WEBGL)):(n="Not supported",r="Not supported"),[n,r]}catch(e){return"Not supported;;;Not supported"}},e}(),ac=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},sc=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},cc=function(){function e(){}return e.prototype.getFingerprint=function(){return ac(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,u,l;return sc(this,(function(p){switch(p.label){case 0:if(!window.OfflineAudioContext)return[3,5];e=window.OfflineAudioContext,t=4500,5e3,n=new e(1,5e3,44100),(r=n.createOscillator()).type="triangle",r.frequency.value=1e4,(i=n.createDynamicsCompressor()).threshold.value=-50,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,r.connect(i),i.connect(n.destination),r.start(0),o=this.startRenderingAudio(n),a=o[0],s=o[1],p.label=1;case 1:return p.trys.push([1,3,,4]),[4,a];case 2:return u=p.sent(),c=this.getHash(u.getChannelData(0).subarray(t)),[3,4];case 3:return(l=p.sent())&&l instanceof Error&&("timeout"===l.name||"suspended"===l.name)&&(c=0),[3,4];case 4:return[2,{ok:!0,webAudioHash:function(){return s(),c}}];case 5:return[2,{ok:!1}]}}))}))},e.prototype.startRenderingAudio=function(e){var t=function(){},n=new Promise((function(n,r){var i=!1,o=0,a=0;e.oncomplete=function(e){return n(e.renderedBuffer)};var s=function(){setTimeout((function(){return r()}),Math.min(500,a+5e3-Date.now()))},c=function(){try{switch(e.startRendering(),e.state){case"running":a=Date.now(),i&&s();break;case"suspended":document.hidden||o++,i&&o>=3?r():setTimeout(c,500)}}catch(e){r(e)}};c(),t=function(){i||(i=!0,a>0&&s())}}));return[n,t]},e.prototype.getHash=function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t},e}(),uc=function(){return uc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uc.apply(this,arguments)},lc=[new Zs("firstIPByte"),new ec("joinedFirstIPByte"),new tc("joinedFirstSecondIPBytes"),new nc("withoutIP"),new oc("withCanvas")],pc=function(){function e(e){this.userID=e}return e.prototype.get=function(){var t=this;return e.experimentalAlgorithms.reduce((function(e,n){var r,i=n.getFingerprint(t.userID),o=i.name,a=i.fp;return uc(uc({},e),((r={})[o]=a,r))}),{})},e.experimentalAlgorithms=lc,e}(),dc=function(){return-1!==navigator.userAgent.indexOf("Opera")},fc=function(){return-1!==navigator.userAgent.indexOf("OPR")},hc=function(){return-1!==navigator.userAgent.indexOf("Edg")},vc=function(){return-1!==navigator.userAgent.indexOf("Edge")},mc=function(){return-1!==navigator.userAgent.indexOf("Chrome")},gc=function(){return-1!==navigator.userAgent.indexOf("Firefox")},bc=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},yc=function(){return navigator.userAgent.lastIndexOf(" ")+1<navigator.userAgent.lastIndexOf("/")},wc=function(){var e;return dc()||fc()?e="Opera":hc()||vc()?e="Edge":mc()?e="Chrome":gc()?e="Firefox":bc()?e="Safari":yc()&&(e=function(){var e=navigator.userAgent.lastIndexOf(" ")+1,t=navigator.userAgent.lastIndexOf("/"),n=navigator.userAgent.substring(e,t);return n.toLowerCase()===n.toUpperCase()&&(n=navigator.appName),n}()),e||""},_c=function(e){if("string"==typeof e){for(var t=[";"," ",")"],n=0;n<t.length;n++){var r=t[n],i=e.indexOf(r);-1!==i&&(e=e.substring(0,i))}return e}return""},Sc=function(){var e;return dc()?e=function(){var e=navigator.userAgent.indexOf("Opera"),t=navigator.userAgent.substring(e+6);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),_c(t)}():fc()?e=function(){var e=navigator.userAgent.indexOf("OPR"),t=navigator.userAgent.substring(e+4);return _c(t)}():vc()?e=function(){var e=navigator.userAgent.indexOf("Edge"),t=navigator.userAgent.substring(e+5);return _c(t)}():hc()?e=function(){var e=navigator.userAgent.indexOf("Edg"),t=navigator.userAgent.substring(e+4);return _c(t)}():mc()?e=function(){var e=navigator.userAgent.indexOf("Chrome"),t=navigator.userAgent.substring(e+7);return _c(t)}():gc()?e=function(){var e=navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substring(e+8);return _c(t)}():bc()?e=function(){var e=navigator.userAgent.indexOf("Safari"),t=navigator.userAgent.substring(e+7);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),_c(t)}():yc()&&(e=function(){var e=navigator.userAgent.lastIndexOf("/"),t=navigator.userAgent.substring(e+1);return _c(t)}()),e||""},Ec=function(){for(var e="",t=[{r:/(Windows 10.0|Windows NT 10.0)/,s:"Windows 10"},{r:/(Windows 8.1|Windows NT 6.3)/,s:"Windows 8.1"},{r:/(Windows 8|Windows NT 6.2)/,s:"Windows 8"},{r:/(Windows 7|Windows NT 6.1)/,s:"Windows 7"},{r:/Windows NT 6.0/,s:"Windows Vista"},{r:/Windows NT 5.2/,s:"Windows Server 2003"},{r:/(Windows NT 5.1|Windows XP)/,s:"Windows XP"},{r:/(Windows NT 5.0|Windows 2000)/,s:"Windows 2000"},{r:/(Win 9x 4.90|Windows ME)/,s:"Windows ME"},{r:/(Windows 98|Win98)/,s:"Windows 98"},{r:/(Windows 95|Win95|Windows_95)/,s:"Windows 95"},{r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,s:"Windows NT 4.0"},{r:/Windows CE/,s:"Windows CE"},{r:/Win16/,s:"Windows 3.11"},{r:/Android/,s:"Android"},{r:/OpenBSD/,s:"Open BSD"},{r:/SunOS/,s:"Sun OS"},{r:/(Linux|X11)/,s:"Linux"},{r:/(iPhone|iPad|iPod)/,s:"iOS"},{r:/Mac OS X/,s:"Mac OS X"},{r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/,s:"Mac OS"},{r:/QNX/,s:"QNX"},{r:/UNIX/,s:"UNIX"},{r:/BeOS/,s:"BeOS"},{r:/OS\/2/,s:"OS/2"},{r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/,s:"Search Bot"}],n=0;n<t.length;n++){var r=t[n];if(r.r.test(navigator.userAgent)){e=r.s;break}}return e},kc=function(){var e=Ec(),t="";switch(/Windows/.test(e)&&(t=/Windows (.*)/.exec(e))&&(t=t[1],e="Windows"),e){case"Mac OS X":(t=/Mac OS X (10[._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"Android":(t=/Android ([._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"iOS":var n=/OS (\d+)_(\d+)_?(\d+)?/.exec(navigator.appVersion);n&&(t=n[1]+"."+n[2]+"."+(n[3]||0))}return t||""},Oc=function(){return Oc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oc.apply(this,arguments)},Tc=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},xc=function(){function e(e){var t;void 0===e&&(e=[]),this.onUserDataGatheredCallbacks=[],(t=this.onUserDataGatheredCallbacks).push.apply(t,e),this.baseFpProperties=this.getBaseFpProperties(),this.userData=this.getCollectedUserData(),this.onUserDataGathered()}return e.prototype.getUserLanguage=function(){try{var e=window.navigator;return{UserLanguage:e.language||e.userLanguage||e.browserLanguage||e.systemLanguage||""}}catch(e){return null}},e.prototype.getBaseFpProperties=function(){return{browser:{browser:{browser:wc(),mobile:/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion),version:Sc()},screen:{availableSize:{height:window.screen.availHeight,width:window.screen.availWidth},colorDepth:window.screen.colorDepth,pixelRatio:(e=0,void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?e=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio),e),size:{height:window.screen.height,width:window.screen.width}},system:{name:Ec(),version:kc()}},userLanguage:this.getUserLanguage(),timezoneOffset:this.getTimezoneOffset(),plugins:this.getPlugins()};var e},e.prototype.getTimezoneOffset=function(){try{return{TimezoneOffset:(new Date).getTimezoneOffset()}}catch(e){return null}},e.prototype.onUserDataGathered=function(){var e=this;this.onUserDataGatheredCallbacks.forEach((function(t){t(e.userData)}))},e.prototype.getCollectedUserData=function(){var e=Oc({},this.baseFpProperties);return 0===this.baseFpProperties.browser.screen.pixelRatio&&(e.browser.screen.pixelRatio=1),Tc([{UserAgent:navigator.userAgent}],Object.values(e),!0)},e.prototype.getPlugins=function(){try{return{Plugins:this.getRegularPlugins()}}catch(e){return null}},e.prototype.getRegularPlugins=function(){var e=this;try{for(var t=[],n=0;n<window.navigator.plugins.length;n++)t.push(window.navigator.plugins[n]);return t=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(t,(function(t){var n=e.map(t,(function(e){return[e.type,e.suffixes].join("~")})).join(",");return[t.name,t.description,n].join("::")}),this)}catch(e){return[]}},e.prototype.map=function(e,t,n){var r=[];return null===e?r:Array.prototype.map&&e.map===Array.prototype.map?e.map(t,n):(this.each(e,(function(e,i,o){r[r.length]=t.call(n,e,i,o)}),n),r)},e.prototype.each=function(e,t,n){if(null!==e)if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)==={})return}else for(var o=0;o<e.length;o++){var a=e[o];if(e.hasOwnProperty(a)&&t.call(n,e[a],a,e)==={})return}},e}(),Pc=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ic=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ac=function(){function e(e){var t=this;this.stunServerURI=e,this.cbs=[],this.IPRegex=/(\d{1,3}(\.\d{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/,this.onIceCandidate=function(e,n){var r;if((null===(r=null==e?void 0:e.candidate)||void 0===r?void 0:r.candidate)&&t.IPRegex.test(e.candidate.candidate)){var i=(t.IPRegex.exec(e.candidate.candidate)||[])[0];t.triggerCbs(),n(i)}}}return e.prototype.onWebRTCRequest=function(e){this.cbs.push(e)},e.prototype.getIP=function(){return Pc(this,void 0,void 0,(function(){var e=this;return Ic(this,(function(t){return[2,new Promise((function(t,n){var r=window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!r)return t();setTimeout((function(){n()}),1e3);var i=new r({iceServers:[{urls:e.stunServerURI}]});i.onicegatheringstatechange=function(e){var t=e.target;"complete"===(null==t?void 0:t.iceGatheringState)&&n()},i.onicecandidate=function(n){e.onIceCandidate(n,t)},i.createDataChannel(""),i.createOffer().then((function(e){i.setLocalDescription(e)}))}))]}))}))},e.prototype.triggerCbs=function(){this.cbs.forEach((function(e){return e()}))},e}(),Cc=function(){return Cc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Cc.apply(this,arguments)},Rc=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Dc=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},jc=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Bc=function(){function e(t,n){void 0===n&&(n=[]);var r=this;this.isAccurate=!1,this.settings={onInitFPDiscovery:!1},this.onceFullUidResolve=[],this.isGetFingerPrintCalled=!1,this.defaultIP={IP:"0.0.0.0"},t&&(this.settings=Cc(Cc({},this.settings),t)),this.settings.ipDiscUrl&&(this.settings.ipDiscUrl=function(e,t){if("string"!=typeof e)throw new TypeError("Expected `url` to be of type `string`, got `".concat(typeof e,"`"));return e=e.trim(),t=Object.assign({https:!1},t),/^.+\/\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(\/\/|(?!.+?\/\/))/,t.https?"https://":"http://")}(this.settings.ipDiscUrl,{https:!0})),this.userData=new xc(n),this.accurateFingerprint="",this.userDataString=JSON.stringify(this.userData.userData),this.baseFingerprint=e.getFingerPrintHash(this.userDataString),this.isAccurate=!1,this.settings.onInitFPDiscovery&&this.getFingerPrint().catch((function(){r.resetState()})),this.experimentalFingerprints=new pc(this),this.webAudioFp=new cc,this.fpWithCanvas=new oc(""),this.completeFPPromise=this.generateCompleteFingerprint(),this.settings.webRTCStunServerURI&&(this.webRTCIP=new Ac(this.settings.webRTCStunServerURI)),new Qs(this)}return e.fnv32a=function(e,t){for(var n=0;n<e.length;n++)t=16777619*(t^=e.charCodeAt(n))&4294967295;return t},e.tobinary=function(e){for(var t="",n=0;n<4;n++)t+=String.fromCharCode(255&e),e>>=8;return t},e.getFingerPrintHash=function(t){var n=1471357547+Number($s.split(".").map((function(e){return Xs("0",2-e.length)+e})).join("")),r=e.fnv32a(t.substr(0,t.length/2),2166136261),i=e.fnv32a(t.substr(t.length/2),r);i=4294967040&i|1;var o="";return o+=e.tobinary(4004),o+=e.tobinary(n),o+=e.tobinary(r),o+=e.tobinary(i),o+=String.fromCharCode(0),btoa(o)},e.prototype.getUserLanguage=function(){return this.userData.baseFpProperties.userLanguage?this.userData.baseFpProperties.userLanguage:null},e.prototype.getTimezoneOffset=function(){return this.userData.baseFpProperties.timezoneOffset?this.userData.baseFpProperties.timezoneOffset:null},e.prototype.getCompleteFingerprint=function(){return this.completeFPPromise},e.prototype.getJsonFpParams=function(){return Rc(this,void 0,void 0,(function(){var e,t,n,r,i;return Dc(this,(function(o){switch(o.label){case 0:return[4,this.completeFPPromise];case 1:return e=o.sent(),t=e.fp,n=e.screen,r=e.others,i={f:{p:t.plugins,c:t.canvasWinding,i:t.canvasImage,v:t.webGLVendor,r:t.webGLRenderer,w:t.webAudioContext},s:{w:n.screenWidth,h:n.screenHeight,a:n.screenAvalWidth,b:n.screenAvalHeight,p:n.pixelRatio,c:n.colorDepth},o:{t:r.timezoneOffset,u:r.userLanguage}},[2,JSON.stringify(i)]}}))}))},e.prototype.getVersion=function(){return $s},e.prototype.getGatheredIP=function(){return this._gatheredIP||this.defaultIP.IP},e.prototype.getCollectedUserData=function(){return this.userDataString},e.prototype.getExperimentalFingerprints=function(){return this.experimentalFingerprints.get()},e.prototype.getWebAudioFp=function(){return Rc(this,void 0,void 0,(function(){var t,n,r;return Dc(this,(function(i){switch(i.label){case 0:return[4,this.webAudioFp.getFingerprint()];case 1:return(t=i.sent()).ok?(n=t.webAudioHash(),r=JSON.parse(this.getCollectedUserData()),[2,e.getFingerPrintHash(JSON.stringify(jc(jc([],r,!0),[{hash:n}],!1)))]):[2,""]}}))}))},e.prototype.getUserIDs=function(){return Promise.all([this.getFingerPrint()])},e.prototype.getBaseFingerprint=function(){return this.baseFingerprint},e.prototype.getFingerPrint=function(e){var t=this;return void 0===e&&(e=!1),new Promise((function(n){if(t.isAccurate)return n(t.getID());t.isGetFingerPrintCalled&&!e?t.onceFullUidResolve.push((function(){n(t.getID())})):(t.isGetFingerPrintCalled=!0,t.getUIDParams().then((function(e){t.onUidResolved(e),t.emitUidResolve(),n(t.getID())})).catch((function(){t.resetState(),t.emitUidResolve(),n(t.getID())})))}))},e.prototype.getID=function(){return this.accurateFingerprint||this.baseFingerprint},e.prototype.subscribeOnWebRTC=function(e){this.webRTCIP&&this.webRTCIP.onWebRTCRequest(e)},e.prototype.generateCompleteFingerprint=function(){return Rc(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,u,l,p,d,f,h,v,m;return Dc(this,(function(g){switch(g.label){case 0:return(e=this.userData.baseFpProperties).plugins?(n=JSON.stringify(e.plugins.Plugins),t=(0,Js.murmur3)(n)):t=null,r=this.fpWithCanvas.getCanvas(),i=r.canvasWinding,o=r.image,a=!0===i?1:null,s=o?(0,Js.murmur3)(o):null,"string"==typeof(l=this.fpWithCanvas.getWebGL())?(c=null,u=null):(c=l[0],u=l[1],"Not supported"===c&&(c=null),"Not supported"===u&&(u=null)),[4,this.getWebAudioFp()];case 1:return p=g.sent(),d=""===p?null:(0,Js.murmur3)(p),f=e.timezoneOffset?e.timezoneOffset.TimezoneOffset:null,h=e.userLanguage?e.userLanguage.UserLanguage:null,v=e.browser.screen,m=v.pixelRatio||null,[2,{fp:{plugins:t,canvasWinding:a,canvasImage:s,webGLVendor:c,webGLRenderer:u,webAudioContext:d},screen:{screenWidth:v.size.width,screenHeight:v.size.height,screenAvalWidth:v.availableSize.width,screenAvalHeight:v.availableSize.height,pixelRatio:m,colorDepth:v.colorDepth},others:{timezoneOffset:f,userLanguage:h}}]}}))}))},e.prototype.getUIDParams=function(){var e=this;return this.getIP().then((function(t){return jc(jc([],e.userData.userData,!0),[null===t?{IP:null}:t],!1)}))},e.prototype.getIP=function(){return Rc(this,void 0,void 0,(function(){var e,t;return Dc(this,(function(n){switch(n.label){case 0:if(!this.settings||!this.settings.ipDiscUrl)return[3,8];n.label=1;case 1:return n.trys.push([1,6,,7]),[4,this.getIPFromServer()];case 2:return(e=n.sent())?(t=e,[3,5]):[3,3];case 3:return[4,this.getWebRTCIP()];case 4:t=n.sent(),n.label=5;case 5:return[2,t];case 6:return n.sent(),[2,this.defaultIP];case 7:return[3,9];case 8:return[2,this.getWebRTCIP()];case 9:return[2]}}))}))},e.prototype.getWebRTCIP=function(){return Rc(this,void 0,void 0,(function(){var e;return Dc(this,(function(t){switch(t.label){case 0:if(!this.webRTCIP)return[2,this.defaultIP];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.webRTCIP.getIP()];case 2:return[2,(e=t.sent())?{IP:e}:this.defaultIP];case 3:return t.sent(),[2,this.defaultIP];case 4:return[2]}}))}))},e.prototype.getIPFromServer=function(){var e=this;return new Promise((function(t){if(!e.settings||!e.settings.ipDiscUrl)return t(null);setTimeout((function(){t(null)}),1e3);var n=new XMLHttpRequest;n.onload=function(){4===n.readyState&&(200===n.status&&n.responseText?t({IP:n.responseText}):t(null))},n.onerror=function(){t(null)},n.open("GET",e.settings.ipDiscUrl,!0),n.send()}))},e.prototype.emitUidResolve=function(){this.onceFullUidResolve.forEach((function(e){e()})),this.onceFullUidResolve=[]},e.prototype.onUidResolved=function(t){this.userDataString=JSON.stringify(t);for(var n=0,r=Object.values(t);n<r.length;n++){var i=r[n];this.accurateFingerprint=null===i.IP||i.IP===this.defaultIP.IP?this.fpWithCanvas.getFingerprint(this).fp:e.getFingerPrintHash(this.userDataString)}this.isAccurate=!0;var o=t[t.length-1];this._gatheredIP=null!==o.IP&&o.IP},e.prototype.resetState=function(){this.isAccurate=!1,this.isGetFingerPrintCalled=!1},e}(),Nc=function(){try{return navigator.getBattery().then((function(e){var t={charging:e.charging,charging_time:e.chargingTime,discharging_time:e.dischargingTime,level:e.level};return JSON.stringify(t)})).catch((function(e){return console.error("".concat(e.name,": ").concat(e.message)),""}))}catch(e){return""}},Fc=function(){try{return navigator.mediaDevices.enumerateDevices().then((function(e){var t=[];return e.forEach((function(e){t.push({device_id:e.deviceId,group_id:e.groupId,kind:e.kind,label:e.label})})),JSON.stringify(t)})).catch((function(e){return console.error("".concat(e.name,": ").concat(e.message)),""}))}catch(e){return""}},Mc=function(){return Mc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mc.apply(this,arguments)},Lc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Hc=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Uc=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Wc=function(){function e(e){var t=e.block,n=e.callbackName,r=e.divID;this._reqParams=Mc({},w),this._block=t,this._uid=new zs,this._divID=r,this._callbackName=n}return e.prototype.getRequestParams=function(){return this._reqParams},e.prototype.setLocationParams=function(){var e,t;(null===(t=null===(e=window.context)||void 0===e?void 0:e.location)||void 0===t?void 0:t.href)?(this._reqParams.ref=Ie(window.context.referrer),this._reqParams.url=Ie(window.context.location.href)):(this._reqParams.ref=Ie(document.referrer),this._reqParams.url=Ie(document.URL))},e.prototype.setAuthParams=function(){var e,t,n=this._block.authParams,r=(e="rccid",(t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)"))))?decodeURIComponent(t[1]):void 0);if(n||r){var i=Mc({},n);r&&(i.rambler_id=r),i&&(this._reqParams.external_ids=JSON.stringify(i))}},e.prototype.setFpParams=function(){return Hc(this,void 0,void 0,(function(){var e;return Uc(this,(function(t){switch(t.label){case 0:return e=this._reqParams,[4,this._userID.getJsonFpParams()];case 1:return e.fpParams=t.sent(),[2]}}))}))},e.prototype.setFrameParams=function(){var e=this.getFrameLevel();if(e){this._reqParams.frm_level=e;try{this._reqParams.frm_top=top.location.href}catch(e){this._reqParams.frm_top="top_not_accessible"}}},e.prototype.setBlockParams=function(){var e=this._block.pad_id;this._reqParams.pad_id=e,this.setOrGetExistingRequestParam(e,"requested")&&(this._reqParams.first="1",this.Storage.set(e,{rq:parseInt(this._config.getConfigValue("RQ_COUNT"),10)||0})),this._block.block_id&&(this._reqParams.block_id="".concat(this._block.block_id))},e.prototype.setScreenParams=function(){this._reqParams.screenw=window.screen.width,this._reqParams.screenh=window.screen.height,this._reqParams.winw=function(e){return e.context&&e.context.initialIntersection&&e.context.initialIntersection.rootBounds&&void 0!==e.context.initialIntersection.rootBounds.width?e.context.initialIntersection.rootBounds.width:e.innerWidth}(window),this._reqParams.winh=function(e){return e.context&&e.context.initialIntersection&&e.context.initialIntersection.rootBounds&&e.context.initialIntersection.rootBounds.height?e.context.initialIntersection.rootBounds.height:e.innerHeight}(window)},e.prototype.setSessionParams=function(){if(void 0!==this._block.rqNumber)this._reqParams.rq=this._block.rqNumber;else{var e=this._block.pad_id;this._reqParams.rq=this.Storage.get(e).rq,this.Storage.incProperty(e,"rq")}this._reqParams.rq_type=0,this._reqParams.rq_sess=this._block.force_new_session?this._sspRequestsSessionsStorage.genNewRequestToken():this._sspRequestsSessionsStorage.getPageRequestToken(),this._reqParams.skey=this._block.session_key||""},e.prototype.setUserIdentifiers=function(){return Hc(this,void 0,void 0,(function(){var e,t;return Uc(this,(function(n){return e=this._uid.getID(),t=this._userID.getBaseFingerprint(),this._reqParams.fpruid=t,e.uuid&&e.scope&&(this._reqParams.adtech_uid=e.uuid,this._reqParams.adtech_uid_scope=e.scope),this._block.publisher_uid&&this._block.publisher_uid_scope&&(this._reqParams.publisher_uid=this._block.publisher_uid,this._reqParams.publisher_uid_scope=this._block.publisher_uid_scope),[2]}))}))},e.prototype.setJparams=function(){this._reqParams.jparams=JSON.stringify(Gs(this._block.jparams,(function(e){return"number"==typeof e?e.toString():e})))},e.prototype.setAntiFraudParams=function(){return Hc(this,void 0,void 0,(function(){var e,t,n,r;return Uc(this,(function(i){switch(i.label){case 0:return[4,Nc()];case 1:return e=i.sent(),[4,Fc()];case 2:return t=i.sent(),n=function(){var e=new Date,t={offset:Math.floor(-1*e.getTimezoneOffset()/60),name:Intl.DateTimeFormat().resolvedOptions().timeZone};return JSON.stringify(t)}(),this._reqParams.device_memory=navigator.deviceMemory||"",this._reqParams.hardware_concurrency=navigator.hardwareConcurrency||"",void 0!==navigator.cookieEnabled&&(this._reqParams.cookies_enabled=navigator.cookieEnabled),void 0!==navigator.webdriver&&(this._reqParams.webdriver=navigator.webdriver),this._reqParams.max_touch_points=navigator.maxTouchPoints||"",void 0!==(r=navigator.javaEnabled())&&(this._reqParams.java_enabled=r),this._reqParams.history_length=history.length||"",this._reqParams.battery_info=e,this._reqParams.media_devices=t,this._reqParams.timezone=n,[2]}}))}))},e.prototype.setOtherParams=function(){var e=this._block,t=function(e,t,n){void 0===t&&(t=document),void 0===n&&(n=!1);var r={left:0,top:0};if(!(e=Po(e,t)))return Io("ssp-utils/findElementPosition: DOM element doesn't exist in that document"),null;for(n=!!n;e;){var i=void 0;n&&(i=window.getComputedStyle(e))&&"none"===i.display&&(e.style.display="block"),r.left+=e.offsetLeft,r.top+=e.offsetTop,(e=e.offsetParent)&&"fixed"===getComputedStyle(e).position&&(r.top+=Fn()),n&&e&&(e.style.display="")}return r}(he(this._divID));t&&(this._reqParams.top=t.top,this._reqParams.left=t.left);var n=e.parent_elt;n&&(n="string"==typeof n?document.getElementById(n):n,this._reqParams.width=n.clientWidth,this._reqParams.height=n.clientHeight),e.misc&&(this._reqParams.misc=e.misc),e.debug&&(this._reqParams.debug="1"),this._reqParams=Mc(Mc({},this._reqParams),{format_w:e.format_w||"",format_h:e.format_h||"",begun_self_keywords:e.keywords||"",begun_self_categories:e.categories||"",secure:"https:"===this._scripts.getConformProtocol()?1:0,vcapirs:v})},e.prototype.setCallbackName=function(){this._reqParams.callback=this._callbackName},e.prototype.setOrGetExistingRequestParam=function(e,t){var n=this.Storage.get(e);return(!n||!n[t])&&((n=n||{})[t]=!0,this.Storage.set(e,n),!0)},e.prototype.getFrameLevel=function(){for(var e=0,t=window;t&&t!==window.top&&e<999;)t=t.parent,e+=1;return e},Lc([p(t.Config),Vc("design:type",Ge)],e.prototype,"_config",void 0),Lc([p(t.Store),Vc("design:type",Object)],e.prototype,"Storage",void 0),Lc([p(t.UserID),Vc("design:type",Bc)],e.prototype,"_userID",void 0),Lc([p(t.SSPRequestsSessionsObserver),Vc("design:type",xs)],e.prototype,"_sspRequestsSessionsStorage",void 0),Lc([p(t.BegunScripts),Vc("design:type",Object)],e.prototype,"_scripts",void 0),e}();function qc(e){if(e instanceof Array){for(var t={boolean:!0,number:!0,string:!0},n=0,r=e.length;n<r;n++){var i=e[n];if(null!==i&&!(typeof i in t))return!1}return!0}return!1}function zc(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=null;null!==r&&(qc(r)&&(r=r.join(",")),"object"==typeof r?i=zc(r):""!==r&&(i=[encodeURIComponent(n),encodeURIComponent(r)].join("="))),null!==i&&t.push(i)}return t.length?t.join("&"):null}function Gc(e){var t={url:!0,ref:!0},n=[],r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],a={};a[i]=o,t.hasOwnProperty(i)&&o?r.push(a):n.push(a)}return zc(n.concat(r))}!function(e){e.CONTEXTJSP="CONTEXTJSP",e.VAPIRS="VAPIRS"}(Us||(Us={}));var Xc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Jc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Kc=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Yc=function(){function e(){}return e.prototype.createRequestParams=function(e,t){return $c(this,void 0,void 0,(function(){var n;return Kc(this,(function(r){switch(r.label){case 0:return[4,this.buildCommonParams(t)];case 1:switch(n=r.sent(),e){case Us.CONTEXTJSP:n.setCallbackName();case Us.VAPIRS:}return[2,n.getRequestParams()]}}))}))},e.prototype.toQuery=function(e){return Gc(e).replace(/%[0-9a-fA-F]?$/,"")},e.prototype.buildCommonParams=function(e){return $c(this,void 0,void 0,(function(){var t;return Kc(this,(function(n){switch(n.label){case 0:return(t=this._reqBuilderFactory(e)).setLocationParams(),t.setFrameParams(),t.setBlockParams(),t.setScreenParams(),t.setSessionParams(),[4,t.setUserIdentifiers()];case 1:return n.sent(),t.setJparams(),t.setOtherParams(),t.setAuthParams(),[4,t.setFpParams()];case 2:return n.sent(),[4,t.setAntiFraudParams()];case 3:return n.sent(),[2,t]}}))}))},Xc([p(t.SSPRequestParamsBuilderFactory),Jc("design:type",Function)],e.prototype,"_reqBuilderFactory",void 0),e}(),Qc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Zc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},eu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},tu=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},nu=function(){function e(){}return e.prototype.getRequestURL=function(t){var n=t.sspJparams,r=t.optionsB,i=t.divID;return eu(this,void 0,void 0,(function(){var t,o;return tu(this,(function(a){switch(a.label){case 0:return t={block_id:r["begun-block-id"],categories:r["begun-self-categories"],click_wrap:r["begun-click-wrap"],format_h:r["begun-format-h"],format_w:r["begun-format-w"],jparams:n,keywords:r["begun-self-keywords"],pad_id:r["begun-auto-pad"],parent_elt:r["begun-parent-elt"],session_key:r.sessionKey,misc:r["begun-misc"],force_new_session:r.forceNewSession,method:r.calledMethod,div_id:i,rqNumber:r.rqNumber},[4,this._reqParamsDirector.createRequestParams(Us.VAPIRS,{block:t,divID:i})];case 1:return o=a.sent(),[2,e.daemonURL+this._reqParamsDirector.toQuery(o)]}}))}))},e.daemonURL="".concat(m,"vapirs?wl=rambler&"),Qc([p(t.SSPRequestParamsDirector),Zc("design:type",Object)],e.prototype,"_reqParamsDirector",void 0),e}(),ru=function(e,t,n){void 0===t&&(t=0),e.forEach((function(e){var r=n[e];"string"!=typeof r||r.includes("data:")||0===r.indexOf("{")?Array.isArray(r)&&(n[e]=r.map((function(e){return e.url=le(e.url,"seq",0|t),e}))):n[e]=le(r,"seq",0|t)}))},iu=function(e){return void 0===e&&(e=window),Nn(e)?e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight:NaN},ou=function(e){return void 0===e&&(e=window),Nn(e)?e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth:NaN},au=Function.prototype,su=Object.prototype,cu=au.toString,uu=su.hasOwnProperty,lu=cu.call(Object);var pu=function(e){if(!st(e)||"[object Object]"!=at(e))return!1;var t=za(e);if(null===t)return!0;var n=uu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&cu.call(n)==lu};var du=function(e){return st(e)&&1===e.nodeType&&!pu(e)};var fu=function(e,t){return ys(e,5,t="function"==typeof t?t:void 0)};var hu=function(e){return function(t){return null==e?void 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),vu=/[&<>"']/g,mu=RegExp(vu.source);var gu=function(e){return(e=vn(e))&&mu.test(e)?e.replace(vu,hu):e};function bu(e){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(e)}function yu(e,t,n){var r=n.value;if("function"!=typeof r)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(bu(r)));var i=!1;return{configurable:!0,get:function(){if(i||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof r)return r;var n=r.bind(this);return i=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return n},set:function(e){r=e,delete this[t]}}),i=!1,n},set:function(e){r=e}}}var wu=function(){return wu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wu.apply(this,arguments)},_u=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Su=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Eu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ku=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ou=Z(i(8916)),Tu=function(e){if(du(e))return e},xu=function(){function e(){var e=this;this.inViewTimers={},this.RenderStatus=no,this.RenderFailReason=to,this._vapirsFeed=new nu,this.attemptRefresh=function(e,t){return window.Adf.refresher.attemptRefresh(e,t)},this.bannerIsRendered=function(t,n){var r=n.sspJparams,i=n.optionsB,o=void 0===i?{}:i,a=n.bannerData,s=n.syncShowResult,c=n.impressionID;return Eu(e,void 0,void 0,(function(){var e,n,i,u,l,p,d,f,h,v,m,g,b,y,w,_,S;return ku(this,(function(E){switch(E.label){case 0:return o["begun-block-id"]=o["begun-block-id"]||o["block-id"],o["begun-auto-pad"]=o["begun-auto-pad"]||o["auto-pad"],e="string"==typeof t?t:t.id,n=new Wo(t,o),s!==Ne.declined?[3,1]:(i={bannerPlace:he(t),optionsB:o,status:!1,reason:to.SyncBannerReRequest},[3,3]);case 1:return[4,n.start()];case 2:i=E.sent(),E.label=3;case 3:return i.status&&((null===(v=Wo.mediaTemplatesWithMimeXFrameHTML)||void 0===v?void 0:v[o["begun-block-id"]])&&delete Wo.mediaTemplatesWithMimeXFrameHTML[o["begun-block-id"]],u=null===(g=null===(m=window.Begun)||void 0===m?void 0:m.Autocontext)||void 0===g?void 0:g.savedFeeds[c],l=null===(y=null===(b=null==u?void 0:u.feed)||void 0===b?void 0:b.banners)||void 0===y?void 0:y.graph,p="",d=0,l&&l.length&&(f=l[0],p=f.view_type.includes(Do.ATOMS)?"atoms":f.mime,d=f.banner_id),this._metricsTransport.logMetrics({divId:e,eventType:te.rendered,impressionId:c,misc:o["begun-misc"],mime:p,monetizerId:d,method:null===(w=null==i?void 0:i.optionsB)||void 0===w?void 0:w.calledMethod}),this._inViewTimerStarter.startInViewTimer({adWrapperID:t,sspOptions:r,blockOptions:o,bannerPlace:n.actualBannerPlace,impressionID:c})),(null===(S=null===(_=null===window||void 0===window?void 0:window.Adf)||void 0===_?void 0:_.util)||void 0===S?void 0:S.stack[e])&&window.Adf.util.stack[e].status!==no.NO_BANNER&&window.Adf.util.updateBannersStack(e,{status:i.status?no.RENDERED:no.NOT_RENDERED}),function(e,t,n,r){t=Me(t);var i=qo(r);if(!i){var o=window.Adf.util.stack[t].impressionID;i=qo(window.Begun.Autocontext.savedFeeds[o])}var a=i&&i.params&&i.params.impression_id,s=function(e,t){return void 0===t&&(t=0),e&&e.banners&&e.banners.graph&&e.banners.graph[t]&&"object"==typeof e.banners.graph[t]&&e.banners.graph[t].view_type}(i,n.get("".concat(Sn(a),".nbanner")));e.viewTypes=s||void 0}(i,t,this._store,a),h=$o(i),ya(h),[2,h]}}))}))}}return e.prototype.ssp=function(e,t,n,r,i,o,a){var s=this;void 0===t&&(t={}),(n=_a(n))["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],n.forceNewSession&&(n.shouldFreezeWrapperHeight=!0,this._metricsTransport.clearBannerTimersMap(Me(e)));var c="string"==typeof r&&r.length>0,u="string"==typeof e&&e.length>0;if(c&&u){var l=he(e);if(!l)return new Promise((function(t){var r={nodeID:e,reason:to.DoesNotExist,optionsB:n,status:!1};ya(r),t(r)}));l.className="".concat(l.className||""," ").concat(r)}var p=this._syncShow.getSession(n["begun-block-id"])||{};n.sessionKey=p.key||"",window.Adf.util.updateBannersStack(e,{div_id:e,options_b:n,options:t,status:no.PENDING});var d=he(e);return new Promise((function(i,c){window.Begun.Autocontext.addBlock(fu(n,Tu),(function(u,l,p,d,f){var h=_s({blocktype:"capirs",block_id:parseInt(n["begun-block-id"],10),pad_id:parseInt(n["begun-auto-pad"],10),impression_id:l,misc:n["begun-misc"],reached:0,graphAmount:f,node_id:xe(e)},t);s._cachedBlockShowLoggerFactory(e,Date.now(),h,n),a?a(u,l,p):s._syncShow.show({divID:e,options:t,optionsB:n,optClass:r,callback:o,priority:u,impressionID:l,blockID:p,sessionKeys:d}).then((function(r){return s.bannerIsRendered(e,{sspJparams:t,optionsB:n,syncShowResult:r,impressionID:l})})).then((function(e){return s._eventEmitter.dispatch(Y.BLOCK,Q.DRAW_COMPLETE,null,[wu(wu({},$o(e)),{impressionID:l})]),e})).then(i).catch(c)}),e)})).then((function(e){if(n.wipeBeforeRender&&d){var t=we(),r=Fo({className:t,rules:{height:"initial"},nonce:s._config.getConfigValue("STYLE_NONCE_VALUE")});d.parentElement.appendChild(r),d.classList.add(t)}return e})).catch((function(e){throw e}))},e.prototype.sspScroll=function(e,t,n,r,i,o,a){var s;return void 0===t&&(t={}),n["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],s=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.desktopScrollRate?window.Adf.desktopScrollRate:0,this.scrollCore({methodName:"sspScroll",scrollRate:s},{divID:e,sspJparams:t,optionsB:n,optClass:r,optWin:i,callback:o,hardCallback:a})},e.prototype.sspScrollMobile=function(e,t,n,r,i,o,a){var s;return void 0===t&&(t={}),n["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],s=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.mobileScrollRate?window.Adf.mobileScrollRate:0,this.scrollCore({methodName:"sspScrollMobile",scrollRate:s},{divID:e,sspJparams:t,optionsB:n,optClass:r,optWin:i,callback:o,hardCallback:a})},e.prototype.deferredSsp=function(e,t,n,r){var i=this;void 0===t&&(t={}),void 0===r&&(r={}),(n=_a(n))["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"];var o=this._syncShow.getSession(n["begun-block-id"])||{};n.sessionKey=o.key||"",window.Adf.util.updateBannersStack(e,{div_id:e,options_b:n,options:t,status:no.PENDING});var a=he(e),s=null,c=null,u=new Promise((function(e,t){s=e,c=t}));return window.Begun.Autocontext.addBlock(fu(n,Tu),(function(o,u,l,p,d){var f=_s({blocktype:"capirs",block_id:parseInt(n["begun-block-id"],10),pad_id:parseInt(n["begun-auto-pad"],10),impression_id:u,misc:n["begun-misc"],reached:0,graphAmount:d,node_id:xe(e)},t);i._cachedBlockShowLoggerFactory(e,Date.now(),f,n),i._metricsTransport.freezeTimer(Me(e));var h=new IntersectionObserver((function(d){var f=d&&d[0];f&&f.isIntersecting&&(i._metricsTransport.unFreezeTimer(Me(e)),h.unobserve(a),i._syncShow.show({divID:e,options:t,optionsB:n,priority:o,impressionID:u,blockID:l,sessionKeys:p,doWipe:r.doWipe}).then((function(r){return i.bannerIsRendered(e,{sspJparams:t,optionsB:n,syncShowResult:r,impressionID:u})})).then(s).catch(c))}),{root:n.customRoot||null,rootMargin:n.customRootMargin||(n.customRootMarginPercent?"0px 0px ".concat(n.customRootMarginPercent,"% 0px"):"0px 0px 0px 0px"),threshold:r.inViewThresholds||[0]});h.observe(a)}),e),u.then((function(e){if((r.doWipe||n.wipeBeforeRender)&&a){var t=we(),o=Fo({className:t,rules:{height:"initial"},nonce:i._config.getConfigValue("STYLE_NONCE_VALUE")});a.parentElement.appendChild(o),a.classList.add(t)}return e})).catch((function(e){throw e}))},e.prototype.reloadssp=function(e,t,n,r,i){void 0===t&&(t={}),Ou.log(401,"Данный метод помечен как deprecated \n Используйте ssp|sspScroll для перезагрузки баннера, \n передав в optionsB forceNewSesion со значением true. \n");var o=he(e);return n["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],new Promise(o?function(o){n.forceNewSession=!0,n.wipeBeforeRender=!0,n.shouldFreezeWrapperHeight=!0,window.Adf.banner.ssp(e,t,n,null,null,r,i).then((function(e){o(e)}))}:function(t){var r={nodeID:e,optionsB:n,reason:to.DoesNotExist,status:!1};ya(r),t(r)})},e.prototype.feed_ssp=function(e,t,n,r){var i,o,a=this;void 0===t&&(t={}),n["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],n=_a(n),r.banners.graph.forEach((function(e,t){return ru(["source","viewability","tracking"],t,e)})),(null===(o=null===(i=r.debug)||void 0===i?void 0:i.request)||void 0===o?void 0:o.url)&&(r.debug.request.url=gu(r.debug.request.url));var s={block_id:n["begun-block-id"],pad_id:n["begun-auto-pad"],method:n.calledMethod},c=_s({blocktype:"capirs",block_id:parseInt(n["begun-block-id"],10),pad_id:parseInt(n["begun-auto-pad"],10),impression_id:r.params.impression_id,misc:n["begun-misc"],reached:0,uuid:r.cookies&&r.cookies.uuid||"",rq_type:1,graphAmount:r.banners.graph.length,node_id:xe(e)},t);return this._blockShowLoggerFactory(e,Date.now(),c,n,r),window.Adf.util.updateBannersStack(e,{div_id:e,options_b:n,options:t,status:no.PENDING}),this._syncShow.show({divID:e,options:t,optionsB:n,priority:r.params.priority,impressionID:{feed:r,blockData:s},blockID:s.block_id,sessionKeys:r.params.session_keys}).then((function(i){return a.bannerIsRendered(e,{sspJparams:t,optionsB:n,bannerData:{feed:r,blockData:s},impressionID:_n(r),syncShowResult:i})})).then((function(e){return a._eventEmitter.dispatch(Y.BLOCK,Q.DRAW_COMPLETE,null,[wu(wu({},$o(e)),{impressionID:_n(r)})]),e}))},e.prototype.feed_sspScroll=function(e,t,n,r){var i;return void 0===t&&(t={}),n["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],i=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.desktopScrollRate?window.Adf.desktopScrollRate:0,this.scrollCore({methodName:"feed_sspScroll",destinationMethod:"feed_ssp",scrollRate:i},{divID:e,sspJparams:t,optionsB:n,feed:r})},e.prototype.feed_sspScrollMobile=function(e,t,n,r){var i;return void 0===t&&(t={}),n["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],i=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.mobileScrollRate?window.Adf.mobileScrollRate:0,this.scrollCore({methodName:"feed_sspScrollMobile",destinationMethod:"feed_ssp",scrollRate:i},{divID:e,sspJparams:t,optionsB:n,feed:r})},e.prototype.feed_sspRich=function(e,t,n,r){return void 0===t&&(t={}),n["begun-block-id"]=n["begun-block-id"]||n["block-id"],n["begun-auto-pad"]=n["begun-auto-pad"]||n["auto-pad"],this.richCore({methodName:"feed_sspRich",destinationMethod:"feed_ssp"},{divID:e,sspJparams:t,optionsB:n,feed:r})},e.prototype.ssp_video=function(e){var t=e.divID,n=e.sspJparams,r=e.optionsB;return Eu(this,void 0,void 0,(function(){var e,i;return ku(this,(function(o){switch(o.label){case 0:return r["begun-block-id"]=r["begun-block-id"]||r["block-id"],r["begun-auto-pad"]=r["begun-auto-pad"]||r["auto-pad"],(e=document.getElementById(t))?[4,this._vapirsFeed.getRequestURL({sspJparams:n,optionsB:r,divID:t})]:[2,{success:!1,error:new Error("Unable to find dom element with ".concat(t))}];case 1:return i=o.sent(),[2,this.vastPlaybackWrapper.startVideo(e,{mute:!0,url:i})]}}))}))},e.prototype.spaPageUpdate=function(){this._metricsTransport.clearBannerTimersMap(),this._eventEmitter.dispatch(Y.PAGE,Q.SPA_UPDATE)},e.prototype.log=function(e,t,n){return Ou.log(e,t,n)},e.prototype.richCore=function(e,t){var n=this,r=e.destinationMethod,i=void 0===r?"ssp":r;t.optionsB=_a(t.optionsB);var o=he(t.divID);return new Promise(o?function(e,r){var o=function(){var a,s=(void 0===a&&(a=window),{height:iu(a),width:ou(a)}).height;if(Fn()+20>=s)if("feed_ssp"===i)n.feed_ssp(t.divID,t.sspJparams,t.optionsB,t.feed).then(e).catch(r);else n.ssp(t.divID,t.sspJparams,t.optionsB,t.optClass,t.optWin,t.callback,t.hardCallback).then(e).catch(r);else setTimeout(o,100)};o()}:function(e){var n={nodeID:t.divID,reason:to.DoesNotExist,optionsB:t.optionsB,status:!1};ya(n),e(n)})},e.prototype.scrollCore=function(e,t){var n=this,r=e.destinationMethod,i=void 0===r?"ssp":r,o=e.scrollRate,a=void 0===o?0:o,s=e.topTreshold,c=void 0===s?0:s,u=this._store.get("".concat(Me(t.divID),".intersectionObserver"));u&&u.disconnect(),t.optionsB=_a(t.optionsB);var l=he(t.divID);return l?(t.optionsB.wipeImmediately&&(l.innerHTML=""),new Promise((function(e,r){n._metricsTransport.freezeTimer(Me(t.divID));var o=new IntersectionObserver((function(a){var s=a&&a[0];if(s&&s.isIntersecting)if(n._metricsTransport.unFreezeTimer(Me(t.divID)),o.unobserve(l),n._store.delete("".concat(Me(t.divID),".intersectionObserver")),"feed_ssp"===i)window.Adf.banner.feed_ssp(t.divID,t.sspJparams,t.optionsB,t.feed).then(e).catch(r);else window.Adf.banner.ssp(t.divID,t.sspJparams,t.optionsB,t.optClass,t.optWin,t.callback,t.hardCallback).then(e).catch(r)}),{root:t.optionsB.customRoot||null,rootMargin:t.optionsB.customRootMargin||"0px 0px ".concat(a,"% 0px"),threshold:[c]});o.observe(l),n._store.set("".concat(Me(t.divID),".intersectionObserver"),o)}))):new Promise((function(e){var n={nodeID:t.divID,reason:to.DoesNotExist,optionsB:t.optionsB,status:!1};ya(n),e(n)}))},_u([p(t.cachedBlockShowLoggerFactory),Su("design:type",Function)],e.prototype,"_cachedBlockShowLoggerFactory",void 0),_u([p(t.SyncShow),Su("design:type",Pn)],e.prototype,"_syncShow",void 0),_u([p(t.InViewTimerStarter),Su("design:type",ba)],e.prototype,"_inViewTimerStarter",void 0),_u([p(t.blockShowLoggerFactory),Su("design:type",Function)],e.prototype,"_blockShowLoggerFactory",void 0),_u([p(t.EventEmitter),Su("design:type",Object)],e.prototype,"_eventEmitter",void 0),_u([p(t.Store),Su("design:type",Object)],e.prototype,"_store",void 0),_u([p(t.Config),Su("design:type",Object)],e.prototype,"_config",void 0),_u([p(t.VastPlaybackWrapper),Su("design:type",Object)],e.prototype,"vastPlaybackWrapper",void 0),_u([p(t.MetricsTransport),Su("design:type",je)],e.prototype,"_metricsTransport",void 0),_u([yu,Sa(2),Le,ks(1,2),Oa,Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"ssp",null),_u([yu,Sa(2),Le,ks(1,2),Oa,Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"sspScroll",null),_u([yu,Sa(2),Le,ks(1,2),Oa,Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"sspScrollMobile",null),_u([yu,Sa(2),Le,ks(1,2),Oa,Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"deferredSsp",null),_u([yu,Sa(2,!0),ks(1,2),Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"reloadssp",null),_u([yu,Sa(2),Le,ks(1,2),Oa,Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"feed_ssp",null),_u([yu,Sa(2),Le,ks(1,2),Oa,Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"feed_sspScroll",null),_u([yu,Sa(2),Le,ks(1,2),Oa,Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"feed_sspScrollMobile",null),_u([yu,Sa(2),ks(1,2),Su("design:type",Function),Su("design:paramtypes",[Object,Object,Object,Object]),Su("design:returntype",Promise)],e.prototype,"feed_sspRich",null),e}(),Pu=xu,Iu=function(){function e(e){this.Autocontext=e}return e.prototype.push=function(e){var t=this.Autocontext.__blocks||[];t[t.length]=e,this.Autocontext.__blocks=t},e.prototype.getBlockById=function(e,t){if(e){var n=void 0,r=0;t=t||this.Autocontext.__blocks||[];do{if((n=t[r])&&n.id.toString()===e.toString())return n;r+=1}while(n)}},e}(),Au=Iu,Cu=Z(i(8916)),Ru=function(){function e(){}return e.includeScript=function(t,n,r){if(void 0===n&&(n="append"),t&&pe(t)){var i=function(){r&&r()};return"write"===n?Oe({action:"write",type:e.SCRIPT_TYPE,src:t,target:document.head||document.body,removeAfterLoading:!0,document:document,onload:i}):"append"===n&&Oe({action:"append",type:e.SCRIPT_TYPE,async:!0,src:t,target:document.head||document.body,removeAfterLoading:!0,document:document,onload:i}),!0}return!1},e.foundScript=function(e){return!!Array.from(document.head.getElementsByTagName("script")).find((function(t){return e.src?e.src===t.src:e.textContent===t.textContent}))},e.createScript=function(e,t){try{var n=t.createElement("script");n.type="text/javascript",n.text=e.text||e.innerText||e.textContent,n.text=n.text.replace(/\sdocument\.write\(/gi," window.document.write("),n.text=n.text.replace(/\swindow\.document\.write\(/gi," window.document.open('text/html');window.document.write(");var r=t.getElementsByTagName("script")[0];(window.CAPIRS_CONFIG||{}).SCRIPT_NONCE_VALUE&&n.setAttribute("nonce",window.CAPIRS_CONFIG.SCRIPT_NONCE_VALUE),r?r.parentNode.insertBefore(n,r):(i="head",o=t,a=0,void 0===o&&(o=document),"string"==typeof i&&xo(o)&&"number"==typeof a&&o.getElementsByTagName(i)[a]||null).appendChild(n)}catch(e){Cu.log(500,"Creating script failed",{Error:e})}var i,o,a},e.reattachScriptsOnce=function(t,n){void 0===n&&(n=document);for(var r=0;r<t.length;r++)try{var i=t[r];i&&i.nodeType===i.ELEMENT_NODE&&i.tagName&&i instanceof HTMLScriptElement&&"SCRIPT"===i.tagName.toUpperCase()&&(i.src||i.text)&&!this.foundScript(i)&&(i.src?Oe({action:"append",type:e.SCRIPT_TYPE,async:!!i.async,defer:!!i.defer,src:i.src,entry:n.getElementsByTagName("script")[0],target:n.head||n.body,document:n}):this.createScript(i,n)),i.hasChildNodes()&&this.reattachScriptsOnce(i.children,n)}catch(e){Cu.log(500,"Reattach scripts failed",{Error:e})}},e.reattachScripts=function(t,n){void 0===n&&(n=document);for(var r=t.length,i=0;i<r;i++)try{var o=t[i];o&&o.nodeType===o.ELEMENT_NODE&&o.tagName&&o instanceof HTMLScriptElement&&"SCRIPT"===o.tagName.toUpperCase()&&(o.src||o.text)&&(o.src?Oe({action:"append",type:e.SCRIPT_TYPE,async:!!o.async,defer:!!o.defer,src:o.src,entry:n.getElementsByTagName("script")[0],target:n.head||n.body,document:n}):this.createScript(o,n)),o.hasChildNodes()&&this.reattachScripts(o.children,n)}catch(e){Cu.log(500,"Reattach scripts failed",{Error:e})}},e.SCRIPT_TYPE="text/javascript",e}(),Du=Ru,ju=function(){function e(e){this.Autocontext=e,this.ext={toolbar:"cd9a969600c97fd188b6092d6e6ab9bc"},this.loaded=[]}return e.prototype.updateAnticash=function(e){var t=new RegExp("^".concat(y.urls.base_scripts_url,"(\\w+).js$")).exec(e);return null!==t&&2===t.length&&void 0!==this.ext[t[1]]&&this.ext[t[1]]},e.prototype.isLoaded=function(e){return this.loaded.includes(e)},e.prototype.load=function(e){if(!this.isLoaded(e)){var t=this.updateAnticash(e);(t?Du.includeScript(e.replace(/(.+)\/([^/]+)\.js$/,"$1/js/$2.".concat(t,".js")),"append"):Du.includeScript(e,"append"))&&this.loaded.push(e)}},e.prototype.baseLoad=function(e){var t=y.urls.base_scripts_url;this.load(t+e)},e.prototype.getNames=function(e){var t="",n="";if("loaded"===e)return this.loaded.toString();for(var r in this.ext)this.ext.hasOwnProperty(r)&&(t+=n+r,n=",");return t},e}(),Bu=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Nu=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fu=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Mu=W.getInstance().init(200),Lu=function(){function e(){this.subscriptions={}}return e.setInfo=function(e,t,n){if(n){var r=e.monitor_data||{},i=r[t]||[];i.push(n),r[t]=i,e.monitor_data=r}},e.setBannerInfo=function(t,n){["viewability"].forEach((function(r){return e.setInfo(t,r,n[r])}))},e.prototype.prepareViewAbilityUrls=function(e){return e&&e.monitor_data&&e.monitor_data.viewability&&e.monitor_data.viewability[0]||[]},e.prototype.runViewAbility=function(e){var t=this,n=e.feed,r=e.subscriptionID,i=e.showUrls,o=e.domObj;this.checkSubscription(r)&&this.unsubscribe(r);var a=[o,i],s=Bn.checkRootLVLBannerByFeed(n)||Bn.getRootElementType(o);if(s){var c=null;Mu.subscribe({callback:function(){var e=Bn.getActualBannerPlace(o,s);e&&("string"==typeof r&&(Mu.unsubscribe(r),clearTimeout(c)),a[0]=e,t.addSubscription(r,a,n))},ID:r}),r?c=setTimeout((function(){"string"==typeof r&&Mu.unsubscribe(r),t.addSubscription(r,a,n)}),3e3):this.addSubscription(r,a,n)}else this.addSubscription(r,a,n)},e.prototype.attemptRunViewabilityWatcher=function(e){var t=e.feed,n=e.watchedElement,r=e.subscriptionID,i=this.prepareViewAbilityUrls(n);i.length>0&&(this.dispatchBlockDrawCallback(n,t),this.runViewAbility({feed:t,subscriptionID:r,showUrls:i,domObj:n}))},e.prototype.dispatchBlockDrawCallback=function(e,t){window.Begun.Autocontext.Callbacks.dispatch(Y.BLOCK,Q.DRAW,e,[t])},e.prototype.addSubscription=function(e,t,n){var r,i,o,a,s=null===(i=null==n?void 0:n.banners)||void 0===i?void 0:i.graph,c="",u=0;if(s&&s.length){var l=s[0];c=l.view_type.includes(Do.ATOMS)?"atoms":l.mime,u=l.banner_id}this.subscriptions[e]=(r=this._utilService.viewAbility).create.apply(r,Fu(Fu([],t,!1),[e,null===(a=null===(o=null==n?void 0:n.params)||void 0===o?void 0:o.marks)||void 0===a?void 0:a.misc,c,u],!1))},e.prototype.checkSubscription=function(e){return!!this.subscriptions[e]},e.prototype.unsubscribe=function(e){this.subscriptions[e]()},Bu([p(t.AdfUtil),Nu("design:type",Object)],e.prototype,"_utilService",void 0),e}(),Vu=Lu,Hu=Z(i(8916)),Uu=function(){function e(){}return e.prototype.load=function(e,t){return void 0===t&&(t={}),new Promise((function(n,r){var i,o=new XMLHttpRequest;void 0!==t.withCredentials&&(o.withCredentials=t.withCredentials);var a=me(e,{https:!0}),s=performance.now();o.open("GET",a,!0),o.onreadystatechange=function(){2===o.readyState&&(i=performance.now()-s)},o.onload=function(){n({responseText:o.responseText,status:o.status,ttfb:i})};var c=0;o.onerror=function(e){Hu.log(500,"Feed fetch src failed",{src:a,Error:e}),c<1?(c+=1,o.open("GET",a,!0),o.send()):r(e)},o.send()}))},e}();var Wu=function(){};function qu(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}qu.prototype=ss(Wu.prototype),qu.prototype.constructor=qu;var zu=qu,Gu=Ye?Ye.isConcatSpreadable:void 0;var Xu=function(e){return Xe(e)||Fr(e)||!!(Gu&&e&&e[Gu])};var Ju=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Xu),o||(o=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,o):kr(o,c):i||(o[o.length]=c)}return o};var $u=function(e){return(null==e?0:e.length)?Ju(e,1):[]};var Ku=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Yu=Math.max;var Qu=function(e,t,n){return t=Yu(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Yu(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Ku(e,this,s)}};var Zu=function(e){return function(){return e}},el=xa?function(e,t){return xa(e,"toString",{configurable:!0,enumerable:!1,value:Zu(t),writable:!0})}:Hi,tl=Date.now;var nl=function(e){var t=0,n=0;return function(){var r=tl(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},rl=nl(el);var il=function(e){return rl(Qu(e,void 0,$u),e+"")},ol=fi&&new fi,al=ol?function(e){return ol.get(e)}:Qi,sl={},cl=Object.prototype.hasOwnProperty;var ul=function(e){for(var t=e.name+"",n=sl[t],r=cl.call(sl,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function ll(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}ll.prototype=ss(Wu.prototype),ll.prototype.constructor=ll;var pl=ll;var dl=function(e){if(e instanceof pl)return e.clone();var t=new zu(e.__wrapped__,e.__chain__);return t.__actions__=Wa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},fl=Object.prototype.hasOwnProperty;function hl(e){if(st(e)&&!Xe(e)&&!(e instanceof pl)){if(e instanceof zu)return e;if(fl.call(e,"__wrapped__"))return dl(e)}return new zu(e)}hl.prototype=Wu.prototype,hl.prototype.constructor=hl;var vl=hl;var ml=function(e){var t=ul(e),n=vl[t];if("function"!=typeof n||!(t in pl.prototype))return!1;if(e===n)return!0;var r=al(n);return!!r&&e===r[0]};var gl,bl,yl=function(e){return il((function(t){var n=t.length,r=n,i=zu.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new TypeError("Expected a function");if(i&&!a&&"wrapper"==ul(o))var a=new zu([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=ul(o),c="wrapper"==s?al(o):void 0;a=c&&ml(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[ul(c[0])].apply(a,c[3]):1==o.length&&ml(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Xe(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))},wl=yl(!0),_l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Sl=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},El=wl(decodeURIComponent,window.escape,window.atob),kl=function(){function e(){}return e.prototype.load=function(e){return _l(this,void 0,void 0,(function(){return Sl(this,(function(t){return[2,{responseText:El(e.split(",",2)[1])}]}))}))},e}(),Ol=function(){function e(){}return e.getLoaderFor=function(t){var n=0===t.indexOf("data:")?"base64":"url";return new(0,e.loaders[n])},e.loaders=((gl={})[u.url]=Uu,gl[u.base64]=kl,gl),e}(),Tl=function(){function e(){}return e.prototype.load=function(e,t){return Ol.getLoaderFor(e).load(e,t).then((function(t){return{data:t,input:e}})).catch((function(){return{input:e}}))},e}(),xl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Pl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Il=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Al=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cl=function(){function e(){this.trackingEvTypes={loaded:1,impression:2,render:500,"viewable-pixel":501},this.abSplitSCId="000022d4-6154-d734-5eec-0ca60be1cc55"}return e.prototype.createTemplate=function(e,t,n){return Il(this,void 0,void 0,(function(){var r,i;return Al(this,(function(o){switch(o.label){case 0:return[4,this.startRender(e,t,n)];case 1:return!0===(r=o.sent()).result?(i=null==r?void 0:r.tpl.eventStore,[2,{result:!0,additionalTracking:(null==i?void 0:i.getPixelsByType(this.trackingEvTypes.loaded))||[]}]):[2,{result:!1,data:r.data,error:r.error}]}}))}))},e.prototype.startRender=function(t,n,r){return Il(this,void 0,void 0,(function(){var i,o,a,s,c;return Al(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),0!==n.indexOf("data:")?[3,2]:[4,this.base64Loader.load(n)];case 1:return o=u.sent().data,i=JSON.parse(o.responseText),[3,3];case 2:i=JSON.parse(n),u.label=3;case 3:return[3,5];case 4:return a=u.sent(),[2,{result:!1,data:{placeToRender:t.renderTo,DSPResponse:i,tplName:"none",width:t.width,height:t.height},error:a}];case 5:return s=this.getTplName(i),c=i.campaign_id||"",function(e,t,n,r){(function(i,o,a){(i[a]=i[a]||[]).push((function(){var o={project:7436868,custom_vars:{banner:e,site:t,place:n,campaign_id:r}};try{i.top100Counter=new top100(o)}catch(e){}}));var s=o.getElementsByTagName("script")[0],c=o.createElement("script"),u=function(){s.parentNode.insertBefore(c,s)};c.type="text/javascript",c.async=!0,c.src="https://st.top100.ru/top100/top100.js","[object Opera]"==i.opera?o.addEventListener("DOMContentLoaded",u,!1):u()})(window,document,"_top100q")}(r.viewType,r.padId,r.blockId,c),e.vendorScript||(e.vendorScript=this.createScript("https://ssp.rambler.ru/perf-templates/vendor.js")),e["".concat(s,"Script")]||(e["".concat(s,"Script")]=this.createScript("https://ssp.rambler.ru/perf-templates/".concat(s,".js"),"UTF-8")),e.vendorPromise||(e.vendorPromise=new Promise((function(t){e.vendorScript.onload=t}))),e["".concat(s,"Promise")]||(e["".concat(s,"Promise")]=new Promise((function(t){e["".concat(s,"Script")].onload=t}))),[4,Promise.all([e.vendorPromise,e["".concat(s,"Promise")]])];case 6:return u.sent(),[2,new Promise((function(e,n){window.templateRenderer.render({placeToRender:t.renderTo,DSPResponse:i,tplName:s,width:t.width,height:t.height}).then((function(t){e(t)})).catch((function(e){n(e)}))}))]}}))}))},e.prototype.getTplName=function(e){var t=e.ad_type,n=e.ab_split;switch(t){case 1:return this.getTgbFileName(n);case 2:return"html_default";case 3:return"image_default";case 4:return"carousel_default";case 5:return"feeds_default";default:return""}},e.prototype.createScript=function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.src=e,t&&(n.charset=t),n.async=!0,document.getElementsByTagName("body")[0].appendChild(n),n},e.prototype.getTgbFileName=function(e){var t,n,r="tgb_default";if((null===(t=null==e?void 0:e.app)||void 0===t?void 0:t.app_id)&&(null===(n=null==e?void 0:e.app)||void 0===n?void 0:n.params)&&e.app.app_id===this.abSplitSCId){var i=e.app.params["pkod.exp_template"]||e.app.params.exp_template;i&&this.isTestFileNameValid(i)&&(r=i)}return r},e.prototype.isTestFileNameValid=function(e){return/^([A-Za-z0-9_]{8,12})$/g.test(e)},xl([p(t.DataLoader),Pl("design:type",Tl)],e.prototype,"base64Loader",void 0),e}(),Rl=function(e,t){return"googletag.pubads().addEventListener('slotRenderEnded',function(event){window.parent.Begun.Autocontext.Callbacks.dispatch('block','realShow',null,[\"".concat(e,'",').concat(t,",event.isEmpty?0:1]);});")},Dl=function(e){var t=e.responseText,n=e.impressionId,r=e.userId;return t.includes("defineSlot")?t.replace(_,function(e,t){return"<script>googletag.cmd.push(function(){".concat(Rl(e,t),"});<\/script>")}(n,r)):t.replace(_,function(e,t){return"<script>".concat(Rl(e,t),"<\/script>")}(n,r))},jl=function(e,t,n){return"window.parent.Begun.Autocontext.Callbacks.dispatch('block','realShow',null,[\"".concat(e,'",').concat(t,",").concat(Number(n),"]);")},Bl=function(e){var t=e.responseText,n=e.impressionId,r=e.userId;return t.replace("/* ya_rambler_adtech_callbacks */",function(e,t){return"onError:function(data){".concat(jl(e,t,!1),"},onRender:function(data){").concat(jl(e,t,!0),"},")}(n,r)).replace("/* ya_rambler_adtech_stub_callback */",jl(n,r,!1))},Nl=function(){return Nl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nl.apply(this,arguments)},Fl=function(e,t){void 0===t&&(t={});var n,r,i=e,o=(n=t,r={},Object.keys(n).forEach((function(e){r[e.toUpperCase()]=n[e]})),r);return Object.keys(o).forEach((function(e){var t=encodeURIComponent(o[e]);i=i.replace(new RegExp("\\[".concat(e,"\\]"),"gm"),t)})),i};!function(e){e[e.VAST_REQUEST=1]="VAST_REQUEST",e[e.VAST_NOT_RECEIVED_ERROR=2]="VAST_NOT_RECEIVED_ERROR",e[e.VAST_RECEIVED=3]="VAST_RECEIVED",e[e.SOME_ERROR_AFTER_VAST_RECEIVED=4]="SOME_ERROR_AFTER_VAST_RECEIVED"}(bl||(bl={}));var Ml=function(e,t){var n=t.event,r=t.description,i=void 0===r?"":r,o=t.url,a=Fl("https://dsp-rambler.ru/check_video?url=[URL]&session_id=[SESSION_ID]&event=[EVENT]&des=[DESCRIPTION]",{event:n,description:i,url:void 0===o?"":o,session_id:e});(new Image).src=a},Ll=function(){var e="_".concat(Math.random().toString(36).substr(2,9));return Ml.bind(null,e)},Vl=function(){return Vl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vl.apply(this,arguments)},Hl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ul=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wl=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ql=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},zl=i(2018),Gl=Z(i(8916)),Xl=[Ro.X_HTML,Ro.X_MIXED_IFRAME_HTML,Ro.X_IFRAME_HTML,Ro.X_FIXED_IFRAME_HTML,Ro.X_SHARED_SCRIPTS],Jl=function(){function e(){}return e.prototype.getGraphHTML=function(e){var t=e.feed,n=e.graphBanner,r=e.block,i=e.nbanner,o=e.domObj,a=e.blockData,s=e.creativeToDraw,c=e.graphBannersCount;return Wl(this,void 0,void 0,(function(){var e,u,l,p,d,f,h,v,m,g,b,y,w,_,S=this;return ql(this,(function(E){switch(E.label){case 0:return e=!1,u=n.width||0,l=n.height||0,d=a.click_wrap?a.click_wrap+n.url:n.url,f=n.source,u=(h=function(e){return/^[1-9.]\d*$/.test(e.toString())?"".concat(e,"px"):"0"===e.toString()?"100%":e})(u),l=h(l),v="",t&&t.params&&t.params.impression_id&&(v=t.params.impression_id),g=[],n.view_type.includes(Do.ATOMS)?(p="graph_banner_atoms",e=!0,[4,this._perfTemplatesWrapper.createTemplate({width:"string"==typeof u?u:"".concat(u,"px"),height:"string"==typeof l?l:"".concat(l,"px"),renderTo:o},n.source,{viewType:n.view_type,padId:a.pad_id,blockId:n.block_id})]):[3,5];case 1:return(w=E.sent()).result?(b=w.additionalTracking,g.push.apply(g,b),[3,4]):[3,2];case 2:return[4,this.tryToRenderNextAd({nbanner:i,graphBannersCount:c,impressionID:v,domObj:o})];case 3:if(!E.sent())return[2];E.label=4;case 4:return[3,14];case 5:return n.mime!==Ro.X_HTML&&n.mime!==Ro.X_MIXED_IFRAME_HTML&&n.mime!==Ro.X_SHARED_SCRIPTS?[3,6]:(p="graph_banner_xhtml",m={impressionID:v},s&&setTimeout((function(){S.insertHTML.call(S,s,o,n)}),0),[3,14]);case 6:return n.mime!==Ro.X_IFRAME_HTML&&n.mime!==Ro.X_FIXED_IFRAME_HTML?[3,7]:(y=n.mime===Ro.X_FIXED_IFRAME_HTML?l:"1px",p="graph_banner_xiframe",m={widthValue:u,heightValue:y,impressionID:v},s&&setTimeout((function(){S.insertHTML2.call(S,s,o,n)}),0),[3,14]);case 7:return n.mime!==Ro.X_JAVASCRIPT?[3,8]:(p="graph_banner_js",m={},n.tracking&&de(n.tracking),Du.includeScript(f,"append"),[3,14]);case 8:return n.mime!==Ro.TEXT_HTML?[3,9]:(p="graph_banner_html",m={widthValue:u,heightValue:l,source:f},[3,14]);case 9:return n.mime!==Ro.TEXT_URL&&n.mime!==Ro.VAST_XML?[3,13]:(p="graph_banner_vast",e=!0,n.viewability=n.viewability.map((function(e){var t=e.percent,n=e.time;return{percent:t,time:.5===t?2e3:n,url:e.url}})),Ll()({event:bl.VAST_REQUEST}),[4,this.vastPlaybackWrapper.startVideo(o,{mute:!0,url:n.source})]);case 10:return(w=E.sent()).success?[3,12]:[4,this.tryToRenderNextAd({nbanner:i,graphBannersCount:c,impressionID:v,domObj:o})];case 11:if(!E.sent())return[2];E.label=12;case 12:return[3,14];case 13:p="graph_banner_img",m={widthValue:u,heightValue:l,source:f,url:d},E.label=14;case 14:return r.banner_id=n.banner_id,Vu.setBannerInfo(o,n),_=this.bannerTemplatesStore.getBannerTemplate(p),[2,{html:_?_(Vl(Vl({},m),{styleNonceValue:this.config.getConfigValue("STYLE_NONCE_VALUE"),bannerClassName:we()})):void 0,url:d,disableInnerHTML:e,additionalTrackingPixels:g}]}}))}))},e.prototype.handleGraphBannerNonExisting=function(e){var t,n,r=e.blockData,i=e.feed,o=r.pad_id;window.Begun.Autocontext.Callbacks.dispatch(Y.BLOCK,Q.UNEXIST,null,[i,r]);var a="".concat(r.div_id||(null===(n=null===(t=r.blockEl)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.id));window.Begun.emptySSPResponses["".concat(a,"_").concat(o)]=!0,window.Adf.util.updateBannersStack(a,{status:no.NO_BANNER})},e.prototype.getCreativeToDraw=function(e){var t,n,r,i,o=e.feed,a=e.nbanner,s=e.blockData;return Wl(this,void 0,void 0,(function(){var e,c,u,l,p,d,f;return ql(this,(function(h){switch(h.label){case 0:e=o.banners.graph,c=function(e){return Xl.includes(e)},u=a,h.label=1;case 1:if(!(u<e.length))return[3,8];if(l=e[u],!c(l.mime)&&!l.view_type.includes(Do.ATOMS))return[3,6];h.label=2;case 2:return h.trys.push([2,4,,5]),this._metricsTransport.logMetrics({divId:s.div_id.toString(),eventType:te.nurlCallBanner,impressionId:o.params&&o.params.impression_id,misc:o.params&&o.params.marks&&o.params.marks.misc,mime:l.mime,monetizerId:l.banner_id}),[4,this._dataLoader.load(l.source)];case 3:return p=h.sent(),this._metricsTransport.logMetrics({divId:s.div_id.toString(),eventType:te.nurl_ttfb,impressionId:o.params&&o.params.impression_id,misc:o.params&&o.params.marks&&o.params.marks.misc,mime:l.mime,bannerTime:null===(t=p.data)||void 0===t?void 0:t.ttfb,monetizerId:l.banner_id}),d=null===(n=p.data)||void 0===n?void 0:n.status,(null===(r=p.data)||void 0===r?void 0:r.responseText)&&(!d||d&&204!==d)?(this._metricsTransport.logMetrics({divId:s.div_id.toString(),eventType:te.nurlBanner,impressionId:o.params&&o.params.impression_id,misc:o.params&&o.params.marks&&o.params.marks.misc,mime:l.mime,monetizerId:l.banner_id}),f=null===(i=p.data)||void 0===i?void 0:i.responseText,Number(l.thematics)&&(f=function(e){var t=Bl(Nl({},e));return Dl(Nl(Nl({},e),{responseText:t}))}({responseText:f,impressionId:o.params.impression_id,userId:l.user_id})),s.ad_unit_name&&(f=function(e,t){var n,r=null===(n=e.match(/("|')\/\d*\/(.*)("|'),/))||void 0===n?void 0:n[2];return e.replace(new RegExp("".concat(r),"gi"),t)}(f,s.ad_unit_name)),s.ya_block_id&&(v=f,m=s.ya_block_id,f=v.replace(/blockId: ("|')R-A-.+("|')/gi,'blockId: "'.concat(m,'"'))),[2,[u,f]]):(this._metricsTransport.logMetrics({divId:s.div_id.toString(),eventType:te.nurlNoBanner,impressionId:o.params&&o.params.impression_id,misc:o.params&&o.params.marks&&o.params.marks.misc,mime:l.mime,monetizerId:l.banner_id}),[3,5]);case 4:return h.sent(),[3,5];case 5:return[3,7];case 6:return[2,[u,l]];case 7:return u++,[3,1];case 8:return[2,[a,""]]}var v,m}))}))},e.prototype.insertMultipleBanners=function(e){var t=e.feed,n=e.blockData,r=e.blockInfo,o=e.bannerNumbers,a=e.doWipe;return Wl(this,void 0,void 0,(function(){var e,s,c,u,l=this;return ql(this,(function(p){switch(p.label){case 0:return e=Promise.all([i.e(332),i.e(689)]).then(i.bind(i,6332)),s=this.getBannersByBlockId(t,r.id,"graph"),c=s.filter((function(e,t){return o.includes(t)})).map((function(e,i){return function(a){return Wl(l,void 0,void 0,(function(){var s,c;return ql(this,(function(u){switch(u.label){case 0:return s=o[i],[4,this.getGraphHTML({feed:t,graphBanner:e,block:r,nbanner:s,domObj:a,blockData:n})];case 1:return(c=u.sent())&&a&&(e.tracking&&de(e.tracking),a.innerHTML=c.html,this._monitorClass.attemptRunViewabilityWatcher({feed:t,subscriptionID:"".concat(t.params.impression_id,"_").concat(s),watchedElement:a,padID:n.pad_id,blockID:r.id})),[2]}}))}))}})),[4,Promise.all(c)];case 1:return u=p.sent(),e.then((function(e){var t=e.SSPCarousel,r=n.blockEl;(a||n.wipeBeforeRender)&&Co(r,{removeType:"except",shouldFreezeWrapperHeight:n.shouldFreezeWrapperHeight}),new t(r,u)})),[2,!0]}}))}))},e.prototype.insertNonTextBlock=function(e){var t=e.feed,n=e.blockData,r=e.block,i=e.nbanner,o=e.creativeToDraw,a=e.doWipe;return Wl(this,void 0,void 0,(function(){var e,s,c,u,l;return ql(this,(function(p){switch(p.label){case 0:return e=r.id,(s=this.getBannersByBlockId(t,e,"graph"))&&s[i]?(c=s[i]).loaded?[2,!1]:(u=n.blockEl,[4,this.getGraphHTML({feed:t,graphBanner:c,block:r,nbanner:i,domObj:u,creativeToDraw:o,blockData:n,graphBannersCount:s.length})]):[3,2];case 1:if(l=p.sent(),c.loaded=!0,l&&u)return(a||n.wipeBeforeRender)&&Co(u,{removeType:"except",shouldFreezeWrapperHeight:n.shouldFreezeWrapperHeight}),l.additionalTrackingPixels&&l.additionalTrackingPixels.forEach((function(e){return de(e)})),c.tracking&&de(c.tracking),l.disableInnerHTML||(u.innerHTML=l.html),[2,!0];p.label=2;case 2:return[2,!1]}}))}))},e.prototype.insertHTML2=function(e,t,n){var r=this,i=t;if(!i)return Gl.log(500,"Outer container does not exist"),!1;if(!i.parentElement)return!1;var o=i.getElementsByClassName("xhtml_banner")[0];o?(o.onerror=function(e){Gl.log(500,"Xhtml banner iframe error",{Error:e})},fe(o,(function(t){var a,s;t.open(),t.write(e),t.close();var c=-1!==n.domain.indexOf("rambler-co");if("application/x-iframe-html"===n.mime&&c&&(Wo.mediaTemplatesWithMimeXFrameHTML[n.block_id]=!0),"application/x-iframe-html"===n.mime&&!c){var u=we(),l=Fo({rules:{overflow:"auto",height:"auto"},className:u,nonce:r.config.getConfigValue("STYLE_NONCE_VALUE")});i.appendChild(l),o.classList.add(u);var p=new zl((function(e,t){var n;Po(o)||t.disconnect();for(var a=0,s=e;a<s.length;a++){var c=s[a].contentRect.height;if(c-(parseInt(null===(n=getComputedStyle(o))||void 0===n?void 0:n.height,10)||0)>=15){var u=we(),l=Fo({rules:{height:"".concat(c,"px")},className:u,nonce:r.config.getConfigValue("STYLE_NONCE_VALUE")});i.appendChild(l),o.classList.add(u)}}}));if(8===(null===(a=t.childNodes[0])||void 0===a?void 0:a.nodeType)){var d=we(),f=Fo({rules:{height:Qo(t.childNodes[0].textContent,"".concat(null===(s=getComputedStyle(o))||void 0===s?void 0:s.height))},className:d,nonce:r.config.getConfigValue("STYLE_NONCE_VALUE")});i.appendChild(f),o.classList.add(d),p.observe(t.documentElement)}if("complete"===t.readyState)"auto"===getComputedStyle(o).height&&p.observe(t.documentElement);else if(t.defaultView){var h=t.defaultView.onload;t.defaultView.onload=function(){h&&h(),"auto"===getComputedStyle(o).height&&p.observe(t.documentElement)}}}}))):Gl.log(500,"Inner container does not exist")},e.prototype.insertHTML=function(e,t,n){var r=t;if(r){var i=r.getElementsByClassName("xhtml_banner")[0];if(i)if(i.innerHTML=e,"application/x-html"===n.mime)Du.reattachScripts(i.children);else if("application/x-shared-scripts"===n.mime)Du.reattachScriptsOnce(i.children);else{var o=document.createElement("iframe");o.onerror=function(e){Gl.log(500,"Scripts iframe application/x-html error",{Error:e})},o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.setAttribute("scrolling","no"),o.setAttribute("frameBorder","0"),o.setAttribute("width","1"),o.setAttribute("height","1");var a=we(),s=Fo({rules:{position:"absolute"},className:a,nonce:this.config.getConfigValue("STYLE_NONCE_VALUE")});r.appendChild(s),o.classList.add(a),i.appendChild(o),fe(o,(function(e){"object"==typeof i.childNodes&&"object"==typeof e?Du.reattachScripts(i.children,e):Gl.log(503,"Attempt reattach the scripts to the non-object",{typeOfDocument:typeof e,typeOfNode:typeof i.childNodes})}))}else Gl.log(500,"Inner container does not exist")}else Gl.log(500,"Outer container does not exist")},e.prototype.getBannersByBlockId=function(e,t,n){var r,i=0,o=[];do{(r=this._getBanner(e,n,i))&&(r.block_id===t&&(o[o.length]=r),i+=1)}while(r);return o},e.prototype._getBanner=function(e,t,n){var r,i;return null===(i=null===(r=null==e?void 0:e.banners)||void 0===r?void 0:r[t])||void 0===i?void 0:i[n]},e.prototype.tryToRenderNextAd=function(e){var t=e.nbanner,n=e.domObj,r=e.graphBannersCount,i=e.impressionID;return Wl(this,void 0,void 0,(function(){var e;return ql(this,(function(o){switch(o.label){case 0:return(e=r>t+1)?[4,window.Begun.Autocontext.showAd(n,i,t+1)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2,e]}}))}))},Hl([p(t.BannerTemplatesStore),Ul("design:type",Object)],e.prototype,"bannerTemplatesStore",void 0),Hl([p(t.DataLoader),Ul("design:type",Tl)],e.prototype,"_dataLoader",void 0),Hl([p(t.MonitorClass),Ul("design:type",Object)],e.prototype,"_monitorClass",void 0),Hl([p(t.Config),Ul("design:type",Object)],e.prototype,"config",void 0),Hl([p(t.VastPlaybackWrapper),Ul("design:type",Object)],e.prototype,"vastPlaybackWrapper",void 0),Hl([p(t.PerformanceTemplatesWrapper),Ul("design:type",Cl)],e.prototype,"_perfTemplatesWrapper",void 0),Hl([p(t.MetricsTransport),Ul("design:type",je)],e.prototype,"_metricsTransport",void 0),e}(),$l=Jl,Kl=Z(i(8916)),Yl=function(){function e(){}return e.parseLinks=function(e){var t=e.links;if(t){var n=0,r=void 0,i=[];do{if(r=t[n]){switch(r.type){case"iframe_js":i.push("script=".concat(encodeURIComponent(r.url)));break;case"iframe_html":i.push("html=".concat(encodeURIComponent(r.url)));break;case"img":i.push("img=".concat(encodeURIComponent(r.url)))}n+=1}}while(r);var o="//profile.ad-tech.ru/sandbox?".concat(i.join("&")),a=document.createElement("iframe");a.onerror=function(e){Kl.log(500,"linksFrame iframe error",{Error:e})},a.setAttribute("style","height:0;width:0;border:0;position:absolute;left:-10000px;top:-1000px;"),a.setAttribute("width","0"),a.setAttribute("height","0"),a.setAttribute("allow","camera;microphone"),a.src=o,window.document.body.appendChild(a)}},e}(),Ql=Yl,Zl=function(e,t,n){for(var r in"object"!=typeof e&&(e={}),t)t.hasOwnProperty(r)&&(n&&"object"==typeof t[r]?e[r]=Zl(e[r],t[r]):e[r]=t[r]);return e},ep=function(){return ep=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ep.apply(this,arguments)},tp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},np=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ip=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},op=Z(i(8916)),ap=function(){function e(e,t){this.sspCallbackCount=0,this.SSP_LINKS_INSERT_TIMEOUT=1e3,this.graphBannerDomains=[],this.responseParams={},this.FeedBlocksStore=t,this.Graph=e,this.feed_links_parsed=!1,this.savedFeedsOptions={},this._blocksHandled=[]}return e.prototype.processFeed=function(e){var t=e.feed,n=e.blockData,r=e.nbanner,i=e.doWipe;return rp(this,void 0,void 0,(function(){var e,o,a,s,c,u,l;return ip(this,(function(p){switch(p.label){case 0:return r=r||0,t?[4,this.Graph.getCreativeToDraw({feed:t,nbanner:r,pad_id:n.pad_id,block_id:n.block_id,blockData:n})]:(op.log(500,"Attempted to load an undefined feed.",{url:document.URL}),[2]);case 1:return e=p.sent(),o=e[0],a=void 0===o?r:o,s=e[1],c=void 0===s?"":s,this.registerGraphBannerDomains(t),this.Callbacks.dispatch(Y.FEED,Q.LOAD,this,[t]),Zl(this.responseParams,t&&t.params||{}),(u=this.FeedBlocksStore.getBlockById(n.block_id,t.blocks))?[4,this._insertBanner({feed:t,blockData:n,blockInfo:u,doWipe:i,actualNbanner:a,creativeToDraw:c})]:[3,3];case 2:return l=p.sent(),this.handleSSPSyncLinks(t),this.fillBlocks(t,u),l||this.Graph.handleGraphBannerNonExisting({feed:t,blockData:n}),[3,4];case 3:op.log(502,"Block doesn't exist",{blockID:n.block_id,blocks:t.blocks}),p.label=4;case 4:return[2]}}))}))},e.prototype.registerGraphBannerDomains=function(e){var t=e&&e.banners&&e.banners.graph;if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];i.domain&&this.graphBannerDomains.push(i.domain)}},e.prototype.loadFeed=function(t){var n=t.blockData,r=t.divID,i=t.savedFeeds,o=t.savedFeedsOptions;return rp(this,void 0,void 0,(function(){var t,a,s,c,u=this;return ip(this,(function(l){switch(l.label){case 0:return this.sspCallbackCount+=1,t="Begun_Autocontext_saveFeed".concat(this.sspCallbackCount),[4,this._reqParamsDirector.createRequestParams(Us.CONTEXTJSP,{block:n,callbackName:t,divID:r})];case 1:return a=l.sent(),s=y.urls.daemon+this._reqParamsDirector.toQuery(a),n.feedURL=s,window[t]=(p=n,function(e){if(u._metricsTransport.logMetrics({divId:Me(r),eventType:te.feed_ttfb,impressionId:e.params&&e.params.impression_id,misc:e.params&&e.params.marks&&e.params.marks.misc,bannerTime:null==c?void 0:c.ttfb,monetizerId:0}),0!==e.banners.graph.length){var n=e.banners.graph[0],a=n.view_type.includes(Do.ATOMS)?"atoms":n.mime;u._metricsTransport.logMetrics({divId:Me(r),eventType:te.feed,impressionId:e.params&&e.params.impression_id,misc:e.params&&e.params.marks&&e.params.marks.misc,mime:a,monetizerId:n.banner_id})}else u._metricsTransport.logMetrics({divId:Me(r),eventType:te.noBanner,impressionId:e.params&&e.params.impression_id,misc:e.params&&e.params.marks&&e.params.marks.misc,monetizerId:0});u.saveFeed({feed:e,blockData:p,savedFeeds:i,savedFeedsOptions:o}),delete window[t]}),this._metricsTransport.logMetrics({divId:Me(r),eventType:te.startReq,monetizerId:0}),[4,this._dataLoader.load(s,{withCredentials:!0})];case 2:return c=l.sent().data,e.resStatusCode=c.status,(null==c?void 0:c.responseText)?(new No("script",c.responseText,{isHTML:!1}).append(document.body).remove(),[2]):(this._handleEmptySSPResponse({blockData:n,statusCode:null==c?void 0:c.status}),this.Graph.handleGraphBannerNonExisting({blockData:n}),[2])}var p}))}))},e.prototype.saveFeed=function(e){var t=e.feed,n=e.blockData,r=e.savedFeeds,i=e.savedFeedsOptions;this._toolbarHelper.handleDebugInfo({feed:t,blockData:n}),t.banners.graph.forEach((function(e,t){return ru(["source","viewability","tracking"],t,e)}));var o=t.params,a=o.impression_id,s=o.session_keys,c=o.priority;r[a]={blockData:n,feed:t},i[a]=t.blocks[0].options.json,"function"==typeof n.callback&&n.callback(c,a,n.block_id,s,t.banners.graph.length)},e.prototype.fillBlocks=function(e,t){this._blocksHandled.includes(t)||(this.Callbacks.dispatch(Y.BLOCK,Q.PREDRAW,this,[t,e]),t.options&&t.options.visual&&Object.keys(t.options.visual).length>0&&this.printBlockStyle(t.id,t.options.visual,e),this._blocksHandled.push(t))},e.prototype.printBlockStyle=function(e,t,n){t.name&&n.banners.graph.length&&n.banners.graph.length>0&&function(e,t,n){if(void 0===n&&(n=document.head||document.body),pe(e)){var r=document.createElement("link");return r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",e),t&&(r.id=t),n.appendChild(r),!0}}("".concat(y.urls.styles,"name=").concat(t.name,"&block_id=").concat(e),"begun-additional-".concat(e))},e.prototype.handleSSPSyncLinks=function(e){this.feed_links_parsed||(setTimeout((function(){e.links&&e.links.length>0&&Ql.parseLinks(e)}),this.SSP_LINKS_INSERT_TIMEOUT),e.links&&e.links.length>0&&(this.feed_links_parsed=!0))},e.prototype._insertBanner=function(e){var t=e.feed,n=e.blockData,r=e.blockInfo,i=e.doWipe,o=e.actualNbanner,a=e.creativeToDraw;return rp(this,void 0,void 0,(function(){var e,s;return ip(this,(function(c){switch(c.label){case 0:return this.FeedBlocksStore.push(r),e=!1,s=this._getDualBannersNumbers(t.banners.graph),0===o&&s.length>1?(e=!0,[4,this.Graph.insertMultipleBanners({feed:t,blockData:n,blockInfo:r,bannerNumbers:s,doWipe:i})]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,this.Graph.insertNonTextBlock({feed:t,blockData:n,block:r,nbanner:o,creativeToDraw:a,doWipe:i})];case 3:(e=c.sent())&&this._monitorClass.attemptRunViewabilityWatcher({feed:t,subscriptionID:t.params.impression_id,watchedElement:n.blockEl,padID:n.pad_id,blockID:r.id}),c.label=4;case 4:return[2,e]}}))}))},e.prototype._getDualBannersNumbers=function(e){return e.map((function(e,t){return{viewType:e.view_type,numberInSequence:t}})).filter((function(e){return e.viewType.includes("Fake")&&e.viewType.includes("Rotatable")})).map((function(e){return e.numberInSequence}))},e.prototype._handleEmptySSPResponse=function(e){var t,n,r=e.blockData,i=e.statusCode,o=ee(window),a=o.includes(S.SSP)||o.includes(S.ADFOX)||(t="autocontext",(n=document.cookie.match(new RegExp("(?:^|; )".concat(t.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)"))))?decodeURIComponent(n[1]):void 0);if(200!==i&&a){var s={debug:{request:ep({},r),response:{status:i}}};this._toolbarHelper.handleDebugInfo({feed:s,blockData:r})}},tp([p(t.Store),np("design:type",Object)],e.prototype,"Storage",void 0),tp([p(t.EventEmitter),np("design:type",Object)],e.prototype,"Callbacks",void 0),tp([p(t.MonitorClass),np("design:type",Object)],e.prototype,"_monitorClass",void 0),tp([p(t.DataLoader),np("design:type",Tl)],e.prototype,"_dataLoader",void 0),tp([p(t.ToolbarHelper),np("design:type",He)],e.prototype,"_toolbarHelper",void 0),tp([p(t.MetricsTransport),np("design:type",je)],e.prototype,"_metricsTransport",void 0),tp([p(t.SSPRequestParamsDirector),np("design:type",Object)],e.prototype,"_reqParamsDirector",void 0),e}(),sp=ap,cp=function(){function e(e){this.autocontext=e,this.init()}return e.prototype.init=function(){if(window.begun___callbacks&&window.begun___callbacks.length>0){K.log(401,"Используйте window.begun_new_callbacks вместо window.begun___callbacks");for(var e=0;e<window.begun___callbacks.length;e++)this.setCallbacks(window.begun___callbacks[e]);window.begun___callbacks=null}if(window.begun_new_callbacks&&window.begun_new_callbacks.length>0){for(e=0;e<window.begun_new_callbacks.length;e++)this.setCallbacks(window.begun_new_callbacks[e]);window.begun_new_callbacks=null}if(window.capirs_callbacks&&window.capirs_callbacks.length>0){for(e=0;e<window.capirs_callbacks.length;e++)this.setCallbacks(window.capirs_callbacks[e]);window.capirs_callbacks=null}void 0!==window.begun_callbacks&&(this.setCallbacks(window.begun_callbacks),window.begun_callbacks=null)},e.prototype.setCallbacks=function(e){this.autocontext.Callbacks.register(e||{})},e}(),up=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},lp=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pp=function(){function e(){this._queue={},this._lastCalledOrder=0}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.handle=function(e){var t=e.feed,n=e.bannerInsertionCallback;return up(this,void 0,void 0,(function(){var e;return lp(this,(function(r){switch(r.label){case 0:return void 0===(e=this._getElementOrder(t))?[3,2]:[4,this.call(e,n)];case 1:return r.sent(),[3,4];case 2:return[4,n()];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype.call=function(t,n){return up(this,void 0,void 0,(function(){var r,i,o=this;return lp(this,(function(a){switch(a.label){case 0:if(!(t<=this._lastCalledOrder+1))return[3,1];for(r in n(),t===this._lastCalledOrder+1&&(this._lastCalledOrder=t),this._queue)this._queue.hasOwnProperty(r)&&(i=parseInt(r,10),this._queue.hasOwnProperty(i)&&null!==this._queue[i]&&i===this._lastCalledOrder+1&&(this._queue[i].forEach((function(e){return e()})),this._lastCalledOrder=i,this._queue[i]=null));return[3,3];case 1:return this._queue[t]=this._queue[t]||[],this._queue[t].push(n),this._timer?[3,3]:(this._timer=Lo()(e.ORDERED_BLOCK_WAITING_TIME).then((function(){for(var e in o._timer=null,o._queue)if(o._queue.hasOwnProperty(e)&&null!==o._queue[e]){for(var t=0;t<o._queue[e].length;t++)o._queue[e][t]();o._queue[e]=null}})),[4,this._timer]);case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},e.prototype._getElementOrder=function(e){return e.blocks[0].options.json.order},e.instance=null,e.ORDERED_BLOCK_WAITING_TIME=500,e}(),dp=pp,fp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},hp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},mp=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},gp=Z(i(8916)),bp=function(){function e(){this._prioritizer=dp.getInstance(),this.unhandledDebugs=[],this.savedFeeds={},this.savedFeedsOptions={},this.feed_links_parsed=!1,this.__blocks=[],this._graph=new $l,this.feedBlocksStore=new Au(this),this._feed=new sp(this._graph,this.feedBlocksStore),this.scriptLoader=new ju(this),this.Customization=new cp(this)}return e.prototype.handleSSPSyncLinks=function(e){this.feed_links_parsed||(setTimeout((function(){e.links&&e.links.length>0&&Ql.parseLinks(e)}),1e3),e.links&&e.links.length>0&&(this.feed_links_parsed=!0))},e.prototype.showAdCaller=function(e,t,n,r){return vp(this,void 0,void 0,(function(){var i,o;return mp(this,(function(a){switch(a.label){case 0:return e.blockData.blockEl=document.createElement("div"),e.blockData.blockEl.id="begun_block_".concat(e.blockData.block_id),(i=Array.from(t.querySelectorAll("#begun_block_".concat(e.blockData.block_id)))).length>0&&(t.dataset.begunBlockRepeated="yes"),i.forEach((function(e){e.parentNode.removeChild(e)})),t.appendChild(e.blockData.blockEl),location.pathname.includes("/msk/restaurant")&&"www.afisha.ru"===location.hostname&&(o=document.createElement("div"),e.blockData.blockEl.appendChild(o)),[4,this._feed.processFeed({feed:e.feed,blockData:e.blockData,nbanner:n,doWipe:r})];case 1:return a.sent(),[2]}}))}))},e.prototype.showAd=function(e,t,n,r){var i,o,a,s,c,u,l,p,d,f;return vp(this,void 0,void 0,(function(){var h,v,m;return mp(this,(function(g){switch(g.label){case 0:return e=this._processDivID(e,t),(h="string"==typeof e?document.getElementById(e):e)?(void 0===n&&(v=this._store.get("".concat(Sn(t),".nbanner")),n="number"!=typeof v?0:v+1),this._store.set("".concat(Sn(t),".nbanner"),n),"object"!=typeof t?[3,2]:(this.savedFeeds[t.feed.params.impression_id]=t,[4,this._prioritizer.handle({bannerInsertionCallback:this.showAdCaller.bind(this,t,h,n,r),feed:t.feed})])):(gp.log(500,'There is no block with id "'.concat(e,'" on the page'),{url:document.URL,divID:e}),[2]);case 1:return g.sent(),[3,5];case 2:return this.savedFeeds&&this.savedFeeds[t]?[4,this._prioritizer.handle({bannerInsertionCallback:this.showAdCaller.bind(this,this.savedFeeds[t],h,n,r),feed:this.savedFeeds[t].feed})]:[3,4];case 3:return g.sent(),[3,5];case 4:gp.log(500,"No feed found"),g.label=5;case 5:return n>0&&(m=Sn(t),this._adInitializer.bannerIsRendered(e,{sspJparams:null===(o=null===(i=this.savedFeeds[m])||void 0===i?void 0:i.blockData)||void 0===o?void 0:o.jparams,optionsB:{"begun-auto-pad":null===(s=null===(a=this.savedFeeds[m])||void 0===a?void 0:a.blockData)||void 0===s?void 0:s.pad_id,"begun-block-id":null===(u=null===(c=this.savedFeeds[m])||void 0===c?void 0:c.blockData)||void 0===u?void 0:u.block_id,rqNumber:null===(p=null===(l=this.savedFeeds[m])||void 0===l?void 0:l.blockData)||void 0===p?void 0:p.rqNumber,calledMethod:null===(f=null===(d=this.savedFeeds[m])||void 0===d?void 0:d.blockData)||void 0===f?void 0:f.method},syncShowResult:Ne.shown,impressionID:m})),[2]}}))}))},e.prototype.addBlock=function(e,t,n){var r={block_id:e["begun-block-id"],categories:e["begun-self-categories"],click_wrap:e["begun-click-wrap"],format_h:e["begun-format-h"],format_w:e["begun-format-w"],jparams:e.params,keywords:e["begun-self-keywords"],pad_id:e["begun-auto-pad"],parent_elt:e["begun-parent-elt"],session_key:e.sessionKey,misc:e["begun-misc"],force_new_session:e.forceNewSession,method:e.calledMethod,div_id:n.id||n,rqNumber:e.rqNumber,callback:t,shouldFreezeWrapperHeight:e.shouldFreezeWrapperHeight,wipeBeforeRender:e.wipeBeforeRender,ya_block_id:e.ya_block_id,ad_unit_name:e.ad_unit_name,authParams:e.authParams};e.publisher_uid&&e.publisher_uid_scope&&(r.publisher_uid=e.publisher_uid,r.publisher_uid_scope=e.publisher_uid_scope),e.begun_metric_before_feed_load&&((new Image).src=e.begun_metric_before_feed_load),this._feed.loadFeed({blockData:r,divID:n,savedFeeds:this.savedFeeds,savedFeedsOptions:this.savedFeedsOptions})},e.prototype.begunToolbarLoaded=function(){if(this._toolbarHelper.toolbar&&this._toolbarHelper.toolbar.init)for(;this.unhandledDebugs.length>0;)this._toolbarHelper.toolbar.init(this.unhandledDebugs.pop())},e.prototype.getBannerData=function(e){return"object"==typeof e?e:this.savedFeeds&&this.savedFeeds[e]?this.savedFeeds[e]:void 0},e.prototype.registerGraphBannerDomains=function(e){this._feed.registerGraphBannerDomains(e)},e.prototype._processDivID=function(e,t){var n=this._store.get("".concat(Sn(t),".divID"));return n||(this._store.set("".concat(Sn(t),".divID"),e),e)},fp([p(t.Store),hp("design:type",Object)],e.prototype,"Storage",void 0),fp([p(t.EventEmitter),hp("design:type",Object)],e.prototype,"Callbacks",void 0),fp([p(t.Store),hp("design:type",Object)],e.prototype,"_store",void 0),fp([p(t.ToolbarHelper),hp("design:type",He)],e.prototype,"_toolbarHelper",void 0),fp([p(t.MethodsInitializer),hp("design:type",Object)],e.prototype,"_adInitializer",void 0),e}(),yp=bp;var wp=function(e,t,n,r){if(!dt(e))return e;for(var i=-1,o=(t=mn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=gn(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=dt(l)?l:qn(t[i+1])?[]:{})}Aa(s,c,u),s=s[c]}return e};var _p=function(e,t,n){return null==e?e:wp(e,t,n)};var Sp=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Ep=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var kp=function(e,t){return t.length<2?e:bn(e,Ep(t,0,-1))};var Op=function(e,t){return t=mn(t,e),null==(e=kp(e,t))||delete e[gn(Sp(t))]};var Tp=function(e,t){return null==e||Op(e,t)},xp=Object.prototype.hasOwnProperty;var Pp=function(e,t){return null!=e&&xp.call(e,t)};var Ip=function(e,t){return null!=e&&Mi(e,t,Pp)},Ap=function(){function e(){this._state={}}return e.prototype.set=function(e,t){_p(this._state,e,t)},e.prototype.get=function(e){return wn(this._state,e,void 0)},e.prototype.delete=function(e){return Tp(this._state,e)},e.prototype.has=function(e){return Ip(this._state,e)},e.prototype.clear=function(){this._state={}},e.prototype.incProperty=function(e,t){"object"!=typeof this._state[e]?(this._state[e]={},this._state[e][t]=0):this._state[e][t]="number"==typeof this._state[e][t]?this._state[e][t]+1:0},e}(),Cp=function(e,t,n){this.callback=e,this.context=t,this.once=n||!1},Rp="~",Dp=Object.prototype.hasOwnProperty;function jp(){}Object.create&&(jp.prototype=Object.create(null),(new jp).__proto__||(Rp=!1));var Bp=function(){function e(){this.eventsCount=0,this.events=new jp}return e.prototype.getEventNames=function(){var e=[],t=this.events;if(0===this.eventsCount)return e;for(var n in t)Dp.call(t,n)&&e.push(Rp?n.slice(1):n);return e},e.prototype.getListeners=function(e){var t=Rp?Rp+e:e,n=this.events[t];return n?Array.isArray(n)?n:[n]:[]},e.prototype.getListenerCount=function(e){var t=Rp?Rp+e:e,n=this.events[t];return n?Array.isArray(n)?n.length:1:0},e.prototype.addListener=function(e){var t=e.event,n=e.callback,r=e.context,i=void 0===r?null:r,o=e.once,a=void 0!==o&&o;if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new Cp(n,i||this,a),c=Rp?Rp+t:t;return this.events[c]?Array.isArray(this.events[c])?this.events[c].push(s):this.events[c]=[this.events[c],s]:(this.events[c]=s,this.eventsCount++),this},e.prototype.addListenerOnce=function(e){var t=e.event,n=e.callback,r=e.context,i=void 0===r?null:r;return this.addListener({event:t,callback:n,context:i,once:!0})},e.prototype.removeListener=function(e){var t=e.event,n=e.callback,r=e.context,i=void 0===r?null:r,o=e.once,a=void 0!==o&&o,s=Rp?Rp+t:t;if(!this.events[s])return this;var c=this.events[s],u=[];if(Array.isArray(c)){for(var l=0;l<c.length;l++)(c[l].callback!==n||a&&!c[l].once||i&&c[l].context!==i)&&u.push(c[l]);u.length>0?this.events[s]=1===u.length?u[0]:u:this.clearEvent(s)}else c.callback!==n||a&&a!==c.once||i&&c.context!==i||this.clearEvent(s);return this},e.prototype.removeAllListeners=function(e){var t;return e?(t=Rp?Rp+e:e,this.events[t]&&this.clearEvent(t)):(this.events=new jp,this.eventsCount=0),this},e.prototype.emit=function(e,t){void 0===t&&(t=null);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Rp?Rp+e:e;if(!this.events[i])return!1;var o=this.events[i];if(Array.isArray(o))for(var a=0;a<o.length;a++)o[a].once&&this.removeListener({event:e,callback:o[a].callback,context:void 0,once:!0}),o[a].callback.apply(t||o[a].context,n);else o.once&&this.removeListener({event:e,callback:o.callback,context:null,once:!0}),o.callback.apply(t||o.context,n);return!0},e.prototype.clearEvent=function(e){0==--this.eventsCount?this.events=new jp:delete this.events[e]},e}(),Np=Bp,Fp=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Mp=function(){function e(){this.Emitter=new Np}return Object.defineProperty(e.prototype,"callbacksNew",{get:function(){return this.Emitter.getEventNames()},enumerable:!1,configurable:!0}),e.prototype.register=function(e,t){this.extendNew(e,t)},e.prototype.unregister=function(e,t,n){n?this.Emitter.removeListener({event:"".concat(e,"_").concat(t),callback:n}):this.Emitter.removeAllListeners("".concat(e,"_").concat(t))},e.prototype.dispatch=function(e,t,n,r,i){var o;void 0===n&&(n=null),void 0===r&&(r=[]);try{(o=this.Emitter).emit.apply(o,Fp(["".concat(e,"_").concat(t),n],r,!1))}catch(n){console.error("Occurred error during dispatching ".concat(e,"_").concat(t," event"),n)}i&&this.unregister(e,t)},e.prototype.extendNew=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&"object"==typeof e[n])for(var r in e[n])("function"==typeof e[n][r]&&e[n].hasOwnProperty(r)||e[n][r].hasOwnProperty("name")&&""!==e[n][r].name)&&this.Emitter.addListener({event:"".concat(n,"_").concat(r),callback:e[n][r],context:t})},e}(),Lp=Mp,Vp=function(){function e(){this.callbacks={},this.SCHEME_REGEX=/^[^:\/?#]+:/,this.SECURE_PROTOCOL="https:",this.DEFAULT_PROTOCOL="http:",window.context&&window.context.location&&(window.context.location.protocol||window.context.location.href)?window.context.location.protocol?this.protocol=window.context.location.protocol.toLowerCase():this.protocol=window.context.location.href.split(":").shift().toLowerCase():this.protocol=document.location.protocol.toLowerCase(),this.protocol="".concat(this.protocol.split(":").shift(),":"),this.required={},this.toRun=[]}return e.prototype.getConformProtocol=function(){var e;return e=this.SECURE_PROTOCOL===this.protocol?this.SECURE_PROTOCOL:this.DEFAULT_PROTOCOL,(this.getConformProtocol=function(){return e})()},e.prototype.conformProtocol=function(e,t){return"string"==typeof t&&t.length||(t=this.getConformProtocol()),e.replace(this.SCHEME_REGEX,t)},e.prototype.hasDomain=function(e){var t=/^\/\//.test(e);return t||(t=this.SCHEME_REGEX.test(e)),t},e.prototype.isLastRequired=function(e){var t=0;for(var n in this.required)this.required.hasOwnProperty(n)&&this.required[n]&&(this._norm(n,!0)===this._norm(e,!0)?delete this.required[n]:t+=1);return t<1},e.prototype.addStrictFunction=function(e){for(var t=e.toString(),n=0;n<this.toRun.length;n++)if(this.toRun[n].toString()===t)return;this.toRun.push(e)},e.prototype._norm=function(e,t){return null!=e&&(0===e.indexOf(f())||this.hasDomain(e)||(e=f()+e.replace(/\?.*$/,"")),t&&(e=e.replace(/acp\/([^.]+)\.[0-9a-f]*(?=\.js)/,"$1"))),e},e}(),Hp=Vp,Up=function(){return Up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Up.apply(this,arguments)},Wp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},qp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},zp=function(){function e(e,t,n,r){void 0===t&&(t=Date.now());var i=this;this._isLogged=!1,this._isCanceled=!1,this._webAudio={promise:void 0},this._logReached=function(){var e,t,n,r,o,a;if(!i._isLogged){if(i._getControlledConfig()&&(0,En.removeEventListener)(window,"changestate",i._logReached),1===i._requestParams.reached){var s=i._contextService.savedFeeds[i._requestParams.impression_id],c=null===(t=null===(e=null==s?void 0:s.feed)||void 0===e?void 0:e.banners)||void 0===t?void 0:t.graph,u="",l=0;if(c&&c.length){var p=c[0];u=p.view_type.includes(Do.ATOMS)?"atoms":p.mime,l=p.banner_id}i._calcTimeTillShow(),i._metricsTransport.logMetrics({divId:null===(n=i._requestParams.node_id)||void 0===n?void 0:n.toString(),eventType:te.reached,impressionId:i._requestParams.impression_id,misc:null===(a=null===(o=null===(r=null==s?void 0:s.feed)||void 0===r?void 0:r.params)||void 0===o?void 0:o.marks)||void 0===a?void 0:a.misc,mime:u,monetizerId:l,bannerTime:NaN})}i._isLogged=!0}},this.targetElement=he(e),this._requestParams=Up({},n),this._optionsB=r,this._timestampOfTargetElementObservationStart=t,this.targetElement?(this._setWatchers(),this._processBannerPlaceSearch(r)):(this.setRequestParamValue("reached",0),this._logReached());var o=this._getControlledConfig();!this._isLogged&&o&&(0,En.addEventListener)(window,"changestate",this._logReached),this._onUnloadCaller=new ue(this._logReached),this._webAudio.promise=this._userID.getWebAudioFp(),this._webAudio.promise.then((function(e){i._webAudio.fp=e}))}return e.prototype.setRequestParamValue=function(e,t){this._requestParams[e]=t},e.prototype.cancel=function(){var e,t;this._isCanceled=!0,this.setRequestParamValue("reached",0),null===(e=this._intersectionObserver)||void 0===e||e.disconnect(),null===(t=this._targetRemovalDetection)||void 0===t||t.disconnect(),this._logReached()},e.prototype.getWebAudioPromise=function(){return this._webAudio.promise},e.prototype._processBannerPlaceSearch=function(e){var t=this;this._renderingWatcherFactory(this.targetElement,e,!1).start().then((function(e){document.body.contains(e.actualBannerPlace)&&t.setActualBannerPlace(e.actualBannerPlace)}))},e.prototype.setActualBannerPlace=function(e){var t,n;e&&e!==this.targetElement&&!this._isCanceled&&(null===(n=null===(t=this._intersectionObserver)||void 0===t?void 0:t.disconnect)||void 0===n||n.call(t),this.targetElement=e,this._setWatchers())},e.prototype._setWatchers=function(){this._trackReach(),this._detectTargetRemoval()},e.prototype._detectTargetRemoval=function(){var e,t=this,n=!1;this._targetRemovalDetection=new MutationObserver((function(r){for(var i=0,o=r;i<o.length;i++){var a=o[i],s=a.addedNodes,c=a.removedNodes;s.length&&n&&(t.setRequestParamValue("reached",0),t.setActualBannerPlace(s[0]),t._processBannerPlaceSearch(this._optionsB)),s.length&&(e=s[0]),c.length&&Array.from(c).includes(e)&&(n=!0)}})),this._targetRemovalDetection.observe(this.targetElement,{childList:!0})},e.prototype._trackReach=function(){var e=this;1!==this._requestParams.reached?(this._intersectionObserver=new IntersectionObserver((function(t){(null==t?void 0:t[0]).isIntersecting&&(e.setRequestParamValue("reached",1),e._intersectionObserver.disconnect(),e._logReached())}),{root:null,rootMargin:"0px",threshold:[0]}),this._intersectionObserver.observe(this.targetElement)):this._logReached()},e.prototype._calcTimeTillShow=function(){return Math.abs(Date.now()-this._timestampOfTargetElementObservationStart)},e.prototype._getControlledConfig=function(){return this._config.getConfigValue("COLLECT_ANALITYCS_ON_HISTORY_CHANGE")},Wp([p(t.UserID),qp("design:type",Bc)],e.prototype,"_userID",void 0),Wp([p(t.BegunAutocontext),qp("design:type",Object)],e.prototype,"_contextService",void 0),Wp([p(t.Config),qp("design:type",Object)],e.prototype,"_config",void 0),Wp([p(t.MetricsTransport),qp("design:type",je)],e.prototype,"_metricsTransport",void 0),Wp([p(t.RenderingWatcherFactory),qp("design:type",Function)],e.prototype,"_renderingWatcherFactory",void 0),e}(),Gp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Xp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jp=function(e){return"".concat(e,".statLogger")},$p=function(){function e(e,t,n,r){void 0===t&&(t=Date.now());var i=Me(e),o=this._store.get(Jp(i));o&&(o.cancel(),this._store.delete(Jp(i))),this._store.set(Jp(i),new zp(e,t,n,r))}return Gp([p(t.Store),Xp("design:type",Object)],e.prototype,"_store",void 0),e}(),Kp=function(e){var t=e.styleNonceValue,n=e.bannerClassName,r=e.widthValue,i=e.heightValue,o=e.source;return'\n  <iframe\n    src="'.concat(o,'"\n    allow="clipboard-write self https://dsp-rambler.ru"\n    scrolling="no"\n    frameborder="0"\n    marginheight="0"\n    marginwidth="0"\n    sandbox="allow-scripts allow-forms allow-popups allow-same-origin allow-popups-to-escape-sandbox"\n    class="').concat(n,'"\n  ></iframe>\n  <style type="text/css" nonce="').concat(t,'">\n    .').concat(n," {\n      display: inherit;\n      width: ").concat(r,";\n      height: ").concat(i,";\n    }\n  </style>\n")},Yp=function(e){var t=e.impressionID;return'<div class="xhtml_banner" id="axhtml-'.concat(t,'"></div>')},Qp=function(e){var t=e.impressionID,n=e.styleNonceValue,r=e.bannerClassName,i=e.widthValue,o=e.heightValue;return'\n  <iframe\n    scrolling="no"\n    allow="clipboard-write self https://dsp-rambler.ru"\n    frameborder="0"\n    marginheight="0"\n    marginwidth="0"\n    id="axhtml-'.concat(t,'"\n    sandbox="allow-scripts allow-forms allow-popups allow-same-origin allow-popups-to-escape-sandbox"\n    class="xhtml_banner ').concat(r,'"\n  >\n  </iframe>\n  <style type="text/css" nonce="').concat(n,'">\n    .').concat(r," {\n      display: inherit;\n      width: ").concat(i,";\n      height: ").concat(o,";\n    }\n  </style>\n")},Zp=function(e){var t=e.url,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.styleNonceValue,a=e.bannerClassName,s=e.widthValue,c=e.heightValue;return'\n  <a href="'.concat(n,'" target="_blank">\n    <img src="').concat(i,'" border="0" class="').concat(a,'" />\n  </a>\n  <style type="text/css" nonce="').concat(o,'">\n    .').concat(a," {\n      display: inherit;\n      width: ").concat(s,";\n      height: ").concat(c,";\n    }\n  </style>\n")},ed=function(){return""},td=function(){function t(){}return t.prototype.getBannerTemplate=function(t){return e[t]},t}(),nd=function(){return nd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nd.apply(this,arguments)},rd=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},id=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},od=function(){function e(){this.defaultOpts={mute:!0}}return e.prototype.startVideo=function(e,t){return rd(this,void 0,void 0,(function(){var n,r,i,o,a,s;return id(this,(function(c){switch(c.label){case 0:n={success:!0},r=Ll(),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,this.getVastPlaybackLazy()];case 2:return i=c.sent(),[4,(o=new i({containerElement:e})).load(nd(nd(nd({},this.defaultOpts),{onLoadLogger:function(e){r({event:bl.VAST_RECEIVED,url:e})},onErrorAfterLoadLogger:function(e){r({event:bl.SOME_ERROR_AFTER_VAST_RECEIVED,url:e})}}),t))];case 3:return c.sent(),[4,o.startWhenVisible()];case 4:return(a=c.sent()).error&&(n={success:!1,error:a.error}),[3,6];case 5:return s=c.sent(),r({event:bl.VAST_NOT_RECEIVED_ERROR,description:s.message}),n={success:!1,error:s},[3,6];case 6:return[2,n]}}))}))},e.prototype.getVastPlaybackLazy=function(){return rd(this,void 0,void 0,(function(){var e;return id(this,(function(t){switch(t.label){case 0:return this.VastPlaybackClass?[3,2]:[4,i.e(723).then(i.bind(i,4289))];case 1:e=t.sent(),this.VastPlaybackClass=e.VastPlayback,t.label=2;case 2:return[2,this.VastPlaybackClass]}}))}))},e}(),ad=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};l.bind(t.SyncShow).to(Pn).inSingletonScope(),l.bind(t.AdfUtil).to(To).inSingletonScope(),l.bind(t.MethodsInitializer).to(Pu).inSingletonScope(),l.bind(t.BegunAutocontext).to(yp).inSingletonScope(),l.bind(t.BegunScripts).to(Hp).inSingletonScope(),l.bind(t.MonitorClass).to(Vu).inSingletonScope(),l.bind(t.Refresher).to(Cn).inSingletonScope(),l.bind(t.InViewTimerStarter).to(ba).inSingletonScope(),l.bind(t.DataLoader).toValue(new Tl),l.bind(t.SSPRequestsSessionsObserver).to(xs).inSingletonScope(),l.bind(t.EventEmitter).to(Lp).inSingletonScope(),l.bind(t.Store).to(Ap).inSingletonScope(),l.bind(t.ConfigOptions).toValue(i(5377)),l.bind(t.Config).to(Ge).inSingletonScope();var sd=ee(window);l.bind(t.ToolbarHelper).toValue(sd.includes(S.NO_TOOLBAR)?new Ue:new He),l.bind(t.MetricsTimer).to(Fe).inSingletonScope(),l.bind(t.blockShowLoggerFactory).toValue((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(zp.bind.apply(zp,ad([void 0],e,!1)))})),l.bind(t.cachedBlockShowLoggerFactory).toValue((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new($p.bind.apply($p,ad([void 0],e,!1)))})),l.bind(t.RenderingWatcherFactory).toValue((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(Wo.bind.apply(Wo,ad([void 0],e,!1)))})),l.bind(t.UserID).toValue(new Bc({onInitFPDiscovery:!0})),l.bind(t.UaParserService).toValue(new(ie())(navigator.userAgent)),l.bind(t.CoveringWatcher).to(vo).inSingletonScope(),l.bind(t.BannerTemplatesStore).to(td),l.bind(t.SSPRequestParamsBuilderFactory).toValue((function(e){return new Wc(e)})),l.bind(t.SSPRequestParamsDirector).to(Yc),l.bind(t.VastPlaybackWrapper).to(od),l.bind(t.PerformanceTemplatesWrapper).to(Cl),sd.includes(S.METRICS)||Math.random()<1?l.bind(t.MetricsTransport).toValue(je.getInstance()):l.bind(t.MetricsTransport).to(Be).inSingletonScope();var cd,ud,ld=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},pd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},dd=function(){function e(){this.mobileScrollRate=(window.Adf?window.Adf.mobileScrollRate:0)||0,this.desktopScrollRate=(window.Adf?window.Adf.desktopScrollRate:0)||0}return ld([p(t.AdfUtil),pd("design:type",Object)],e.prototype,"util",void 0),ld([p(t.MethodsInitializer),pd("design:type",Object)],e.prototype,"banner",void 0),ld([p(t.Refresher),pd("design:type",Cn)],e.prototype,"refresher",void 0),e}(),fd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},hd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vd=function(){function e(){if(this.Asynced=!0,this.loaderCallbacks=[],this.emptySSPResponses={},void 0!==this.loaderCallbacks)for(var e=0;e<this.loaderCallbacks.length;e++)this.loaderCallbacks[e]()}return fd([p(t.BegunAutocontext),hd("design:type",Object)],e.prototype,"Autocontext",void 0),fd([p(t.BegunScripts),hd("design:type",Object)],e.prototype,"Scripts",void 0),fd([p(t.ToolbarHelper),hd("design:type",He)],e.prototype,"toolbarHelper",void 0),e}(),md=vd,gd=function(){function e(){}return e.attemptPreload=function(){e.checkPlace()&&e.optimizeDomain()},e.checkPlace=function(){return e.places.some((function(e){return window.location.href.includes(e)||document.referrer.includes(e)}))},e.optimizeDomain=function(){Object.keys(e.optimizedDomains).forEach((function(t){e.createLink(e.optimizedDomains[t],"preconnect"),e.createLink(e.optimizedDomains[t],"dns-prefetch")}))},e.createLink=function(e,t){var n=document.createElement("link");n.rel=t,n.href=e,"preconnect"===t&&(n.crossOrigin="anonymous"),(document.head||document.body).appendChild(n)},e.optimizedDomains=["https://bs.serving-sys.com","https://secure-ds.serving-sys.com"],e.places=["lenta.ru","www.championat.com"],e}(),bd=gd,yd=function(){function e(){}return e.preloadSizmek=function(){bd.attemptPreload()},e}();cd=d(t.Config)().getConfigValue("STYLE_NONCE_VALUE"),(ud=document.createElement("style")).innerHTML=i(1485),ud.setAttribute("nonce",cd),document&&(document.body||document.head).appendChild(ud),window.Adf=new dd,window.Begun=new md,window.Begun.Autocontext.Callbacks.dispatch(Y.LIB,Q.INIT),yd.preloadSizmek()}(),SSPjs=o}();